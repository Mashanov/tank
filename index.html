<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Танки против зомби</title>
    </head>
    <style>
        * {
    margin: 0;
    padding: 0;
    user-select: none;
    font-family: sh;
}

body {
    background: rgb(134, 173, 61);
    height: fit-content;
    min-width: -webkit-fill-available;
    min-height: -webkit-fill-available;
    position: absolute;
    width: fit-content;
    overflow: hidden;
    box-shadow: inset 0px 0px 150px #00000085;
}

#con-map {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: auto;
}

#map {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    height: fit-content;
    margin: auto;
    width: fit-content;
}

div[data-string] {
    display: flex;
}

div[data-block] {
    position: relative;
    width: 50px;
    height: 50px;
    border: 1px solid #ffffff17;
    box-sizing: border-box;
    float: left;
    transition: 0.3s;
    cursor: pointer;
    background-repeat: no-repeat;
    text-align: center;
    line-height: 50px;
}

div[data-block]:hover {
    background-color: rgba(147, 231, 165, 0.37);
}

.monster {
    position: absolute;
    width: 35px;
    height: 35px;
    transition: 0.1s;
    top: 0;
    left: 0;
    z-index: 1;
}

.imageMonster {
    position: absolute;
    width: 35px;
    height: 35px;
    background-position: 50%;
    transition: 0.1s;
    top: 0;
    left: 0;
}

.hpBlock {
    position: absolute;
    width: 35px;
    height: 5px;
    border: 1px solid #fff;
    top: -15px;
    left: -5px;
}

#hp {
    position: fixed;
    width: 100px;
    height: 100px;
    border: 3px solid #fff;
    border-radius: 50%;
    box-sizing: border-box;
    left: calc(50% - 35px);
    top: 20px;
    color: #fff;
    text-align: center;
    box-shadow: 1px 1px 1px #4f5354;
    z-index: 1;
    pointer-events: none;
}

#textHp {
    position: absolute;
    width: inherit;
    left: -3px;
    top: 35px;
    text-shadow: 1px 1px 1px #4f5354;
    font-size: 150%;
}

.hp {
    position: absolute;
    width: 100%;
    height: 5px;
    background-color: rgb(209, 110, 110);
}

.tower1 {
    position: absolute;
    width: 50px;
    height: 50px;
    left: 0;
    top: 0;
    background-image: url(images/tower.png);
    background-size: 800%;
    background-repeat: no-repeat;
    background-position: -83px -100px;
    transition: 0.3s;
    z-index: 1;
}

.tower1:hover .zona {
    opacity: 1;
}

.zona {
    position: absolute;
    width: 150px;
    height: 150px;
    background-color: rgba(0, 128, 0, 0.397);
    left: -50px;
    top: -50px;
    z-index: -1;
    transition: 0.3s;
    opacity: 0;
    pointer-events: none;
    border-radius: 50%;
}

.userBlock {
    position: fixed;
    z-index: 2;
    left: 20px;
    top: 0;
}

.userPhoto {
    position: absolute;
    top: 25px;
    width: 70px;
    height: 70px;
    background-image: url(images/camera.jpg);
    background-size: cover;
    background-position: 50%;
    background-repeat: no-repeat;
    border-radius: 50%;
    box-sizing: border-box;
}

.userName {
    position: absolute;
    color: #fff;
    font-size: 130%;
    font-weight: bold;
    top: 35px;
    width: max-content;
    text-shadow: 1px 1px 1px #4f5354;
    left: 90px;
}

.userRe {
    position: absolute;
    color: #fff;
    top: 60px;
    left: 90px;
    width: max-content;
    text-shadow: 1px 1px 1px #4f5354;
}

#goldBlock {
    position: absolute;
    width: max-content;
    height: 40px;
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    left: 0;
    top: 110px;
    padding-left: 10px;
    padding-right: 10px;
    color: #fff;
    display: none;
}

#nextWave {
    position: absolute;
    bottom: 30px;
    width: 100%;
    text-align: center;
    pointer-events: none;
    color: #fff;
    font-family: 'sh';
    text-shadow: 1px 1px 1px #4f5354;
    z-index: 1;
}

#wave {
    position: absolute;
    bottom: 50px;
    width: 100%;
    text-align: center;
    pointer-events: none;
    color: #fff;
    font-family: 'sh';
    text-shadow: 1px 1px 1px #4f5354;
    z-index: 1;
}

#flag {
    position: fixed;
    width: 40px;
    height: 40px;
    top: 50px;
    left: calc(50% + 90px);
    cursor: pointer;
    z-index: 1;
}

#scale {
    position: fixed;
    right: 20px;
    bottom: 80px;
    width: 30px;
    height: 60px;
    background-color: rgba(0, 0, 0, 0.4);
    border-radius: 5px;
    color: #fff;
    font-size: 150%;
    font-weight: bold;
    text-align: center;
    display: grid;
    line-height: 30px;
    cursor: pointer;
    z-index: 2;
    opacity: 0;
    pointer-events: none;
}

#hub {
    position: fixed;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    z-index: 1;
    background: linear-gradient(-45deg, #62ff00, #3ce7a0, #23a6d5, #23d5ab);
	background-size: 400% 400%;
	animation: gradient 15s ease infinite;
}

.circles{
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.circles li{
    position: absolute;
    display: block;
    list-style: none;
    width: 20px;
    height: 20px;
    background: rgba(255, 255, 255, 0.2);
    animation: animate 25s linear infinite;
    bottom: -150px;
    
}

.circles li:nth-child(1){
    left: 25%;
    width: 80px;
    height: 80px;
    animation-delay: 0s;
}


.circles li:nth-child(2){
    left: 10%;
    width: 20px;
    height: 20px;
    animation-delay: 2s;
    animation-duration: 12s;
}

.circles li:nth-child(3){
    left: 70%;
    width: 20px;
    height: 20px;
    animation-delay: 4s;
}

.circles li:nth-child(4){
    left: 40%;
    width: 60px;
    height: 60px;
    animation-delay: 0s;
    animation-duration: 18s;
}

.circles li:nth-child(5){
    left: 65%;
    width: 20px;
    height: 20px;
    animation-delay: 0s;
}

.circles li:nth-child(6){
    left: 75%;
    width: 110px;
    height: 110px;
    animation-delay: 3s;
}

.circles li:nth-child(7){
    left: 35%;
    width: 150px;
    height: 150px;
    animation-delay: 7s;
}

.circles li:nth-child(8){
    left: 50%;
    width: 25px;
    height: 25px;
    animation-delay: 15s;
    animation-duration: 45s;
}

.circles li:nth-child(9){
    left: 20%;
    width: 15px;
    height: 15px;
    animation-delay: 2s;
    animation-duration: 35s;
}

.circles li:nth-child(10){
    left: 85%;
    width: 150px;
    height: 150px;
    animation-delay: 0s;
    animation-duration: 11s;
}

#bottomRight {
    position: fixed;
    right: 0;
    bottom: 35px;
    left: 0;
    margin: 0 auto;
    width: fit-content;
    z-index: 1;
}

.buttonBottomRight {
    position: relative;
    float: right;
    bottom: 0;
    margin-left: 15px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    cursor: pointer;
    transition: 0.3s;
}

.buttonBottomRight:hover {
    bottom: 10px;
}

.buttonBottomRight span {
    color: #fff;
    top: 60px;
    position: absolute;
    text-shadow: 1px 1px 1px #4f5354;
    left: 0;
    right: 0;
    margin: 0 auto;
    width: fit-content;
}

.buttonBottomRight svg {
    width: 40px;
    position: absolute;
    left: 10px;
    top: 10px;
}

#buttonGoPlay {
    position: absolute;
    width: 80%;
    height: 55px;
    color: #fff;
    background: linear-gradient(to right, rgb(238 241 17), rgb(245, 175, 25));
    left: 0;
    right: 0;
    bottom: -100px;
    margin: 0 auto;
    text-align: center;
    line-height: 50px;
    font-size: 150%;
    font-family: 'sh';
    border-radius: 15px;
    text-shadow: 1px 1px 1px #4f5354;
    overflow: hidden;
    border: 3px solid #fff;
    box-sizing: border-box;
    cursor: pointer;
    transition: 0.4s;
}

#buttonGoPlay:hover {
    background: linear-gradient(to right, rgb(241 172 17), rgb(245 116 25));
    bottom: -90px;
}

#buttonGoPlay .flare {
    position: absolute;
    top: 0;
    height: 100%;
    width: 45px;
    transform: skewX(-45deg);
    animation: flareAnimation;
    left: -150%;
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.4));
    animation: flareAnimation 3s infinite linear;
}

.topPanel {
    position: relative;
    width: max-content;
    height: 40px;
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    right: 60px;
    top: 30px;
    padding-left: 10px;
    padding-right: 10px;
    color: #fff;
    float: right;
    margin-left: 45px;
    z-index: 1;
    text-shadow: 1px 1px 1px #4f5354;
}

#menuTablo {
    background: repeating-linear-gradient(30deg, #ffffff, #f1f1f5 50px);
    border-radius: 15px;
    left: 0;
    right: 0;
    margin: auto;
    top: 0;
    bottom: 100px;
    width: 65%;
    min-width: 530px;
    height: fit-content;
    position: absolute;
}

.donateButton {
    background: #f9c03e;
    width: 40px;
    height: 40px;
    color: #fff;
    right: -35px;
    position: absolute;
    top: 0;
    text-align: center;
    line-height: 40px;
    font-size: 200%;
    border-radius: 0 10px 10px 0;
    cursor: pointer;
    transition: 0.3s;
}

.donateButton:hover {
    background: #4ad161;
}

#backgroundBlack {
    opacity: 0;
    pointer-events: none;
    transition: 0.5s;
    background-color: #000000a8;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    position: fixed;
    z-index: 2;
}

#voiceMap {
    position: absolute;
    max-width: 1100px;
    width: 100%;
    height: 100%;
    overflow: auto;
    padding-top: 120px;
    top: 0;
    left: 0;
    right: 0;
    margin: 0 auto;
}

#voiceMap::-webkit-scrollbar {
    width: 0;
    height: 5px;
    background-color: #00000000;
}

#voiceMap::-webkit-scrollbar-track {
    background: rgba(0,0,0,0);
}

#voiceMap::-webkit-scrollbar-thumb {
    background: #00000042;;
    border-radius: 5px;
}

#hubMapConstruction {
    position: absolute;
    width: 900px;
    top: 150px;
    transform-style: preserve-3d;
    transform: perspective(10000px) rotateX(-35deg) rotateY(45deg);
}

.mapPlanetImage {
    position: absolute;
    background-repeat: no-repeat;
    background-image: url(images/location/1.png);
    pointer-events: none;
    width: 100px;
    height: 100px;
    margin-top: 50px;
}

.cube {
    width: 50px;
    height: 50px;
    position: absolute;
    transform-style: preserve-3d;
}

.cube > article {
    height: 100%;
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    position: absolute;
    transform-style: preserve-3d;
}

/*.warIcon {
    width: 80px;
    height: 80px;
    background-size: 480px;
    position: absolute;
    background-repeat: no-repeat;
    background-image: url(images/icon.png);
    transform: scale(0.6);
    filter: opacity(0.45);
    cursor: pointer;
    transition: 0.3s;
    margin-top: 50px;
}

.warIcon:hover {
    margin-top: 40px;
}*/

.warCon {
    width: 80px;
    height: 80px;
    position: relative;
    cursor: pointer;
    transition: 0.3s;
    margin: 10px;
    float: left;
    background: #888;
    border: 5px solid #555;
    box-sizing: border-box;
    border-radius: 20px;
}

.warCon > span {
    color: #fff;
    font-size: 160%;
    text-align: center;
    width: 100%;
    position: absolute;
    font-family: 'sh';
}

.warIcon {
    width: 80px;
    height: 80px;
    background-size: 480px;
    position: absolute;
    background-repeat: no-repeat;
    background-image: url(images/icon.png);
    transform: scale(0.7);
    filter: opacity(0.45);
}

#scaleMap {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-evenly;
    margin-bottom: 200px;
}

.openlvlBlock {
    background-position: 0px -140px;
}

.openlvl0 {
    background-position: -90px -140px;
    filter: drop-shadow(0px 0px 10px gold);
}

.openlvl1 {
    background-position: -174px -140px;
    filter: drop-shadow(0px 0px 10px gold);
}

.openlvl2 {
    background-position: -258px -120px;
    filter: drop-shadow(0px 0px 10px gold);
    background-size: 450px;
}

.openlvl3 {
    background-position: -364px -120px;
    filter: drop-shadow(0px 0px 10px gold);
    background-size: 450px;
}

.back   {transform: rotateX(-180deg) translateZ(25px)}
.top    {transform: rotateX( 90deg)  translateZ(25px)}
.front  {transform:                  translateZ(25px)}
.bottom {transform: rotateX(-90deg)  translateZ(25px)}
.left   {transform: rotateY(-90deg)  translateZ(25px)}
.right  {transform: rotateY( 90deg)  translateZ(25px)}

section[data-function="ground"] .top    {background: rgb(134, 173, 61);background-repeat: no-repeat;background-size: 1100%}
section[data-function="ground"] .front  {background: linear-gradient(0deg, #685c4a, #b88236);border-top: 10px solid rgb(95, 126, 37)}
section[data-function="ground"] .left   {background: linear-gradient(0deg, #685c4a, #b88236);border-top: 10px solid rgb(95, 126, 37)}

section[data-function="water"] .top    {background: #0066ff8c}
section[data-function="water"] .front  {background: #0066ff8c}

.curcleVoiceTower {
    width: 40px;
    height: 40px;
    background: #b7592c;
    border-radius: 50%;
    box-sizing: border-box;
    border: 2px solid #dfa12f;
    position: absolute;
    z-index: 2;
    opacity: 0;
    transition: 0.5s;
}

.curcleVoiceTower:hover {
    background: #dbb322
}

/* При нажатии на пустую клетку */
.curcleVoiceTower:nth-child(1) {
    left: -25px;
    top: -25px;
}

.curcleVoiceTower:nth-child(3) {
    left: 25px;
    top: -25px;
}

.curcleVoiceTower:nth-child(4) {
    left: 25px;
    top: 25px;
}

.curcleVoiceTower:nth-child(5) {
    left: -25px;
    top: 25px;
}

.curcleVoiceTower:nth-child(6) {
    left: 25px;
    top: 25px;
}

.curcleVoiceTower:nth-child(7) {
    left: 25px;
    top: 25px;
}

/* При нажатии на уже существующую башню */
    .curcleVoiceTower:nth-child(2) {
        left: 0px;
        top: -25px;
    }

    .curcleVoiceTower > span {
        color: #fff;
        position: absolute;
        height: inherit;
    }


div[data-block] > span {
    color: #fff;
    text-shadow: #000 0px 1px 1px;
    position: absolute;
    font-family: sh, fantasy;
    z-index: 2;
    pointer-events: none;
}

div[data-block] > span:nth-child(2) {
    left: -25px;
    top: -45px;
}

div[data-block] > span:nth-child(4) {
    left: 25px;
    top: -45px;
}

div[data-block] > span:nth-child(6) {
    left: -25px;
    top: 5px;
}

div[data-block] > span:nth-child(8) {
    left: 25px;
    top: 5px;
}

.curcleVoiceTower > svg {
    width: 25px;
    margin-top: 5px;
}

#imageLvl {
    position: relative;
    width: 50%;
    height: 150px;
    background-color: #6c9867;
    border-radius: 10px;
    margin-top: 15px;
    margin-bottom: 15px;
    left: 15px;
    background-position: 50%;
    background-size: contain;
    background-repeat: no-repeat;
}

#nameMis {
    position: absolute;
    color: #333;
    font-size: 150%;
    left: 55%;
    top: 20px;
}

#numMis {
    position: absolute;
    color: #8f8f8f;
    font-size: 120%;
    left: 55%;
    top: 55px;
}

#rewardText {
    position: absolute;
    color: #8f8f8f;
    font-size: 120%;
    left: 55%;
    top: 100px;
}

#closeMenuTablo {
    position: absolute;
    left: 103%;
    color: #fff;
    top: 0;
    text-shadow: 1px 1px 1px #4f5354;
    font-size: 200%;
    cursor: pointer;
    transition: 0.3s;
}

#closeMenuTablo:hover {
    color: #ff5d5d;
    text-shadow: none;
}

#moneyRewardMenu {
    position: absolute;
    bottom: 10px;
    width: 40px;
    left: 55%;
}

.moneyRewardMenu {
    position: relative;
    bottom: 0;
    width: 80px;
    left: 0;
}

.winRewardWar {
    position: relative;
    left: 0;
    top: auto;
    bottom: 30px;
    font-size: 160%;
}

#chipRewardMenu {
    position: absolute;
    top: 130px;
    width: 30px;
    left: 70%;
}

.winRewardMenu {
    position: absolute;
    color: #333;
    top: 137px;
    font-size: 120%;
}

#moneyHub {
    letter-spacing: 2px;
    margin-left: 40px;
    position: relative;
    top: 10px;
    text-shadow: 1px 1px 1px #4f5354;
}

#textResultWar {
    position: relative;
    text-align: center;
    font-size: 120%;
    margin-top: 20px;
    color: #8f8f8f;
}

#con-star {
    position: relative;
    width: 100%;
    display: flex;
    justify-content: center;
}

.star {
    position: relative;
    margin-left: 10px;
    margin-right: 10px;
    filter: drop-shadow(0px 5px 10px orange);
}

#tabName {
    position: relative;
    text-align: center;
    color: #fff;
    text-shadow: #00000045 0px 3px 3px;
    line-height: 70px;
    height: 70px;
    font-size: 180%;
    background: linear-gradient(45deg, #f9c03e, #ff6a00);
}

#topPanelShop {
    height: 40px;
    width: 65%;
    min-width: 530px;
    position: fixed;
    background: #ececff;
}

.tabShop {
    position: relative;
    width: fit-content;
    padding-left: 10px;
    padding-right: 10px;
    height: inherit;
    display: inline-block;
    text-align: center;
    line-height: 40px;
    cursor: pointer;
    transition: 0.2s;
    color: #333;
    background: rgba(255, 255, 255, 0);
}

.tabShop:hover {
    color: #f9c03e;
    background: #0000ff17;
}

.tabShop[dataVoiceShopTab] {
    color: #ff7a2c;
}

#mapsShop {
    position: relative;
    overflow: auto;
    width: calc(100% - 40px);
    height: calc(100% - 130px);
    margin-top: 65px;
    padding-left: 20px;
    padding-right: 20px;
    display: flex;
    justify-content: space-evenly;
    flex-wrap: wrap;
}

#mapsShop::-webkit-scrollbar {
    width: 8px;
    background-color: #00000000;
}

#mapsShop::-webkit-scrollbar-track {
    background: rgba(0,0,0,0);
}

#mapsShop::-webkit-scrollbar-thumb {
    background: #00000042;;
    border-radius: 5px;
}

.mapShop {
    position: relative;
    width: 200px;
    height: 310px;
    display: inline-block;
    transition: 0.2s;
    color: #333;
    background: #fff;
    border: 1px solid #0000ff17;
    margin-bottom: 15px;
    border-radius: 10px;
}

#mapsShop[data-label="shop"] > .mapShop:not([data-name-menu="1"]) {
    height: 200px;
}

.imgMap {
    position: relative;
    width: 180px;
    height: 140px;
    background: #0000ff0f;
    left: 10px;
    background-image: url(images/tower.png);
    background-size: 700%;
    background-repeat: no-repeat;
    border-radius: 10px;
}

.buyShop {
    position: absolute;
    width: 180px;
    height: 40px;
    color: #fff;
    text-align: center;
    border-radius: 10px;
    font-size: 120%;
    line-height: 40px;
    left: 10px;
    bottom: 10px;
}

.buyShop:not([data-buy]) {
    cursor: pointer;
    background: linear-gradient(45deg, #30ed50, #4ad161);
    transition: 0.3s;
}

.buyShop:not([data-buy]):hover {
    background: linear-gradient(20deg, #16934e, #00ff08);
    bottom: 15px;
}

.mapName {
    position: absolute;
    color: #333;
    text-align: center;
    font-size: 120%;
    width: inherit;
}

.mapText {
    position: absolute;
    color: #8f8f8f;
    text-align: center;
    font-size: 90%;
    width: 80%;
    left: 10%;
}

.rechargeMapText {
    position: absolute;
    color: #333;
    font-size: 100%;
    left: 10%;
    top: 210px;
}

.rechargeMap {
    position: absolute;
    width: 70px;
    height: 10px;
    background: #0000ff0f;
    right: 10px;
    top: 220px;
}

.damageMapText {
    position: absolute;
    color: #333;
    font-size: 100%;
    left: 10%;
    top: 230px;
}

.damageMap {
    position: absolute;
    width: 70px;
    height: 10px;
    background: #0000ff0f;
    right: 10px;
    top: 240px;
}

.goal {
    position: absolute;
    height: 10px;
    left: 0;
}

.moneyMap {
    position: relative;
    bottom: 0;
    width: 40px;
    left: 5%;
    float: left;
}

#warning {
    position: fixed;
    left: 0;
    right: 0;
    top: 20px;
    margin: 0 auto;
    z-index: 2;
    background: #fff;
    color: #ff5d5d;
    width: fit-content;
    padding: 10px;
    padding-left: 20px;
    padding-right: 20px;
    font-size: 120%;
    font-family: 'sh';
    border-radius: 30px;
    box-shadow: #0000006b 0px 10px 10px;
    border-bottom: 5px solid #ff5d5d;
    text-align: center;
    display: none;
}

#newVolna {
    position: fixed;
    text-align: center;
    width: 400px;
    max-width: 90%;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    height: fit-content;
    font-size: 500%;
    color: #ffa200;
    background: #00000080;
    border-radius: 35px;
    text-shadow: #ffebe0 3px 3px 0px;
    box-shadow: #000000 0 0 100px;
    pointer-events: none;
    opacity: 0;
    transition: 1s;
    z-index: 1;
}

.imgDecor1 {
    background-size: 1100%;
    background-image: url('images/location/1.png');
    background-position: -50px -175px;
}

.imgDecor2 {
    background-size: 1100%;
    background-image: url('images/location/1.png');
    background-position: -132px -162px;
}

.imgDecor3 {
    background-size: 1000%;
    background-image: url('images/location/1.png');
    background-position: -55px -241px;
}

.imgDecor4 {
    background-size: 1000%;
    background-image: url(images/location/1.png);
    background-position: -55px -241px;
    transform: rotate(90deg);
}

.imgDecor5 {
    background-size: 1000%;
    background-image: url('images/location/1.png');
    background-position: -55px -241px;
    transform: rotate(180deg);
}

.imgDecor6 {
    background-size: 1000%;
    background-image: url('images/location/1.png');
    background-position: -55px -241px;
    transform: rotate(270deg);
}

.imgDecor7 {
    background-size: 1000%;
    background-image: url(images/location/1.png);
    background-position: -89px -97px;
}

.imgDecor8 {
    background-size: 1100%;
    background-image: url("images/location/1.png");
    background-position: -17px -26px;
}

.imgDecor9 {
    background-size: 1050%;
    background-image: url(images/location/1.png);
    background-position: -16px -105px;
}

.imgDecor10 {
    background-size: 1100%;
    background-image: url("images/location/1.png");
    background-position: -99px -26px;
}

.imgDecor11 {
    background-size: 1100%;
    background-image: url("images/location/1.png");
    background-position: -455px -205px;
}

.imgDecor12 {
    background-size: 1100%;
    background-image: url("images/location/1.png");
    background-position: -320px -205px;
}

.imgDecor13 {
    background-size: 1100%;
    background-image: url("images/location/1.png");
    background-position: -375px -205px;
}

.imgDecor14 {
    background-size: 1100%;
    background-image: url("images/location/1.png");
    background-position: -380px -275px;
}

.imgDecor15 {
    background-size: 1100%;
    background-image: url("images/location/1.png");
    background-position: -315px -285px;
}

.imgDecor16 {
    background-size: 900%;
    background-image: url("images/location/1.png");
    background-position: -365px -210px;
}

.imgDecor17 {
    background-size: 900%;
    background-image: url("images/location/1.png");
    background-position: -360px -40px;
}

.imgDecor18 {
    background-size: 900%;
    background-image: url("images/location/1.png");
    background-position: -312px -40px;
}

.imgDecor19 {
    background-size: 650%;
    background-image: url("images/location/1.png");
    background-position: -185px -16px;
}

.imgDecor20 {
    background-size: 1000%;
    background-image: url("images/location/1.png");
    background-position: -199px -239px;
}

.star-tower {
    position: relative;
    width: 15px;
    float: right;
    margin-top: 30px;
}

.but-game-stop {
    position: relative;
    text-align: center;
    height: 40px;
    line-height: 40px;
    font-size: 120%;
    color: #8f8f8f;
    cursor: pointer;
    transition: 0.3s;
}

.but-game-stop:hover {
    color: orange;
}

#energy {
    letter-spacing: 2px;
    margin-left: 30px;
    position: relative;
    top: 10px;
    text-shadow: 1px 1px 1px #4f5354;
}

.resultWarCon {
    position: relative;
    width: fit-content;
    margin: 10px;
}

#gena {
    position: absolute;
    left: 0;
    bottom: 0;
    width: 300px;
    height: 300px;
    background-image: url('images/gena.png');
    background-size: 100%;
}

#genaText {
    position: absolute;
    background-color: #fbb025;
    border: 10px solid #996218;
    border-radius: 15px;
    left: 330px;
    width: calc(100% - 360px);
    bottom: 50px;
    padding: 10px;
    box-sizing: border-box;
}

@keyframes flareAnimation {
    0% {
        left: -150%;
    }
    100% {
        left: 150%;
    }
}

@keyframes animate {

    0%{
        transform: translateY(0) rotate(0deg);
        opacity: 1;
        border-radius: 0;
    }

    100%{
        transform: translateY(-1000px) rotate(720deg);
        opacity: 0;
        border-radius: 50%;
    }

}

@keyframes gradient {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
}

/* ==========================
    Админка
========================== */
#bottomAdminPanel {
    position: absolute;
    width: 100%;
    height: 80px;
    background-color: #1c1a1a96;
    left: 0;
    bottom: 0;
    z-index: 1;
    padding-left: 15px;
    padding-top: 15px;
    box-sizing: border-box;
    overflow: auto;
}

.imgAdminDecor {
    position: relative;
    width: 50px;
    height: 50px;
    border: 1px solid #ffffff17;
    float: left;
    background-repeat: no-repeat;
    box-sizing: border-box;
    text-align: center;
    line-height: 50px;
    color: #fff;
}

.imgAdminDecor:hover {
    background-color: #00d7ff;
}

@font-face {
    font-family: "sh";
    src: url(sh2.otf) format("truetype");
}

page-load {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: #1b1c1e;
    z-index: 9999;
    opacity: 1;
    text-align: center;
    transition: 1.5s;
}
    
spin-block {
    position: fixed;
    left: 0;
    right: 0;
    margin: auto;
    top: 45%;
    width: 80px;
    height: 80px;
    animation: 2s spin infinite linear;
}
    
@keyframes spin {

    from {

        transform: rotate(0deg);

    } to {

        transform: rotate(360deg);
    }
}
    
ibarhem-load {
    color: #FF7F50;
    position: absolute;
    top: 25%;
    font-size: 250%;
    text-align: center;
    cursor: default;
    left: 0;
    width: 100%;
    letter-spacing: 5px;
}
    
.white_art {
    position: absolute;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    box-shadow: rgb(0 0 0 / 2%) 1px 1px 5px;
}
    
spinner {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
}
    </style>
    <body>
        <page-load>
            <ibarhem-load>Загрузка</ibarhem-load>
            <spin-block>
                <spinner>
                    <div class="white_art" style="width: 13px;height: 13px;left: 75%;top: 12%;background: rgb(255 127 80 / 100%)"></div>
                    <div class="white_art" style="left: 55%;top: 0;width: 10px;height: 10px;background: rgb(255 127 80 / 80%)"></div>
                    <div class="white_art" style="left: 30%;top: 0;background: rgb(255 127 80 / 60%)"></div>
                    <div class="white_art" style="left: 10%;top: 15%;background: rgb(255 127 80 / 40%)"></div>
                    <div class="white_art" style="top: 40%;background: rgb(255 127 80 / 20%)"></div>
                </spinner>
            </spin-block>
        </page-load>
        <div id="con-map">
            <style id="map-setting"></style>
            <div id="map"></div>
        </div>
        <div class="userBlock">
            <div class="userPhoto" style="border: 3px solid #0080ff;box-shadow: 0px 0px 20px #0080ff;"></div>
            <div class="userName">Игрок</div>
            <div class="userRe">Собрано звёзд: <span id="star"></span></div>
            <div id="goldBlock">
                <svg style="position: absolute;top: 5px" width="30px" viewBox="0 0 512 512"> <circle style="fill:#FFDC64;" cx="256" cy="256" r="256"/> <circle style="fill:#FFC850;" cx="256" cy="256" r="220.69"/> <circle style="fill:#FFF082;" cx="256" cy="256" r="194.207"/> <path style="fill:#E7B452;" d="M291.31,253.95v-93.357c18.276,6.737,30.897,18.294,30.897,30.856c0,7.31,5.931,13.241,13.241,13.241 s13.241-5.931,13.241-13.241c0-26.968-23.418-49.479-57.379-58.808v-9.054c0-7.31-5.931-13.241-13.241-13.241 c-7.31,0-13.241,5.931-13.241,13.241v4.71c-2.905-0.18-5.843-0.296-8.828-0.296s-5.922,0.116-8.828,0.296v-4.71 c0-7.31-5.931-13.241-13.241-13.241s-13.241,5.931-13.241,13.241v9.054c-33.961,9.33-57.379,31.839-57.379,58.808 c0,35.75,24.744,53.774,57.379,66.601v93.357c-18.276-6.737-30.897-18.294-30.897-30.856c0-7.31-5.931-13.241-13.241-13.241 s-13.241,5.931-13.241,13.241c0,26.968,23.418,49.479,57.379,58.808v9.055c0,7.31,5.931,13.241,13.241,13.241 s13.241-5.931,13.241-13.241v-4.71c2.905,0.18,5.843,0.296,8.828,0.296s5.922-0.116,8.828-0.296v4.71 c0,7.31,5.931,13.241,13.241,13.241c7.31,0,13.241-5.931,13.241-13.241v-9.054c33.961-9.33,57.379-31.839,57.379-58.808 C348.69,284.801,323.946,266.776,291.31,253.95z M256,154.483c2.985,0,5.921,0.167,8.828,0.405v89.97 c-1.668-0.514-3.327-1.033-5.009-1.539c-4.502-1.355-8.652-2.679-12.647-3.994v-84.437C250.079,154.649,253.015,154.483,256,154.483 z M189.793,191.448c0-12.562,12.62-24.118,30.897-30.856v68.591C198.004,218.632,189.793,207.616,189.793,191.448z M256,357.517 c-2.985,0-5.921-0.167-8.828-0.405v-89.97c1.668,0.514,3.327,1.033,5.009,1.539c4.502,1.355,8.652,2.679,12.647,3.994v84.437 C261.921,357.351,258.985,357.517,256,357.517z M291.31,351.407v-68.591c22.686,10.552,30.897,21.568,30.897,37.736 C322.207,333.113,309.587,344.67,291.31,351.407z"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                <span style="letter-spacing: 2px;margin-left: 40px;position: relative;top: 10px;text-shadow: 1px 1px 1px #4f5354;"></span>
            </div>
        </div>
        <svg id="flag" onclick="pauseAndPlay ('pause');openBlackBackground ('stop')" viewBox="0 0 36 36"><path fill="#8899A6" d="M5 36a2 2 0 0 1-2-2V3a2 2 0 0 1 4 0v31a2 2 0 0 1-2 2z"></path><path fill="#AAB8C2" d="M5 1a2 2 0 0 0-2 2v31a.5.5 0 0 0 1 0V4.414C4 3.633 4.633 3 5.414 3H7a2 2 0 0 0-2-2z"></path><path fill="#8899A6" d="M5 36a2 2 0 0 1-2-2V3a2 2 0 0 1 4 0v31a2 2 0 0 1-2 2z"></path><path fill="#AAB8C2" d="M5 1a2 2 0 0 0-2 2v31a.5.5 0 0 0 1 0V4.414C4 3.633 4.633 3 5.414 3H7a2 2 0 0 0-2-2z"></path><path fill="#f1f0f0" d="M32.415 3.09c-1.752-.799-3.615-1.187-5.698-1.187c-2.518 0-5.02.57-7.438 1.122c-2.418.551-4.702 1.072-6.995 1.072c-1.79 0-3.382-.329-4.868-1.006A1 1 0 0 0 6 4v19c0 .392.229.747.585.91c1.752.799 3.616 1.187 5.698 1.187c2.518 0 5.02-.57 7.438-1.122c2.418-.551 4.702-1.071 6.995-1.071c1.79 0 3.383.329 4.868 1.007A1.003 1.003 0 0 0 33 23V4a1 1 0 0 0-.585-.91z"></path></svg>
        <div id="hp">
            <svg viewBox="0 0 505 505"><path style="fill:#F1543F;" d="M331.6,109.5c-32.8-1.1-61.9,14.9-79.1,39.7c-17.2-24.8-46.3-40.8-79.1-39.7 c-54.3,1.8-93.3,49.6-88.8,103.8c8.2,99.5,121.5,189.4,157.2,215.4c6.4,4.7,15,4.7,21.4,0c35.7-26,149-115.9,157.2-215.4 C424.9,159.1,385.9,111.3,331.6,109.5z"/> <ellipse transform="matrix(0.7071 -0.7071 0.7071 0.7071 -75.764 143.0377)" style="fill:#FFFFFF;" cx="134.78" cy="162.974" rx="26" ry="11.5"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
            <span id="textHp"></span>
        </div>
        <div id="wave">Волна: <span></span></div>
        <div id="nextWave">Следующая волна через: <span style="color: #fff700;"></span> сек</div>
        <div id="newVolna">Волна <span id="newVolnaCount"></span></div>
        <div id="scale">
            <span onclick="scaleMap ('+')">+</span>
            <span onclick="scaleMap ('-')">-</span>
        </div>
        <div class="topPanel" style="position: absolute;cursor: pointer;" onclick="pauseAndPlay ()">
            <svg style="position: relative;top: 5px" width="30px" viewBox="0 0 512 512"> <path style="fill: #fff;" d="M256,0C114.617,0,0,114.617,0,256s114.617,256,256,256s256-114.617,256-256S397.383,0,256,0z M224,320 c0,8.836-7.156,16-16,16h-32c-8.844,0-16-7.164-16-16V192c0-8.836,7.156-16,16-16h32c8.844,0,16,7.164,16,16V320z M352,320 c0,8.836-7.156,16-16,16h-32c-8.844,0-16-7.164-16-16V192c0-8.836,7.156-16,16-16h32c8.844,0,16,7.164,16,16V320z"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
       </div>
        <div id="hub">
            <ul class="circles">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <!--<div class="topPanel" style="cursor: pointer">
                <svg style="position: relative;top: 5px" width="30px" viewBox="0 0 310.551 310.551"> <g> <path style="fill:#c9d6e1" d="M308.122,127.396c-0.728-4.297-4.796-7.012-9.042-6.039l-26.584,6.08 c-3.03-12.809-8.108-24.824-14.864-35.686l23.063-14.576c3.681-2.322,4.619-7.131,2.09-10.676c0,0-3.964-7.273-17.711-21.018 c-13.745-13.748-21.433-17.998-21.433-17.998c-3.554-2.521-8.35-1.564-10.665,2.125l-14.504,23.107 c-10.884-6.719-22.914-11.76-35.734-14.748l5.997-26.598c0.959-4.248-1.771-8.311-6.067-9.029c0,0-7.947-2.34-27.389-2.34 s-27.883,2.432-27.883,2.432c-4.293,0.729-7.012,4.797-6.039,9.043l6.082,26.586c-12.808,3.029-24.822,8.105-35.685,14.861 L77.179,29.859c-2.326-3.68-7.131-4.621-10.676-2.094c0,0-7.274,3.967-21.022,17.713C31.735,59.225,27.484,66.914,27.484,66.914 c-2.521,3.551-1.565,8.352,2.124,10.666l23.108,14.502c-6.719,10.885-11.759,22.914-14.748,35.734l-26.599-5.998 c-4.247-0.957-8.31,1.773-9.028,6.068c0,0-2.34,7.947-2.34,27.391c0,19.439,2.431,27.881,2.431,27.881 c0.729,4.293,4.798,7.012,9.044,6.039l26.585-6.082c3.029,12.809,8.106,24.822,14.862,35.686L29.86,233.375 c-3.681,2.326-4.621,7.131-2.092,10.678c0,0,3.964,7.271,17.712,21.021c13.745,13.744,21.434,17.994,21.434,17.994 c3.552,2.522,8.351,1.566,10.666-2.123l14.503-23.107c10.883,6.721,22.913,11.76,35.733,14.75l-5.997,26.596 c-0.959,4.248,1.773,8.311,6.069,9.027c0,0,7.945,2.342,27.389,2.34c19.439,0,27.881-2.43,27.881-2.43 c4.294-0.728,7.012-4.797,6.039-9.043l-6.082-26.584c12.809-3.029,24.824-8.108,35.686-14.861l14.575,23.059 c2.324,3.684,7.13,4.621,10.676,2.092c0,0,7.272-3.963,21.02-17.711c13.745-13.746,17.996-21.434,17.996-21.434 c2.521-3.553,1.566-8.348-2.123-10.664l-23.107-14.504c6.72-10.883,11.76-22.914,14.749-35.734l26.598,5.996 c4.246,0.961,8.309-1.773,9.026-6.068c0,0,2.34-7.945,2.34-27.387C310.554,135.838,308.122,127.396,308.122,127.396z M155.278,191.256c-19.871,0-35.979-16.107-35.979-35.979c0-19.871,16.107-35.979,35.979-35.979s35.98,16.107,35.98,35.979 C191.258,175.148,175.15,191.256,155.278,191.256z"/> <path style="fill:#5a8dbb;" d="M155.278,96.115c-32.674,0-59.161,26.488-59.161,59.162s26.487,59.162,59.161,59.162 s59.162-26.488,59.162-59.162C214.441,122.604,187.952,96.115,155.278,96.115z M155.278,191.256 c-19.871,0-35.979-16.107-35.979-35.979c0-19.871,16.107-35.979,35.979-35.979s35.98,16.107,35.98,35.979 C191.258,175.148,175.15,191.256,155.278,191.256z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
            </div>-->
            <div class="topPanel">
                <svg style="position: absolute;top: 5px" width="30px" viewBox="0 0 48 48"><path d="M1,18.42L22.46,44.16a2,2,0,0,0,3.07,0L47,18.42H1Z" fill="#299acc"/><path d="M36.6,3.42H11.4A4,4,0,0,0,7.87,5.53L1,18.42H47L40.13,5.53A4,4,0,0,0,36.6,3.42Z" fill="#38b1e7"/><path d="M22.08,43.38L15,18.42H33l-7.08,25A2,2,0,0,1,22.08,43.38Z" fill="#61c0ea"/><polygon points="33 18.42 15 18.42 14 3.42 34 3.42 33 18.42" fill="#89d0ef"/></svg>
                <span style="letter-spacing: 2px;margin-left: 40px;position: relative;top: 10px;text-shadow: 1px 1px 1px #4f5354;">0</span>
                <div class="donateButton" onclick="openBlackBackground ('shop');open_menu_blackbg (3)">+</div>
            </div>
            <div class="topPanel">
                <svg style="position: absolute;top: 5px" width="30px" viewBox="0 0 512 512"> <g> <g> <path style="fill:#74D24F;" d="M496,112H16c-8.82,0-16,7.18-16,16v256c0,8.82,7.18,16,16,16h480c8.82,0,16-7.18,16-16V128 C512,119.18,504.82,112,496,112z"/> </g> <g> <path style="fill:#FFEFBC;" d="M472,192c-22.055,0-40-17.945-40-40c0-4.422-3.578-8-8-8H88c-4.422,0-8,3.578-8,8 c0,22.055-17.945,40-40,40c-4.422,0-8,3.578-8,8v112c0,4.422,3.578,8,8,8c22.055,0,40,17.945,40,40c0,4.422,3.578,8,8,8h336 c4.422,0,8-3.578,8-8c0-22.055,17.945-40,40-40c4.422,0,8-3.578,8-8V200C480,195.578,476.422,192,472,192z"/> </g> <g> <path style="fill:#869B55;" d="M128,256c0,48.221,26.691,90.175,66.081,112h123.839C357.309,346.175,384,304.221,384,256 s-26.691-90.175-66.081-112H194.08C154.691,165.825,128,207.779,128,256z"/> </g> <g> <path style="fill:#FFEFBC;" d="M256,244c-16.023,0-28-8.445-28-16c0-7.555,11.977-16,28-16s28,8.445,28,16c0,6.625,5.375,12,12,12 s12-5.375,12-12c0-19.236-16.824-34.862-40-38.932V184c0-6.625-5.375-12-12-12s-12,5.375-12,12v5.068 c-23.176,4.07-40,19.695-40,38.932c0,22.43,22.844,40,52,40c16.023,0,28,8.445,28,16c0,7.555-11.977,16-28,16s-28-8.445-28-16 c0-6.625-5.375-12-12-12s-12,5.375-12,12c0,19.236,16.824,34.862,40,38.932V328c0,6.625,5.375,12,12,12s12-5.375,12-12v-5.068 c23.176-4.07,40-19.695,40-38.932C308,261.57,285.156,244,256,244z"/> </g> <g> <circle style="fill:#74D24F;" cx="80" cy="256" r="24"/> </g> <g> <circle style="fill:#74D24F;" cx="432" cy="256" r="24"/> </g> <g> <circle style="fill:#869B55;" cx="40" cy="152" r="16"/> </g> <g> <circle style="fill:#869B55;" cx="472" cy="152" r="16"/> </g> <g> <circle style="fill:#869B55;" cx="40" cy="360" r="16"/> </g> <g> <circle style="fill:#869B55;" cx="472" cy="360" r="16"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                <span id="moneyHub"></span>
                <div class="donateButton" onclick="openBlackBackground ('shop');open_menu_blackbg (3)">+</div>
            </div>
            <div class="topPanel">
                <svg style="position: absolute;top: 5px" width="30px" viewBox="0 0 64 64"><path fill="#ffce31" d="M44.5 2l-9 2.5L29.4 2l-9.9 34.4h10.4L20.8 62l22.4-34.4H29.7z"></path></svg>
                <span id="energy"></span>
                <div class="donateButton" onclick="openBlackBackground ('shop');open_menu_blackbg (3)">+</div>
            </div>
            <div id="bottomRight">
                <div onclick="openBlackBackground ('shop')" class="buttonBottomRight" style="background: linear-gradient(to right, rgb(255, 126, 95), rgb(254, 180, 123));">
                    <svg viewBox="0 0 480 480"> <g> <g> <rect x="32" y="196" style="fill:#FFE0B1;" width="416" height="248"/> </g> <g> <rect x="72" y="276" style="fill:#51DBFF;" width="64" height="104"/> </g> <g> <polygon style="fill:#B2F3FF;" points="72,276 136,340 136,380 72,316 		"/> </g> <g> <path style="fill:#7E5C62;" d="M296,260H184c-8.82,0-16,7.176-16,16v168c0,4.418,3.578,8,8,8h128c4.422,0,8-3.582,8-8V276 C312,267.176,304.82,260,296,260z"/> </g> <g> <g> <path style="fill:#5C546A;" d="M168,444h72V260h-56c-8.837,0-16,7.163-16,16V444z"/> </g> </g> <g> <path style="fill:#FF4F19;" d="M400,196c0,17.673,14.327,32,32,32s32-14.327,32-32L435.716,47.509 C433.56,36.19,423.663,28,412.14,28H67.86c-11.523,0-21.42,8.19-23.576,19.509L16,196c0,17.673,14.327,32,32,32s32-14.327,32-32 c0,17.673,14.327,32,32,32s32-14.327,32-32c0,17.673,14.327,32,32,32s32-14.327,32-32c0,17.673,14.327,32,32,32s32-14.327,32-32 c0,17.673,14.327,32,32,32s32-14.327,32-32c0,17.673,14.327,32,32,32S400,213.673,400,196z"/> </g> <g> <g> <path style="fill:#5C546A;" d="M472,452H8c-4.422,0-8-3.582-8-8s3.578-8,8-8h464c4.422,0,8,3.582,8,8S476.422,452,472,452z"/> </g> </g> <g> <path style="fill:#E7001E;" d="M208,196.001C208.001,213.673,222.327,228,240,228s31.999-14.326,32-31.999L268,28h-56L208,196.001 z"/> </g> <g> <path style="fill:#E7001E;" d="M80,196l-0.912,7.292C79.639,200.94,80,198.519,80,196z"/> </g> <g> <path style="fill:#E7001E;" d="M144,196L144,196l11.5-168H101L80,196c0,17.673,14.327,32,32,32S144,213.673,144,196z"/> </g> <g> <path style="fill:#E7001E;" d="M400,196c0,2.519,0.361,4.94,0.912,7.292L400,196z"/> </g> <g> <path style="fill:#E7001E;" d="M336,196.005c0.003,17.67,14.328,31.995,32,31.995c17.673,0,32-14.327,32-32L379,28h-54.5 L336,196.005z"/> </g> <g> <path style="fill:#7E5C62;" d="M142.4,260H65.6c-5.302,0-9.6,3.582-9.6,8v120c0,4.418,4.298,8,9.6,8h76.8c5.302,0,9.6-3.582,9.6-8 V268C152,263.582,147.702,260,142.4,260z M136,276v24H72v-24H136z M72,380v-64h64v64H72z"/> </g> <g> <rect x="344" y="276" style="fill:#51DBFF;" width="64" height="104"/> </g> <g> <polygon style="fill:#B2F3FF;" points="344,276 408,340 408,380 344,316 		"/> </g> <g> <path style="fill:#7E5C62;" d="M414.4,260h-76.8c-5.302,0-9.6,3.582-9.6,8v120c0,4.418,4.298,8,9.6,8h76.8 c5.302,0,9.6-3.582,9.6-8V268C424,263.582,419.702,260,414.4,260z M408,276v24h-64v-24H408z M344,380v-64h64v64H344z"/> </g> <g> <path style="fill:#51DBFF;" d="M223,380h-38c-0.552,0-1-0.448-1-1V277c0-0.552,0.448-1,1-1h38c0.552,0,1,0.448,1,1v102 C224,379.552,223.552,380,223,380z"/> </g> <g> <polygon style="fill:#B2F3FF;" points="224,324 184,284 184,324 224,364 		"/> </g> <g> <path style="fill:#51DBFF;" d="M295,380h-38c-0.552,0-1-0.448-1-1V277c0-0.552,0.448-1,1-1h38c0.552,0,1,0.448,1,1v102 C296,379.552,295.552,380,295,380z"/> </g> <g> <polygon style="fill:#B2F3FF;" points="296,324 256,284 256,324 296,364 		"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                    <span>Магазин</span>
                </div>
                <div onclick="vkBridge.send('VKWebAppShowInviteBox')" class="buttonBottomRight" style="background: linear-gradient(to right, rgb(247, 157, 0), rgb(100, 243, 140));">
                    <svg viewBox="0 0 203.736 203.736"> <g> <path style="fill:#543C2A;" d="M101.867,66.139v131.395h60.26c0,0,11.449-59.365,11.168-95.113 C173.014,66.673,101.867,66.139,101.867,66.139z"/> <path style="fill:#543C2A;" d="M101.867,66.139v131.395H41.609c0,0-11.449-59.365-11.168-95.113 C30.721,66.673,101.867,66.139,101.867,66.139z"/> <g> <g> <rect x="87.17" y="153.47" style="fill:#FDCC9B;" width="29.395" height="32.923"/> <path style="fill:#FCBC85;" d="M87.17,157.348c0,0,12.365,7.874,29.395,6.051v-9.929H87.17V157.348z"/> <ellipse style="fill:#FCBC85;" cx="44.784" cy="102.42" rx="14.343" ry="16.364"/> <ellipse style="fill:#FCBC85;" cx="158.952" cy="102.42" rx="14.343" ry="16.364"/> <path style="fill:#FDCC9B;" d="M158.894,71.165c0-24.104-17.637-41.741-57.026-41.741c-39.389,0-57.025,17.637-57.025,41.741 c0,24.104-4.115,87.597,57.025,87.597C163.009,158.762,158.894,95.269,158.894,71.165z"/> <g> <g> <ellipse style="fill:#3B2519;" cx="74.092" cy="98.502" rx="6.173" ry="6.761"/> <circle style="fill:#FFFFFF;" cx="71.401" cy="95.517" r="1.846"/> </g> <path style="fill:#684B37;" d="M64.217,83.925c2.919,1.117,7.605-3.798,18.335,0.478c1.956,0.78,3.123-6.668-8.378-6.668 C64.217,77.735,62.453,83.25,64.217,83.925z"/> <g> <ellipse style="fill:#3B2519;" cx="130.406" cy="98.502" rx="6.173" ry="6.761"/> <circle style="fill:#FFFFFF;" cx="127.715" cy="95.517" r="1.846"/> </g> <path style="fill:#684B37;" d="M139.519,83.925c-2.919,1.117-7.606-3.798-18.335,0.478c-1.956,0.78-3.123-6.668,8.377-6.668 C139.519,77.735,141.282,83.25,139.519,83.925z"/> </g> <path style="fill:#FCBC85;" d="M101.867,122.283c-6.099,0-9.773-4.557-9.773-2.352c0,2.204,1.764,6.394,9.773,6.394 c8.011,0,9.774-4.189,9.774-6.394C111.642,117.726,107.967,122.283,101.867,122.283z"/> <path style="fill:#FCBC85;" d="M101.867,142.553c-2.109,0-3.38-1.575-3.38-0.814c0,0.763,0.61,2.212,3.38,2.212 c2.771,0,3.381-1.449,3.381-2.212C105.248,140.978,103.978,142.553,101.867,142.553z"/> <path style="fill:#F7945E;" d="M101.867,136.936c-9.668,0-15.492-3.937-15.492-2.939s2.795,4.924,15.492,4.924 s15.493-3.927,15.493-4.924S111.535,136.936,101.867,136.936z"/> </g> <circle style="fill:#F9AA8D;" cx="66.154" cy="120.108" r="8.377"/> <circle style="fill:#F9AA8D;" cx="138.611" cy="120.108" r="8.377"/> </g> <path style="fill:#F5A860;" d="M101.867,166.699v37.037H37.495C37.495,188.745,68.064,166.699,101.867,166.699z"/> <path style="fill:#F5A860;" d="M101.867,166.699v37.037h64.373C166.24,188.745,135.672,166.699,101.867,166.699z"/> <path style="fill:#F18B45;" d="M89.6,167.651c-0.189,0.027-0.379,0.065-0.569,0.094c-3.963,0.634-7.829,1.529-11.543,2.653 l24.38,33.338v-18.518L90.87,167.501C90.449,167.56,90.02,167.587,89.6,167.651z"/> <path style="fill:#F18B45;" d="M114.135,167.651c0.19,0.027,0.38,0.065,0.57,0.094c3.963,0.634,7.829,1.529,11.543,2.653 l-24.381,33.338v-18.518l10.998-17.716C113.286,167.56,113.716,167.587,114.135,167.651z"/> <path style="fill:#684B37;" d="M101.867,0C35.436,0,27.651,46.991,30.441,102.42c2.79,55.43,49.824,82.797,49.824,82.797 S27.56,109.79,71.401,43.651c0,0-8.232,14.157-7.786,26.015c0,0,10.328-3.527,38.253-3.527c27.926,0,38.253,3.527,38.253,3.527 c0.447-11.858-7.785-26.015-7.785-26.015c43.841,66.138-8.865,141.566-8.865,141.566s47.035-27.367,49.825-82.797 C176.085,46.991,168.3,0,101.867,0z"/> <path style="fill:#FDCC9B;" d="M87.17,167.981l14.697,24.408l14.697-24.409C116.565,167.98,101.317,162.428,87.17,167.981z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                    <span>Друзья</span>
                </div>
                <!--<div class="buttonBottomRight" style="background: linear-gradient(to right, rgb(222, 97, 97), rgb(38, 87, 235));">
                    <svg viewBox="0 0 461.241 461.241"> <path style="fill:#E5C400;" d="M170.3,193.523c-63.212-24.946-89.854-71.038-101.074-105.311 c-12.078-36.895-9.286-67.745-9.161-69.04l0.871-9.041h74.375v20H79.726c0.099,10.976,1.485,30.743,8.742,52.572 c14.479,43.552,44.482,74.578,89.174,92.216L170.3,193.523z"/> <path style="opacity:0.4;fill:#5B5B5F;enable-background:new    ;" d="M170.3,193.523c-63.212-24.946-89.854-71.038-101.074-105.311 c-12.078-36.895-9.286-67.745-9.161-69.04l0.871-9.041h74.375v20H79.726c0.099,10.976,1.485,30.743,8.742,52.572 c14.479,43.552,44.482,74.578,89.174,92.216L170.3,193.523z"/> <rect x="213.658" y="214.612" style="fill:#E5C400;" width="33.926" height="85.673"/> <path style="fill:#E5C400;" d="M316.344,334.479H144.897v-7.395c0-14.8,11.998-26.798,26.798-26.798h117.851 c14.8,0,26.798,11.998,26.798,26.798L316.344,334.479L316.344,334.479z"/> <rect x="123.228" y="334.479" style="fill:#D8D9DD;" width="214.785" height="105.905"/> <rect x="148.441" y="359.692" style="fill:#FFFFFF;" width="164.358" height="55.475"/> <rect x="111.805" y="435.566" style="fill:#59595A;" width="237.63" height="25.675"/> <rect x="213.658" y="214.612" style="opacity:0.4;fill:#5B5B5F;enable-background:new    ;" width="33.926" height="22.604"/> <path style="fill:#E5C400;" d="M401.176,19.173l-0.871-9.041h-54.179c0.072-3.485,0.11-6.874,0.11-10.132 C298.438,0,230.62,0,230.62,0s-67.818,0-115.615,0c0,77.692,19.344,224.599,115.615,224.599c29.033,0,51.06-13.373,67.68-34.167 c57.929-25.52,82.942-69.313,93.715-102.22C404.093,51.318,401.301,20.468,401.176,19.173z M373.008,81.99 c-10.267,31.362-28.544,56.266-54.516,74.405c17.133-38.413,24.48-86.494,26.832-126.264h36.21 C381.449,40.945,380.101,60.323,373.008,81.99z"/> <path style="opacity:0.4;fill:#5B5B5F;enable-background:new    ;" d="M316.344,334.479H144.897v-7.395 c0-14.8,11.998-26.798,26.798-26.798h117.851c14.8,0,26.798,11.998,26.798,26.798L316.344,334.479L316.344,334.479z"/> <path style="opacity:0.3;fill:#5B5B5F;enable-background:new    ;" d="M401.176,19.173l-0.871-9.041h-54.179 c0.072-3.485,0.11-6.874,0.11-10.132C298.438,0,230.62,0,230.62,0v461.241h118.815v-25.675h-11.423V334.479h-21.669v-7.395 c0-14.8-11.998-26.798-26.798-26.798h-41.963v-77.32c20.863-4.153,37.5-15.997,50.717-32.533 c57.929-25.52,82.942-69.313,93.715-102.22C404.093,51.318,401.301,20.468,401.176,19.173z M373.008,81.99 c-10.267,31.362-28.544,56.266-54.516,74.405c17.133-38.413,24.48-86.494,26.832-126.264h36.21 C381.449,40.945,380.101,60.323,373.008,81.99z"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                    <span>Рейтинг</span>
                </div>-->
                <div onclick="openBlackBackground ('maps')" class="buttonBottomRight" style="background: linear-gradient(to right, rgb(252, 234, 187), rgb(248, 181, 0));">
                    <svg viewBox="0 0 512 512"><path fill="#FF6F1F" d="M323.14 505.771L88.515 392.021c-7.156-3.469-10.145-12.083-6.676-19.239L245.848 34.49c3.469-7.156 12.083-10.145 19.239-6.676l234.625 113.75c7.156 3.469 10.145 12.083 6.676 19.239L342.379 499.095c-3.469 7.156-12.083 10.145-19.239 6.676z"></path><path fill="#2B3B47" d="M80.598 375.341l35.473-73.168c51.824 25.125 104.335-39.04 195.314 5.068c41.122 19.937 71.704 43.919 92.875 64.216l-63.121 130.197c-2.784 5.743-9.697 8.141-15.439 5.357L85.955 390.78c-5.742-2.784-8.141-9.696-5.357-15.439z"></path><path fill="#FFF" d="M348.493 221.34c-18.93 39.045-65.927 55.352-104.972 36.422s-55.352-65.927-36.422-104.972s65.927-55.352 104.972-36.422s55.351 65.928 36.422 104.972z"></path><path fill="#FFF" d="M289.185 416.732H28.441c-7.953 0-14.4-6.447-14.4-14.4V26.379c0-7.953 6.447-14.4 14.4-14.4h260.745c7.953 0 14.4 6.447 14.4 14.4v375.953c-.001 7.953-6.448 14.4-14.401 14.4z"></path><path fill="#FF6F1F" d="M279.464 408.581H18.719c-7.953 0-14.4-6.447-14.4-14.4V18.228c0-7.953 6.447-14.4 14.4-14.4h260.745c7.953 0 14.4 6.447 14.4 14.4v375.953c0 7.953-6.447 14.4-14.4 14.4z"></path><path fill="#2B3B47" d="M4.319 397.025v-81.313c57.594 0 76.852-80.645 177.959-80.645c45.701 0 83.681 8.238 111.585 17.267v144.691c0 6.382-5.174 11.556-11.556 11.556H15.875c-6.382 0-11.556-5.174-11.556-11.556z"></path><path fill="#FFF" d="M178.195 141.583c0 43.392-35.176 78.567-78.567 78.567S21.06 184.974 21.06 141.583s35.176-78.567 78.567-78.567s78.568 35.175 78.568 78.567z"></path></svg>
                    <span>Карточки</span>
                </div>
                <!--<div class="buttonBottomRight" style="background: linear-gradient(to right, rgb(17, 153, 142), rgb(56, 239, 125));">
                    <svg viewBox="0 0 297 297"> <g> <path style="fill:none;" d="M149.333,16c-10.456,0-19.242,7.259-21.601,17h43.201C168.575,23.259,159.789,16,149.333,16z"/> <path style="fill:#FFFFFF;" d="M211,49h-5.586c-3.811,17.524-19.236,30-37.892,30h-36.379c-18.655,0-34.081-12.476-37.892-30H87 v202h124V49z M149,220H99v-15h50V220z M149,172H99v-15h50V172z M149,124H99v-15h50V124z M176.907,226.944l-17.145-13.969 l9.475-11.629l6.189,5.043l14.219-15.466l11.043,10.152L176.907,226.944z M176.907,178.944l-17.145-13.969l9.475-11.629 l6.189,5.043l14.219-15.466l11.043,10.152L176.907,178.944z M176.907,130.944l-17.145-13.969l9.475-11.629l6.189,5.043 l14.219-15.466l11.043,10.152L176.907,130.944z"/> <path style="fill:#FF8200;" d="M237.333,49H227v218H71V49H60.333C59.23,49,58,49.897,58,51v228c0,1.103,1.23,2,2.333,2h177 c1.103,0,1.667-0.897,1.667-2V51C239,49.897,238.436,49,237.333,49z"/> <path d="M237.333,33h-10h-40.14c-2.558-18.613-18.556-33-37.86-33s-35.303,14.387-37.86,33h-40.14h-11C50.408,33,42,41.075,42,51 v228c0,9.925,8.408,18,18.333,18h177c9.925,0,17.667-8.075,17.667-18V51C255,41.075,247.258,33,237.333,33z M188.591,49 c-3.417,9-11.524,14-21.068,14h-36.379c-9.544,0-17.651-5-21.068-14H188.591z M87,49h6.252c3.811,17.524,19.236,30,37.892,30 h36.379c18.655,0,34.081-12.476,37.892-30H211v202H87V49z M149.333,16c10.456,0,19.242,7.259,21.601,17h-43.201 C130.091,23.259,138.877,16,149.333,16z M239,279c0,1.103-0.564,2-1.667,2h-177C59.23,281,58,280.103,58,279V51 c0-1.103,1.23-2,2.333-2H71v218h156V49h10.333c1.103,0,1.667,0.897,1.667,2V279z"/> <path style="fill:#FFBE00;" d="M131.143,63h36.379c9.544,0,17.651-5,21.068-14h-78.516C113.492,58,121.6,63,131.143,63z"/> <rect x="99" y="109" width="50" height="15"/> <polygon points="175.427,110.39 169.237,105.347 159.763,116.976 176.907,130.944 200.689,105.076 189.645,94.924 	"/> <rect x="99" y="157" width="50" height="15"/> <polygon points="175.427,158.39 169.237,153.347 159.763,164.976 176.907,178.944 200.689,153.076 189.645,142.924 	"/> <rect x="99" y="205" width="50" height="15"/> <polygon points="175.427,206.39 169.237,201.347 159.763,212.976 176.907,226.944 200.689,201.076 189.645,190.924 	"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                    <span>Задания</span>
                </div>-->
            </div>
            <div id="voiceMap">
                <div id="scaleMap">
                    <div id="hubMapConstruction"></div>
                </div>
            </div>
        </div>
        <div id="backgroundBlack"></div>
        <div id="warning"></div>
        <div id="fun-load">
            <img src="images/1.gif" style="position:absolute;filter: opacity(0.01);pointer-events: none">
            <img src="images/2.gif" style="position:absolute;filter: opacity(0.01);pointer-events: none">
            <img src="images/3.gif" style="position:absolute;filter: opacity(0.01);pointer-events: none">
            <img src="images/4.gif" style="position:absolute;filter: opacity(0.01);pointer-events: none">
            <img src="images/location/1.png" style="position:absolute;filter: opacity(0.01);pointer-events: none">
            <img src="images/gena.png" style="position:absolute;filter: opacity(0.01);pointer-events: none">
        </div>
    </body>
    <script src="https://vk.com/js/api/xd_connection.js?2"></script>
	<script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
    <script>
        vkBridge.send("VKWebAppInit");
        vkBridge.send('VKWebAppShowBannerAd');
        var _0xbeee=["\x6F\x62\x6A\x65\x63\x74","\x73\x74\x72\x69\x6E\x67","\u041E\u0448\u0438\u0431\u043A\u0430\x20\u0432\x20\u043F\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043C\u044B\u0445\x20\u0434\u0430\u043D\u043D\u044B\u0445","\x65\x72\x72\x6F\x72","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72\x41\x6C\x6C","\x65\x6C\x65\x6D\x65\x6E\x74","\x63\x6C\x69\x63\x6B","\x66\x75\x6E\x63\x74\x69\x6F\x6E","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x6C\x65\x6E\x67\x74\x68","\x72\x65\x63\x6C\x69\x63\x6B","\x72\x65\x6D\x6F\x76\x65\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x68\x74\x6D\x6C","\x77\x72\x69\x74\x65","\x74\x61\x67\x4E\x61\x6D\x65","\x49\x4E\x50\x55\x54","\x54\x45\x58\x54\x41\x52\x45\x41","\x76\x61\x6C\x75\x65","\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C","\x6E\x75\x6D\x62\x65\x72","\x63\x73\x73","\x73\x74\x79\x6C\x65","\x67\x65\x74\x43\x6F\x6D\x70\x75\x74\x65\x64\x53\x74\x79\x6C\x65","\x77\x68\x6F\x69\x73","\x2A\x5B\x6E\x61\x6D\x65\x5D","","\x26","\x6E\x61\x6D\x65","\x3D","\x69\x6E\x6E\x65\x72\x54\x65\x78\x74","\x67\x65\x74\x41\x74\x74\x72\x69\x62\x75\x74\x65","\x72\x65\x6D\x6F\x76\x65","\x61\x74","\x6E\x65\x77","\x73\x65\x74\x41\x74\x74\x72\x69\x62\x75\x74\x65","\x64\x65\x6C","\x72\x65\x6D\x6F\x76\x65\x41\x74\x74\x72\x69\x62\x75\x74\x65","\x67\x65\x74","\x66\x6F\x63\x75\x73","\x61\x63\x74\x69\x76\x65\x45\x6C\x65\x6D\x65\x6E\x74","\x62\x6C\x75\x72","\x66\x6F\x72\x6D","\x73\x75\x62\x6D\x69\x74","\x70\x72\x65\x76\x65\x6E\x74\x44\x65\x66\x61\x75\x6C\x74","\x61\x70\x70\x65\x6E\x64","\u043A\u043E\u043D\u0435\u0446","\x62\x65\x66\x6F\x72\x65\x65\x6E\x64","\u043F\u0435\u0440\u0435\u0434","\x61\x66\x74\x65\x72\x62\x65\x67\x69\x6E","\u0434\u043E","\x62\x65\x66\x6F\x72\x65\x62\x65\x67\x69\x6E","\u043F\u043E\u0441\u043B\u0435","\x61\x66\x74\x65\x72\x65\x6E\x64","\x69\x6E\x73\x65\x72\x74\x41\x64\x6A\x61\x63\x65\x6E\x74\x48\x54\x4D\x4C","\x6D\x6F\x76\x65","\x6D\x6F\x75\x73\x65\x64\x6F\x77\x6E","\x6E\x6F\x6E\x65","\x62\x6F\x64\x79","\x6D\x6F\x75\x73\x65\x6D\x6F\x76\x65","\x6F\x66\x66","\x6D\x6F\x75\x73\x65\x75\x70","\x6F\x6E","\x73\x69\x7A\x65","\x79","\x6D\x61\x78\x2D\x77\x69\x64\x74\x68","\x6D\x69\x6E\x2D\x77\x69\x64\x74\x68","\x77\x69\x64\x74\x68","\x78","\x6D\x61\x78\x2D\x68\x65\x69\x67\x68\x74","\x6D\x69\x6E\x2D\x68\x65\x69\x67\x68\x74","\x68\x65\x69\x67\x68\x74","\x64\x69\x76","\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74","\x69\x64","\x69\x62\x61\x72\x68\x65\x6D\x2D\x6C\x69\x70\x61\x2D\x65\x6C\x65\x6D\x65\x6E\x74\x2D\x63\x6F\x6E\x74\x65\x78\x74","\x61\x70\x70\x65\x6E\x64\x43\x68\x69\x6C\x64","\x66\x6F\x6E\x74","\x31\x65\x6D\x20\x41\x72\x69\x61\x6C","\x70\x61\x64\x64\x69\x6E\x67","\x30","\x62\x6F\x78\x2D\x73\x69\x7A\x69\x6E\x67","\x75\x6E\x73\x65\x74","\x61\x62\x73\x6F\x6C\x75\x74\x65","\x62\x72\x65\x61\x6B\x2D\x77\x6F\x72\x64","\x23\x69\x62\x61\x72\x68\x65\x6D\x2D\x6C\x69\x70\x61\x2D\x65\x6C\x65\x6D\x65\x6E\x74\x2D\x63\x6F\x6E\x74\x65\x78\x74","\x78\x79","\x69\x6E\x70\x75\x74","\x2C","\x69\x6E\x64\x65\x78\x4F\x66","\x73\x70\x6C\x69\x74","\x74\x72\x69\x6D"];var d=document,s=self|| window,x,y,z,i,n,name_url,url;const it=(i)=>{if( typeof i!= _0xbeee[0]&&  typeof i!= _0xbeee[1]){return alert(_0xbeee[2],_0xbeee[3])};if( typeof i== _0xbeee[0]){if(i!= d){return alert(_0xbeee[2],_0xbeee[3])}}else {if( typeof i== _0xbeee[1]&& d[_0xbeee[4]](i)){i= d[_0xbeee[5]](i)}else {return alert(_0xbeee[2],_0xbeee[3])}};return  new Ibarhem(i)};const Ibarhem=function(_0xcda1xc){this[_0xbeee[6]]= _0xcda1xc;this[_0xbeee[7]]= (_0xcda1xd)=>{if( typeof _0xcda1xd!= _0xbeee[8]){if(_0xcda1xd!= null){return null};return this[_0xbeee[6]][0][_0xbeee[7]]()};if(this[_0xbeee[6]]== d){d[_0xbeee[9]](_0xbeee[7],_0xcda1xd)}else {for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){this[_0xbeee[6]][i][_0xbeee[9]](_0xbeee[7],_0xcda1xd)}}};this[_0xbeee[11]]= (_0xcda1xd)=>{if( typeof _0xcda1xd!= _0xbeee[8]){return null};if(this[_0xbeee[6]]== d){return d[_0xbeee[12]](_0xbeee[7],_0xcda1xd)};for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){this[_0xbeee[6]][i][_0xbeee[12]](_0xbeee[7],_0xcda1xd)}};this[_0xbeee[13]]= (_0xcda1xe)=>{if(this[_0xbeee[6]]== d){return d[_0xbeee[14]](_0xcda1xe)};if(_0xcda1xe== null){if(this[_0xbeee[6]][0][_0xbeee[15]]== _0xbeee[16]|| this[_0xbeee[6]][0][_0xbeee[15]]== _0xbeee[17]){return this[_0xbeee[6]][0][_0xbeee[18]]};return this[_0xbeee[6]][0][_0xbeee[19]]};if( typeof _0xcda1xe== _0xbeee[1]||  typeof _0xcda1xe== _0xbeee[20]){for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){if(this[_0xbeee[6]][i][_0xbeee[15]]=== _0xbeee[16]|| this[_0xbeee[6]][i][_0xbeee[15]]=== _0xbeee[17]){this[_0xbeee[6]][i][_0xbeee[18]]= _0xcda1xe}else {this[_0xbeee[6]][i][_0xbeee[19]]= _0xcda1xe}}}};this[_0xbeee[21]]= (_0xcda1xf)=>{for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){if( typeof _0xcda1xf== _0xbeee[0]){for(var _0xcda1x10 in _0xcda1xf){this[_0xbeee[6]][i][_0xbeee[22]][_0xcda1x10]= _0xcda1xf[_0xcda1x10]}}else {if( typeof _0xcda1xf== _0xbeee[1]){return s[_0xbeee[23]](this[_0xbeee[6]][i])[_0xcda1xf]}}}};this[_0xbeee[24]]= ()=>{for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){var _0xcda1x11=this[_0xbeee[6]][i][_0xbeee[5]](_0xbeee[25]);var _0xcda1x12=_0xbeee[26],_0xcda1x13=_0xbeee[26];for(var _0xcda1x14 of _0xcda1x11){if(_0xcda1x14[_0xbeee[15]]== _0xbeee[16]|| _0xcda1x14[_0xbeee[15]]== _0xbeee[17]){if(_0xcda1x14[_0xbeee[18]]!= _0xbeee[26]){if(_0xcda1x12!= _0xbeee[26]){_0xcda1x13= _0xbeee[27]};_0xcda1x12+= _0xcda1x13+ _0xcda1x14[_0xbeee[28]]+ _0xbeee[29]+ encodeURIComponent(_0xcda1x14[_0xbeee[18]])}}else {if(_0xcda1x14[_0xbeee[30]]!= _0xbeee[26]){if(_0xcda1x12!= _0xbeee[26]){_0xcda1x13= _0xbeee[27]};_0xcda1x12+= _0xcda1x13+ _0xcda1x14[_0xbeee[31]](_0xbeee[28])+ _0xbeee[29]+ _0xcda1x14[_0xbeee[30]]}}};return _0xcda1x12}};this[_0xbeee[32]]= ()=>{for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){this[_0xbeee[6]][i][_0xbeee[32]]()}};this[_0xbeee[33]]= (_0xcda1x15,_0xcda1x16,_0xcda1x17)=>{for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){if(_0xcda1x15== _0xbeee[34]){this[_0xbeee[6]][i][_0xbeee[35]](_0xcda1x16,_0xcda1x17)}else {if(_0xcda1x15== _0xbeee[36]){this[_0xbeee[6]][i][_0xbeee[37]](_0xcda1x16)}else {if(_0xcda1x15== _0xbeee[38]){return this[_0xbeee[6]][i][_0xbeee[31]](_0xcda1x16)}}}}};this[_0xbeee[39]]= (_0xcda1x17)=>{for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){if(_0xcda1x17== null){this[_0xbeee[6]][i][_0xbeee[39]]()}else {if(_0xcda1x17== _0xbeee[38]){return this[_0xbeee[6]][i]=== d[_0xbeee[40]]?true:false}else {if( typeof _0xcda1x17== _0xbeee[8]){this[_0xbeee[6]][i][_0xbeee[9]](_0xbeee[39],_0xcda1x17)}}}}};this[_0xbeee[41]]= (_0xcda1x17)=>{for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){if(_0xcda1x17!= null&&  typeof _0xcda1x17== _0xbeee[8]){this[_0xbeee[6]][i][_0xbeee[9]](_0xbeee[41],_0xcda1x17)}else {if(_0xcda1x17== null){this[_0xbeee[6]][i][_0xbeee[41]]()}}}};this[_0xbeee[42]]= (_0xcda1xd= false)=>{if(_0xcda1xd== false||  typeof _0xcda1xd!= _0xbeee[8]){return null};this[_0xbeee[6]][0][_0xbeee[9]](_0xbeee[43],function(){event[_0xbeee[44]]();_0xcda1xd()})};this[_0xbeee[45]]= (_0xcda1x18= false,_0xcda1x15= _0xbeee[46])=>{if(_0xcda1x18== false){return null};for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){if(_0xcda1x15== _0xbeee[46]){position_append= _0xbeee[47]}else {if(_0xcda1x15== _0xbeee[48]){position_append= _0xbeee[49]}else {if(_0xcda1x15== _0xbeee[50]){position_append= _0xbeee[51]}else {if(_0xcda1x15== _0xbeee[52]){position_append= _0xbeee[53]}}}};this[_0xbeee[6]][i][_0xbeee[54]](position_append,_0xcda1x18)}};this[_0xbeee[55]]= (_0xcda1x18= false)=>{if(_0xcda1x18== false||  typeof _0xcda1x18!= _0xbeee[8]){return null};for(var i=0;i< this[_0xbeee[6]][_0xbeee[10]];i++){this[_0xbeee[6]][i][_0xbeee[9]](_0xbeee[56],function(){it(_0xbeee[58])[_0xbeee[21]]({userSelect:_0xbeee[57]});function _0xcda1x19(){it(_0xbeee[58])[_0xbeee[21]]({userSelect:_0xbeee[26]});it(d)[_0xbeee[60]](_0xbeee[59],_0xcda1x18);it(d)[_0xbeee[60]](_0xbeee[61],_0xcda1x19)}it(d)[_0xbeee[62]](_0xbeee[59],_0xcda1x18);it(d)[_0xbeee[62]](_0xbeee[61],_0xcda1x19)})}};this[_0xbeee[63]]= (_0xcda1x18= false)=>{if(_0xcda1x18== false||  typeof _0xcda1x18!= _0xbeee[1]){return null};let _0xcda1xc=this[_0xbeee[6]][0];if(_0xcda1x18!= _0xbeee[64]){maxw= s[_0xbeee[23]](_0xcda1xc)[_0xbeee[65]];minw= s[_0xbeee[23]](_0xcda1xc)[_0xbeee[66]]}else {maxw= s[_0xbeee[23]](_0xcda1xc)[_0xbeee[67]];minw= s[_0xbeee[23]](_0xcda1xc)[_0xbeee[67]]};if(_0xcda1x18!= _0xbeee[68]){maxh= s[_0xbeee[23]](_0xcda1xc)[_0xbeee[69]];minh= s[_0xbeee[23]](_0xcda1xc)[_0xbeee[70]]}else {maxh= s[_0xbeee[23]](_0xcda1xc)[_0xbeee[71]];minh= s[_0xbeee[23]](_0xcda1xc)[_0xbeee[71]]};var _0xcda1x1a=d[_0xbeee[73]](_0xbeee[72]);_0xcda1x1a[_0xbeee[74]]= _0xbeee[75];d[_0xbeee[58]][_0xbeee[76]](_0xcda1x1a);var _0xcda1x1b=s[_0xbeee[23]](_0xcda1xc)[_0xbeee[77]]== null?_0xbeee[78]:s[_0xbeee[23]](_0xcda1xc)[_0xbeee[77]];var _0xcda1x1c=s[_0xbeee[23]](_0xcda1xc)[_0xbeee[79]]== null?_0xbeee[80]:s[_0xbeee[23]](_0xcda1xc)[_0xbeee[79]];var _0xcda1x1d=s[_0xbeee[23]](_0xcda1xc)[_0xbeee[81]]== null?_0xbeee[82]:s[_0xbeee[23]](_0xcda1xc)[_0xbeee[81]];it(_0xbeee[85])[_0xbeee[21]]({position:_0xbeee[83],overflowWrap:_0xbeee[84],font:_0xcda1x1b,padding:_0xcda1x1c,maxWidth:maxw,minWidth:minw,maxHeight:maxh,minHeight:minh,boxSizing:_0xcda1x1d});d[_0xbeee[4]](_0xbeee[85])[_0xbeee[30]]= _0xcda1xc[_0xbeee[18]];switch(_0xcda1x18){case _0xbeee[68]:_0xcda1xc[_0xbeee[22]][_0xbeee[67]]= it(_0xbeee[85])[_0xbeee[21]](_0xbeee[67]);break;case _0xbeee[64]:_0xcda1xc[_0xbeee[22]][_0xbeee[71]]= it(_0xbeee[85])[_0xbeee[21]](_0xbeee[71]);break;case _0xbeee[86]:_0xcda1xc[_0xbeee[22]][_0xbeee[67]]= it(_0xbeee[85])[_0xbeee[21]](_0xbeee[67]);_0xcda1xc[_0xbeee[22]][_0xbeee[71]]= it(_0xbeee[85])[_0xbeee[21]](_0xbeee[71]);break};it(_0xbeee[85])[_0xbeee[32]]()};this[_0xbeee[87]]= (_0xcda1x15= false,_0xcda1xd= false)=>{if(_0xcda1x15== false|| _0xcda1xd== false||  typeof _0xcda1x15!= _0xbeee[1]||  typeof _0xcda1xd!= _0xbeee[8]){return null};if(_0xcda1x15== _0xbeee[62]){this[_0xbeee[6]][0][_0xbeee[9]](_0xbeee[87],_0xcda1xd)}else {if(_0xcda1x15== _0xbeee[60]){this[_0xbeee[6]][0][_0xbeee[12]](_0xbeee[87],_0xcda1xd)}}};this[_0xbeee[62]]= (_0xcda1x1e= false,_0xcda1x18= false)=>{if(_0xcda1x1e== false|| _0xcda1x18== false||  typeof _0xcda1x18!= _0xbeee[8]||  typeof _0xcda1x1e!= _0xbeee[1]){return null};if(this[_0xbeee[6]]== d){return d[_0xbeee[9]](_0xcda1x1e,_0xcda1x18)};var i=0;while(i< this[_0xbeee[6]][_0xbeee[10]]){if(_0xcda1x1e[_0xbeee[89]](_0xbeee[88])===  -1){this[_0xbeee[6]][i][_0xbeee[9]](_0xcda1x1e,_0xcda1x18)}else {var n=_0xcda1x1e[_0xbeee[90]](_0xbeee[88]);for(var _0xcda1x1f=0;_0xcda1x1f!= n[_0xbeee[10]];_0xcda1x1f++){this[_0xbeee[6]][i][_0xbeee[9]](n[_0xcda1x1f][_0xbeee[91]](),_0xcda1x18)}};i++}};this[_0xbeee[60]]= (_0xcda1x1e= false,_0xcda1x18= false)=>{if(_0xcda1x1e== false|| _0xcda1x18== false||  typeof _0xcda1x18!= _0xbeee[8]||  typeof _0xcda1x1e!= _0xbeee[1]){return null};if(this[_0xbeee[6]]== d){return d[_0xbeee[12]](_0xcda1x1e,_0xcda1x18)};var i=0;while(i< this[_0xbeee[6]][_0xbeee[10]]){if(_0xcda1x1e[_0xbeee[89]](_0xbeee[88])===  -1){this[_0xbeee[6]][i][_0xbeee[12]](_0xcda1x1e,_0xcda1x18)}else {var n=_0xcda1x1e[_0xbeee[90]](_0xbeee[88]);for(var _0xcda1x1f=0;_0xcda1x1f!= n[_0xbeee[10]];_0xcda1x1f++){this[_0xbeee[6]][i][_0xbeee[12]](n[_0xcda1x1f][_0xbeee[91]](),_0xcda1x18)}};i++}}};var _0xa06c=["\x73\x74\x72\x69\x6E\x67","\x70\x75\x73\x68\x53\x74\x61\x74\x65","\x66\x75\x6E\x63\x74\x69\x6F\x6E","\x72\x65\x61\x64\x79\x53\x74\x61\x74\x65","\x63\x6F\x6D\x70\x6C\x65\x74\x65","\x44\x4F\x4D\x43\x6F\x6E\x74\x65\x6E\x74\x4C\x6F\x61\x64\x65\x64","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\u041E\u0448\u0438\u0431\u043A\u0430\x20\u0432\x20\u043F\u0435\u0440\u0435\u0434\u0430\u043D\u043D\u044B\u0445\x20\u0434\u0430\u043D\u043D\u044B\u0445","\x65\x72\x72\x6F\x72","\x6F\x6E","\x6F\x72\x69\x65\x6E\x74\x61\x74\x69\x6F\x6E\x63\x68\x61\x6E\x67\x65","\x6F\x66\x66","\x72\x65\x6D\x6F\x76\x65\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x66\x69\x6E\x64","\x6B\x65\x79\x73","\x69\x6E\x64\x65\x78\x4F\x66","\x73\x70\x6C\x69\x63\x65"];const his=function(_0x5e51x2= false){if(_0x5e51x2== false||  typeof _0x5e51x2!= _0xa06c[0]){return null};history[_0xa06c[1]](null,null,_0x5e51x2)};const fun=function(_0x5e51x2= false){if(_0x5e51x2== false||  typeof _0x5e51x2!= _0xa06c[2]){return null};d[_0xa06c[3]]== _0xa06c[4]?_0x5e51x2():s[_0xa06c[6]](_0xa06c[5],_0x5e51x2)};const rot=function(_0x5e51x5= false,_0x5e51x2= false){if(_0x5e51x5== false|| _0x5e51x2== false||  typeof _0x5e51x5!= _0xa06c[0]||  typeof _0x5e51x2!= _0xa06c[2]){return console[_0xa06c[8]](_0xa06c[7])};if(_0x5e51x5=== _0xa06c[9]){s[_0xa06c[6]](_0xa06c[10],_0x5e51x2)}else {if(_0x5e51x5=== _0xa06c[11]){s[_0xa06c[12]](_0xa06c[10],_0x5e51x2)}}};const find_object=function(_0x5e51x7= false,_0x5e51x8= false){if(_0x5e51x7== false|| _0x5e51x8== false){return null};return Object[_0xa06c[14]](_0x5e51x7)[_0xa06c[13]]((_0x5e51x9)=>{return _0x5e51x7[_0x5e51x9]=== _0x5e51x8})};const remove_object=function(_0x5e51xb,_0x5e51xc){_0x5e51xc[_0xa06c[16]](_0x5e51xc[_0xa06c[15]](_0x5e51xb),1);return _0x5e51xc}
        /* Показ загрузки */
var function_spin = true;
const spin = function (){

    if (!d.querySelector('page-load') || it("page-load").css('opacity') == 0) return null;

    function_spin = false;
    it("page-load").css({opacity:0});
    setTimeout(`it("body > page-load").remove()`, 1100);
};

const spin_run = function (){

    if (function_spin == false) return null;

    if (d.querySelector('spinner')){

        d.querySelector('spinner').style.transition = '2s';
        d.querySelector('spinner').style.transform = 'rotate(360deg)';

        setTimeout(function (){

            if (d.querySelector('spinner')){

                d.querySelector('spinner').style.transition = '';
                d.querySelector('spinner').style.transform = '';
            };

            setTimeout (spin_run, 800);
        }, 2000)
    }
};

spin_run ();
setTimeout(()=>{fun (spin)}, 500);

/* Генерация боевой карты */
function MapGeneration (from){

    /* Если на карте есть мусор - удаляем его */
    if (it('#map').html() != '') it('#map').html('');
    
    /* Начальные переменные */
    n = x = y = z = 0;

    /* Цикл создания клеток */
    do {

        /* Создание строк */
        if (x == 0 || y == from[0]){

            x++;    // количество строк
            y = 0;  // количество квадратов в строке

            /* Создание строки */
            it('#map').append(`<div data-String="${x}"></div>`);
        }

        y++; // количество квадратов в строке
        z++; // общее количество квадратов

        /* Создание клетки */
        it(`div[data-String="${x}"]`).append(`<div data-Block="${z}"></div>`);

        /* Рисуем графику на клетке */
        if (from[2] != null && from[2][z])
            d.querySelector(`div[data-Block="${z}"]`).className = from[2][z];

        /* Если закончились клетки и строки */
        if (from[1] == x && from[0] == y)
            n = true;

    /* Конец цикла создания карты */
    } while (n !== true);

    /* Адаптируем размеры боевого поля к маленьким устройствам так как может быть ошибка в отображении */
    x = from[1] * 50;
    it('#map-setting').html(

        `@media screen and (max-height: ${x}px) {
            #map {
               margin: 0 auto;
            }
         }`
    );
};

/* При клике по карте запускаем функцию */
it('body').click (function (e){

    /* Отслеживаем нажатие по клетке */
    x = e.target.closest('div[data-block]');

    /* Если уже производилось нажатие по какой-либо клетке */
    if (voiceClickTower != null){

        /* Если нажали по другой клетке, не как в прошлый раз */
        if ( x == null || Number(x.getAttribute('data-block')) != voiceClickTower ){

            /* Убрать с прошлой клетки меню выбора башни */
            if (mode == 'admin')
                it(`div[data-block="${voiceClickTower}"]`).at('del', 'style');
            else {
                
                 if ( d.querySelector(`div[data-block="${voiceClickTower}"] > div.tower1`) != null )
                    it('.curcleVoiceTower, br').remove();
                else it(`div[data-block="${voiceClickTower}"]`).html('');
            }

            voiceClickTower = null;

        /* Если нажали по той же клетке, как и в прошлый раз */
        } else {

            /* Если нажали на покупку в выборе башни */
            if ( x.querySelector('.curcleVoiceTower[data-clickTower]') ){

                let typeTower = it('.curcleVoiceTower[data-clickTower]').at('get', 'data-clickTower');

                /* Если необходимо башню прокачать или продать */
                if (isNaN(Number(typeTower))){

                    y = x.querySelector('div.tower1').getAttribute('data-tower');

                    if (typeTower == 'up'){

                        var sum = shopTowers[ defense[y][4] ][0] * 1.5;
                        if (gold >= sum){

                            gold -= sum;
                            it('#goldBlock span').html(gold);
                            defense[y][10] += 1;

                            defense[y][8] *= 1.5;
                            x.querySelector('div.tower1').insertAdjacentHTML('beforeend', '<svg class="star-tower" viewBox="0 0 128 128" aria-hidden="true" role="img" class="iconify iconify--noto" preserveAspectRatio="xMidYMid meet" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/><g id="SVGRepo_iconCarrier"><path d="M68.05 7.23l13.46 30.7a7.047 7.047 0 0 0 5.82 4.19l32.79 2.94c3.71.54 5.19 5.09 2.5 7.71l-24.7 20.75c-2 1.68-2.91 4.32-2.36 6.87l7.18 33.61c.63 3.69-3.24 6.51-6.56 4.76L67.56 102a7.033 7.033 0 0 0-7.12 0l-28.62 16.75c-3.31 1.74-7.19-1.07-6.56-4.76l7.18-33.61c.54-2.55-.36-5.19-2.36-6.87L5.37 52.78c-2.68-2.61-1.2-7.17 2.5-7.71l32.79-2.94a7.047 7.047 0 0 0 5.82-4.19l13.46-30.7c1.67-3.36 6.45-3.36 8.11-.01z" fill="#fdd835"/><path d="M67.07 39.77l-2.28-22.62c-.09-1.26-.35-3.42 1.67-3.42c1.6 0 2.47 3.33 2.47 3.33l6.84 18.16c2.58 6.91 1.52 9.28-.97 10.68c-2.86 1.6-7.08.35-7.73-6.13z" fill="#ffff8d"/><path d="M95.28 71.51L114.9 56.2c.97-.81 2.72-2.1 1.32-3.57c-1.11-1.16-4.11.51-4.11.51l-17.17 6.71c-5.12 1.77-8.52 4.39-8.82 7.69c-.39 4.4 3.56 7.79 9.16 3.97z" fill="#f4b400"/></g></svg>');
                        }

                    } else if (typeTower == 'del'){

                        gold += shopTowers[ defense[y][4] ][0];
                        it('#goldBlock span').html(gold);

                        defense[y] = null;
                        it(`div.tower1[data-tower="${y}"]`).remove();
                    }

                    it('.curcleVoiceTower, br').remove();

                /* Если башню хотят купить */
                } else {

                    /* Если денег на башню не хватило */
                    if  (gold < shopTowers[typeTower][0]){

                        it(`div[data-block="${voiceClickTower}"]`).html('');
                        voiceClickTower = null;
                        return null;
                    }

                    if (lvlOpen == 0 && user.lvl[0][1] == 0 && defense.length == 0)
                        openBlackBackground ('ob', 3);

                    gold -= shopTowers[typeTower][0];
                    it('#goldBlock span').html(gold.toFixed());

                    x.innerHTML = `<div class="tower1" data-tower="${defense.length}" style="background-position: ${shopTowers[typeTower][3][2]}"><div class="zona"></div></div>`;

                    y = x.parentNode.querySelectorAll('div[data-block]');
                    z = find_object (y, x);
                    z = (z - 1) * 50;

                    /* Добавляем башню в общий массив башен */
                    defense.push ([

                        (z - 30),                                                       /* начало кординат х */
                        (z + 150),                                                      /* конец кординат х */
                        (x.parentNode.getAttribute('data-String') - 2) * 50 - 30,       /* начало кординат у */
                        (Number(x.parentNode.getAttribute('data-String')) + 1) * 50,    /* конец кординат у */
                        typeTower,                                                      /* id башни */
                        user['towers'][typeTower][1],                                   /* Перезарядка */
                        0,                                                              /* Время последнего удара */
                        voiceClickTower,                                                /* Номер блока с башней */
                        user['towers'][typeTower][0],                                   /* Урон от башни */
                        shopTowers[typeTower][7],                                       /* Сколько целей атакует башня */
                        1,                                                              /* Сколько звезд у башни */
                    ]);
                }

                voiceClickTower = null;

            /* Если нажали не на покупку башни */
            } else {

                if (mode == 'admin')
                    d.querySelector(`div[data-block="${voiceClickTower}"]`).removeAttribute('style');
                else it(`div[data-block="${voiceClickTower}"] .curcleVoiceTower, div[data-block="${voiceClickTower}"] br, div[data-block="${voiceClickTower}"] span`).remove();
                
                voiceClickTower = null;
            }

            return null;
        }
    }

    /* Если нажали не по клетке */
    if ( !x || (x.className != '' && mode != 'admin') ) return null;

    /* Если необходимо показать меню для покупки башни */
    voiceClickTower = Number(x.getAttribute('data-block'));

    /* Если нажали по башне */
    if ( x.querySelector('div.tower1') != null ){

        y = x.querySelector('div.tower1').getAttribute('data-tower');
        var text = ``;

        if (defense[y][10] < 3) text += `<div class="curcleVoiceTower" onclick="this.setAttribute('data-clickTower', 'up')">
            <svg viewBox="-2.4 -2.4 52.80 52.80" fill="#12af32" transform="rotate(90)" stroke="#12af32" stroke-width="4.8"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#12af32" stroke-width="4.608"><path d="M45,26H3a2,2,0,0,1,0-4H45A2,2,0,0,1,45,26Z" fill="#4dbe86"/><path d="M19,43a2,2,0,0,1-1.41-.59l-17-17A2,2,0,0,1,0,24a2.07,2.07,0,0,1,.59-1.44l17-17a2,2,0,0,1,2.83,2.83L4.81,24,20.38,39.57A2,2,0,0,1,19,43Z" fill="#4dbe86"/></g><g id="SVGRepo_iconCarrier"><path d="M45,26H3a2,2,0,0,1,0-4H45A2,2,0,0,1,45,26Z" fill="#4dbe86"/><path d="M19,43a2,2,0,0,1-1.41-.59l-17-17A2,2,0,0,1,0,24a2.07,2.07,0,0,1,.59-1.44l17-17a2,2,0,0,1,2.83,2.83L4.81,24,20.38,39.57A2,2,0,0,1,19,43Z" fill="#4dbe86"/></g></svg>
            <span>${shopTowers[ defense[y][4] ][0] * 1.5}<t style="color: gold;font-family: Arial;">$</t></span>
        </div>`;
        else text += `<div class="curcleVoiceTower" onclick="this.setAttribute('data-clickTower', 'other')" style="filter: opacity(0)"></div>`;

        text += `<div style="left: 0px;top: 25px;" class="curcleVoiceTower" onclick="this.setAttribute('data-clickTower', 'del')">
            <svg viewBox="0 0 512 512"> <circle style="fill:#FFDC64;" cx="256" cy="256" r="256"></circle> <circle style="fill:#FFC850;" cx="256" cy="256" r="220.69"></circle> <circle style="fill:#FFF082;" cx="256" cy="256" r="194.207"></circle> <path style="fill:#E7B452;" d="M291.31,253.95v-93.357c18.276,6.737,30.897,18.294,30.897,30.856c0,7.31,5.931,13.241,13.241,13.241 s13.241-5.931,13.241-13.241c0-26.968-23.418-49.479-57.379-58.808v-9.054c0-7.31-5.931-13.241-13.241-13.241 c-7.31,0-13.241,5.931-13.241,13.241v4.71c-2.905-0.18-5.843-0.296-8.828-0.296s-5.922,0.116-8.828,0.296v-4.71 c0-7.31-5.931-13.241-13.241-13.241s-13.241,5.931-13.241,13.241v9.054c-33.961,9.33-57.379,31.839-57.379,58.808 c0,35.75,24.744,53.774,57.379,66.601v93.357c-18.276-6.737-30.897-18.294-30.897-30.856c0-7.31-5.931-13.241-13.241-13.241 s-13.241,5.931-13.241,13.241c0,26.968,23.418,49.479,57.379,58.808v9.055c0,7.31,5.931,13.241,13.241,13.241 s13.241-5.931,13.241-13.241v-4.71c2.905,0.18,5.843,0.296,8.828,0.296s5.922-0.116,8.828-0.296v4.71 c0,7.31,5.931,13.241,13.241,13.241c7.31,0,13.241-5.931,13.241-13.241v-9.054c33.961-9.33,57.379-31.839,57.379-58.808 C348.69,284.801,323.946,266.776,291.31,253.95z M256,154.483c2.985,0,5.921,0.167,8.828,0.405v89.97 c-1.668-0.514-3.327-1.033-5.009-1.539c-4.502-1.355-8.652-2.679-12.647-3.994v-84.437C250.079,154.649,253.015,154.483,256,154.483 z M189.793,191.448c0-12.562,12.62-24.118,30.897-30.856v68.591C198.004,218.632,189.793,207.616,189.793,191.448z M256,357.517 c-2.985,0-5.921-0.167-8.828-0.405v-89.97c1.668,0.514,3.327,1.033,5.009,1.539c4.502,1.355,8.652,2.679,12.647,3.994v84.437 C261.921,357.351,258.985,357.517,256,357.517z M291.31,351.407v-68.591c22.686,10.552,30.897,21.568,30.897,37.736 C322.207,333.113,309.587,344.67,291.31,351.407z"></path> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
        </div>`;

        x.insertAdjacentHTML ('beforeend', text);

        setTimeout(()=>{it('.curcleVoiceTower').css({opacity: 1})}, 0);
        return null;
    }

    /* Если просто нажали по клетке - открыть меню с покупкой башен */
    if (mode == 'admin')
        x.style.border = '3px solid red';
    else {

        var textInnerMenuVoiceTower = ``;
    
        for ( var countMenuVoiceTower = 0; countMenuVoiceTower != 4; countMenuVoiceTower++ ){
    
            /* Получаем id башни */
            uvt = user.voiceTowers[countMenuVoiceTower];
    
            if ( uvt != null )
                textInnerMenuVoiceTower += `<div class="curcleVoiceTower" onclick="this.setAttribute('data-clickTower', '${uvt}')" style="background-image: url(images/tower.png); background-size: 800%;background-position: ${shopTowers[uvt][3][0]}"></div>
                    <span>${shopTowers[uvt][0]}<t style="color: gold;font-family: Arial;">$</t></span>`;
            else
                textInnerMenuVoiceTower += `<div class="curcleVoiceTower">
                    <svg viewBox="0 0 512 512"> <path style="fill:#5B5D6E;" d="M397.239,211.863h-35.311v-70.621c0-58.415-47.518-105.932-105.932-105.932 S150.065,82.829,150.065,141.242v70.621h-35.311v-70.621C114.754,63.363,178.117,0,255.997,0s141.242,63.363,141.242,141.242 V211.863z"/> <path style="fill:#707487;" d="M256,512L256,512c-87.757,0-158.898-71.141-158.898-158.898V220.688 c0-14.626,11.857-26.483,26.483-26.483h264.829c14.626,0,26.483,11.857,26.483,26.483v132.415C414.898,440.859,343.757,512,256,512z "/> <g> <path style="fill:#5B5D6E;" d="M282.483,326.62c0-16.209-14.56-29.015-31.315-26.055c-10.779,1.905-19.549,10.856-21.294,21.662 c-1.993,12.339,4.588,23.293,14.658,28.165l-4.868,36.866c-0.698,5.289,3.417,9.983,8.751,9.983h15.17 c5.334,0,9.45-4.695,8.752-9.983l-4.868-36.866C276.325,346.107,282.483,337.118,282.483,326.62z"/> <path style="fill:#5B5D6E;" d="M256,476.689c-68.147,0-123.587-55.44-123.587-123.587V238.343c0-4.879,3.953-8.828,8.828-8.828 h229.519c4.875,0,8.828,3.948,8.828,8.828v114.759C379.587,421.25,324.147,476.689,256,476.689z M150.068,247.171v105.932 c0,58.415,47.521,105.932,105.932,105.932s105.932-47.518,105.932-105.932V247.171L150.068,247.171L150.068,247.171z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                </div>`;
    
            if (countMenuVoiceTower == 3) x.innerHTML = textInnerMenuVoiceTower;
        }
    
        setTimeout(()=>{it('.curcleVoiceTower').css({opacity: 1})}, 0);
    }
});

/* Анимация движения */
function animate (from){

    if (lvlOpen == null) return null;

    /* Если монстр уже уничтожен - прекратить функцию движения */
    if (!d.querySelector(`.monster[data-id="${from[0]}"]`))
        return null;

    /* Если игра на паузе */
    if (pause === true) return setTimeout (()=>{animate (from)}, 50);

    /* Начальные переменные, для определение координат в пространстве */
    var coordinates = it(`.monster[data-id="${from[0]}"]`).at('get', 'coordinates');
    var x_left = parseInt(it(`.monster[data-id="${from[0]}"]`).css('left'));
    var n_top = parseInt(it(`.monster[data-id="${from[0]}"]`).css('top'));
    w = coordinates - 1;

    /*
        Зомби двигаются по заданной траектории от точки до точки
        Необходимо проверить, зомби достиг заданой контрольной точки или еще нет
        Если зомби достиг контрольной точки, ему нужно задать новую координату движения
    */
    if (from[2][coordinates][0] == x_left && from[2][coordinates][1] == n_top){

        coordinates++;
        it(`.monster[data-id="${from[0]}"]`).at('new', 'coordinates', coordinates);
    }

    /* Если зомби достиг последней контрольной точки */
    if (from[2].length == coordinates){
        
        it(`.monster[data-id="${from[0]}"]`).remove();
        it('body').css({boxShadow:'inset 0px 0px 150px #ff000099'});
        bloodTime = getTime ();

        setTimeout( function (){

            if ((bloodTime + 2) <= (getTime ()))
                it('body').at('del', 'style');
        }, 2100);

        var life = it('#textHp').html() - 1;
        it('#textHp').html(life);
        monstersKill++;

        if (life == 0){

            pauseAndPlay ('pause');
            openBlackBackground ('resultWar', lvlOpen);
        }

        return null;
    }

    /* Осуществление движения по вертикале */
    if (from[2][coordinates][1] != n_top){

        if (from[2][coordinates][1] > n_top){

            y = (n_top + from[1]).toFixed();
            it(`.monster[data-id="${from[0]}"] .imageMonster`).css({'transform':'rotate(90deg)'});

            /* Если превышает заданную координату */
            if (y > from[2][coordinates][1])
                y = from[2][coordinates][1];

        } else {

            y = (n_top - from[1]).toFixed();
            it(`.monster[data-id="${from[0]}"] .imageMonster`).css({'transform':'rotate(-90deg)'});

            /* Если превышает заданную координату */
            if (y < from[2][coordinates][1])
                y = from[2][coordinates][1];
        }

        it(`.monster[data-id="${from[0]}"]`).css({'top': (y + 'px')});
    }

    /* Осуществление движения по горизонтале */
    if (from[2][coordinates][0] != x_left){

        if (from[2][coordinates][0] > x_left){

            y = (x_left + from[1]).toFixed();
            it(`.monster[data-id="${from[0]}"] .imageMonster`).css({'transform':'rotate(0deg)'});

            /* Если превышает заданную координату */
            if (y > from[2][coordinates][0])
                y = from[2][coordinates][0];

        } else {

            y = (x_left - from[1]).toFixed();
            it(`.monster[data-id="${from[0]}"] .imageMonster`).css({'transform':'rotate(180deg)'});

            /* Если превышает заданную координату */
            if (y < from[2][coordinates][0])
                y = from[2][coordinates][0];
        }

        it(`.monster[data-id="${from[0]}"]`).css({'left': (y + 'px')});
    }

    /* Запускаем снова функцию движения */
    setTimeout (()=>{animate (from)}, 50);
};

/* Защита башен */
function defenseTower (){

    if ( lvlOpen == null ) return null;
    if (pause === true)
        return setTimeout (() => {defenseTower ()}, 200);

    if (defense.length > 0 && pause != true){

        /* Перебираем все башни стоящие на карте */
        for ( i of defense ){

            if (i == null) continue;

            /* Если пришло время для нового удара башни */
            if ( (i[6] + (i[5] / 1000)) <= getTime () ){

                a = d.querySelectorAll('.monster');
                z = false;
                var array = [];

                /* Перебираем всех зомби на карте */
                for (w of a){

                    var idMonster = w.getAttribute('data-id');

                    x = it(`.monster[data-id="${idMonster}"]`).css('left');
                    x = parseInt(x);
                    n = it(`.monster[data-id="${idMonster}"]`).css('top');
                    n = parseInt(n);

                    if ( x >= i[0] && x < i[1] && n >= i[2] && n < i[3] )
                        array.push(idMonster);

                    if ( array.length > 0 && a[(a.length - 1)] == w){

                        let idBlockScale = i[7];
                        it(`div[data-block="${idBlockScale}"] > div.tower1`).css({transform: 'scale(1.3)'});
                        setTimeout (() =>{

                            if (d.querySelector(`div[data-block="${idBlockScale}"] > div.tower1`))
                                it(`div[data-block="${idBlockScale}"] > div.tower1`).css({transform: 'scale(1)'})
                        }, 500);

                        /* Сколько целей атаковать */
                        switch (i[9]){

                            case 0:
                                var damage = i[8],
                                hp = it('.monster[data-id="' + array[0] + '"] .hp').at('get', 'hp');
                                z = hp - damage;
                
                                if ( z <= 0 ){

                                    it('.monster[data-id="' + array[0] + '"]').remove(); /* Удаляем модель зомби */
                                    gold += 4;
                                    monstersKill++;
                                    it('#goldBlock span').html(gold);
                                    
                                } else {
                
                                    it('.monster[data-id="' + array[0] + '"] .hp').at('new', 'hp', z);
                                    z = 100 / it('.monster[data-id="' + array[0] + '"] .hp').at('get', 'maxHp') * z + '%';
                                    it('.monster[data-id="' + array[0] + '"] .hp').css({width: z});
                                }

                                i[6] = getTime ();
                                break;

                            case 1:
                                var damage = i[8];

                                for (var p of array){

                                    var hp = it('.monster[data-id="' + p + '"] .hp').at('get', 'hp');
                                    z = hp - damage;

                                    if ( z <= 0 ){

                                        it('.monster[data-id="' + p + '"]').remove(); /* Удаляем модель зомби */
                                        gold += 4;
                                        monstersKill++;
                                        it('#goldBlock span').html(gold);

                                    } else {

                                        it('.monster[data-id="' + p + '"] .hp').at('new', 'hp', z);
                                        z = 100 / it('.monster[data-id="' + p + '"] .hp').at('get', 'maxHp') * z + '%';
                                        it('.monster[data-id="' + p + '"] .hp').css({width: z});
                                    }
                                }

                                i[6] = getTime ();
                                break;
                        }
                    }
                }
            }
        }
    }

    setTimeout (()=>{defenseTower ()}, 200);
};

/* Появление монстров */
function monsterSpawn (from){

    if (lvlOpen == null) return null;
    x = (new Date () / 1000);

    it('#map').append(
    
        `<div class="monster" coordinates="0" data-id="${x}" style="top: ${from[3][0][1]}px;left: ${from[3][0][0]}px;">
            <div class="imageMonster" style="background-image: url(${monsters[from[0]][0]});background-size: ${monsters[from[0]][1]}%"></div>
            <div class="hpBlock">
                <div class="hp" hp="${from[1]}" maxHp="${from[1]}"></div>
            </div>
        </div>`
    );

    animate ([
        x,          // Уникальный номер монстра
        from[4],    // Скорость
        from[3]     // Координаты движения
    ]);
};

/* Запуск новых волн */
function timeWave (from){

    if (lvlOpen == null) return null;
    setTimeout (()=>{timeWave (from)}, 100);
    if (pause === true) return null;
    if (wave != -1 && !from[wave]) return null;

    var timeWaveNum = Number(it('#nextWave span').html());

    /* Таймер прошедкого времени с начала волны */
    if ((getTime () - 1) >= waveTime){

        waveTime = getTime ();
        it('#nextWave span').html(timeWaveNum - 1);
    }

    /* Запуск новой волны */
    if (
        
        timeWaveNum <= 1 ||
        monstersKill == monstersOther
    ){

        waveMonster = [0, 0, 0]; /* номер бригады, кол-во заспавненных, кол-во секунд когда последний раз заспавнился монстр */
        wave++;

        /* В случае победы */
        if (!from[wave]){

            openBlackBackground ('resultWar', lvlOpen);
            return null;
        }
        
        it('#nextWave span').html(60);

        /* Перебираем бригады в волне и зачитываем кол-во зомби которое необходимо убить */
        for ( var wa of lvl[lvlOpen][2][wave] )
            monstersOther += wa[2];

        it('#newVolna').css({opacity: 1});
        it('#newVolnaCount').html(wave + 1);
        setTimeout(()=>{it('#newVolna').at('del', 'style')}, 3000);

        it('#wave span').html(`${(wave + 1)} / ${lvl[lvlOpen][2].length}`);
    }

    /*
        Проверка на необходимость спавна монстров
        Сначала проверим сколько всего заспавнено монстров
    */
    if ( waveMonster[0] != null && from[wave][ waveMonster[0] ][2] == waveMonster[1] ){

        if (from[wave][ (waveMonster[0] + 1) ] != null){

            waveMonster[0] = (waveMonster[0] + 1);
            waveMonster[1] = 0;

        } else waveMonster[0] = null;
    }

    /* Спавн монстров */
    if ( waveMonster[0] != null && (new Date () / 1000) >= (waveMonster[2] + from[wave][ waveMonster[0] ][5]) ){

        waveMonster = [waveMonster[0], (waveMonster[1] + 1), (new Date () / 1000)];
        monsterSpawn (from[wave][waveMonster[0]]);
    }
};

/* Создание карты в хабе */
function hubGeneration (from){

    /* var hubMap = {

        1: [ // 1 локация хабе

            [ // Земля
                                                         [5,0,0.2],[6,0,0.4],[7,0,0.2],
                           [2,1,0.2],[3,1,0],  [4,1,-0.2],[5,1,0], [6,1,0],  [7,1,0.5],[8,1,0.8],[9,1,1],  [10,1,1],
                [1,2,0.3], [2,2,0],  [3,2,0,1],[4,2,0],  [5,2,0],  [6,2,0.3],[7,2,0.7],[8,2,1],  [9,2,1],  [10,2,1],[11,2,1.2],
                [1,3,0],   [2,3,0],  [3,3,0,1],[4,3,0],  [5,3,0.2],[6,3,0.5],[7,3,1],  [8,3,1],  [9,3,1],  [10,3,1],[11,3,1.6],
                [1,4,-0.2],[2,4,0],  [3,4,0,1],[4,4,0],  [5,4,0],  [6,4,0.3],[7,4,1],  [8,4,1],  [9,4,1,1],[10,4,1],[11,4,1.4],
     [0,5,-0.3],[1,5,0],   [2,5,0.3],[3,5,0,2],[4,5,0,3],[5,5,0,3],[6,5,0,4],[7,5,0.8],[8,5,1],  [9,5,1,1],[10,5,1],
     [0,6,-0.1],[1,6,0],   [2,6,0],  [3,6,0],  [4,6,0.2],[5,6,0.1],[6,6,0,1],[7,6,0.5],[8,6,1],            [10,6,0.7],
     [0,7,-0.3],[1,7,0],   [2,7,0],  [3,7,0.2],          [5,7,0],  [6,7,0,2],[7,7,0,3],[8,7,0,6],[9,7,0,5],[10,7,0.5],
                [1,8,-0.3],[2,8,0],                                [6,8,0],  [7,8,0],  [8,8,0,1],[9,8,0],  [10,8,0.3],
                [1,9,-0.5],[2,9,0],                                          [7,9,0],  [8,9,0,2],[9,9,0],  [10,9,0],
                           [2,10,0.2],[3,10,0],                    [6,10,0.2],[7,10,0.4],[8,10,0],[9,10,0],
                                      [3,11,0],[4,11,0.2],[5,11,0],[6,11,0], [7,11,0],
            ],
            [ // Вода 

                [4,7,0],
                [3,8,0],[4,8,0],[5,8,0],
                [3,9,0],[4,9,0.3],[5,9,0.2],[6,9,0],
                [4,10,0],[5,10,0],
            ],
            [ // Наклонная земля

                [9,6,1]
            ]
        ]
    };

    switch ( user.location ){

        case 1:
            for ( var hubMapElement of hubMap[from][0] ){

                if (hubMapElement[3] == null || hubMapElement[3] == false)
                    n = ``;
                else switch (hubMapElement[3]){
                    case 1:
                        n = `style='background-image: url("images/location/1.png");background-position: -132px -170px;'`;
                        break
                    case 2:
                        n = `style='background-image: url("images/location/1.png");background-position: -14px -109px'`;
                        break

                    case 3:
                        n = `style='background-image: url("images/location/1.png");background-position: -50px -180px'`;
                        break

                    case 4:
                        n = `style='background-image: url("images/location/1.png");background-position: -99px -26px'`;
                        break

                    case 5:
                        n = `style='background-image: url("images/location/1.png");background-position: -99px -111px'`;
                        break

                    case 6:
                        n = `style='background-image: url("images/location/1.png");background-position: -50px -270px'`;
                        break
                }

                var element = `<section data-function="ground" class="cube" style="left: ` + hubMapElement[0] * 50 + `px;transform: translateZ(` + hubMapElement[1] * 50 + `px);top: ` + (-hubMapElement[2]) * 50 + `px">
                    <article class="top" ${n}></article>
                    <article class="front"></article>
                    <article class="left"></article>
                </section>`;

                it('#hubMapConstruction').append (element);
            }

            for ( var hubMapElement of hubMap[from][1] ){

                var element = `<section data-function="water" class="cube" style="left: ` + hubMapElement[0] * 50 + `px;transform: translateZ(` + hubMapElement[1] * 50 + `px);top: -` + hubMapElement[2] * 50 + `px">
                    <article class="top"></article>
                    <article class="front"></article>
                </section>`;

                it('#hubMapConstruction').append (element);
            };

            for ( var hubMapElement of hubMap[from][2] ){

                var element = `<section data-function="ground" class="cube" style="left: ` + hubMapElement[0] * 50 + `px;transform: translateZ(` + hubMapElement[1] * 50 + `px);top: -` + hubMapElement[2] * 50 + `px">
                    <article class="top" style='background-image: url("images/location/1.png"); background-position: -150px -180px;background-size: 1200%;background-repeat: no-repeat;transform: rotateX(45deg);top: -10px;height: 70px;'></article>
                </section>`;

                it('#hubMapConstruction').append (element);
            };

            it('#scaleMap').append(

                `<div style="position:relative;height: 670px;width: 1100px;"></div>
                <div class="mapPlanetImage" style="width: 80px;top: 0px;left: 480px;background-position: -580px -60px;background-size: 800px;"></div>
                <div class="mapPlanetImage" style="top: 30px;left: 530px;background-position: -340px -25px;background-size: 600px;"></div>
                <div class="mapPlanetImage" style="width: 80px;top: 80px;left: 500px;background-position: -580px -60px;background-size: 800px;"></div>
                <div class="mapPlanetImage" style="width: 80px;top: 25px;left: 610px;background-position: -580px -60px;background-size: 800px;"></div>
                <div class="mapPlanetImage" style="top: 160px;left: 260px;background-position: -490px -25px;background-size: 600px;"></div>
                <div class="mapPlanetImage" style="top: 200px;left: 730px;background-position: -340px -25px;background-size: 600px;"></div>`
            );

            // Отрисовка пройденных и непройд уровней
            var iconPosition = [[330,225],[390,260,1],[460,230],[540,220],[610,220],[700,230],[670,180],[620,100],[570,70]];

            for (var elementWarIcon = 0; elementWarIcon != 9; elementWarIcon++){

                var textIconWar = `<div class="warIcon `;

                if ( user.lvl[elementWarIcon] != null )
                    textIconWar += `openlvl${user.lvl[elementWarIcon][1]}" onclick="openBlackBackground ('lvl', ${elementWarIcon})"`;
                else
                    textIconWar += `openlvlBlock"`;
                
                textIconWar += `style="left: ${iconPosition[elementWarIcon][0]}px;top: ${iconPosition[elementWarIcon][1]}px;`;
                
                if ( iconPosition[elementWarIcon][2] != null )
                    textIconWar += `z-index: ${iconPosition[elementWarIcon][2]}`;

                textIconWar += `"></div>`;
               
                it('#scaleMap').append(textIconWar);
            }

            it('#scaleMap').append(

                `<div class="mapPlantImage" style="top: 270px;left: 460px;background-position: -490px -280px;background-size: 600px;"></div>
                <div class="mapPlanetImage" style="top: 240px;left: 620px;background-position: -490px -280px;background-size: 600px;"></div>
                <div class="mapPlanetImage" style="top: 200px;left: 400px;background-position: -490px -280px;background-size: 600px;"></div>
                <div class="mapPlanetImage" style="top: 140px;left: 350px;background-position: -480px -340px;background-size: 700px;"></div>
                <div class="mapPlanetImage" style="top: 300px;left: 400px;background-position: -780px -340px;background-size: 900px;"></div>
                <div class="mapPlanetImage" style="top: 110px;left: 570px;background-position: -780px -340px;background-size: 900px;"></div>
                
                <div class="mapPlanetImage" style="top: 180px;left: 480px;background-position: -530px -340px;background-size: 900px;transform: scale(0.7);"></div>
                <div class="mapPlanetImage" style="top: 320px;left: 410px;background-position: -530px -340px;background-size: 900px;transform: scale(0.7);"></div>
                <div class="mapPlanetImage" style="top: 260px;left: 310px;background-position: -530px -340px;background-size: 900px;transform: scale(0.7);"></div>
                <div class="mapPlanetImage" style="top: 240px;left: 280px;background-position: -530px -470px;background-size: 900px;transform: scale(0.7);"></div>`
            );
            break;
    }*/

    for (var elementWarIcon = 0; elementWarIcon != 50; elementWarIcon++){

        var textIconWar = `<div class="warCon" data-warLvl="${elementWarIcon}" `;

            if (user.lvl[elementWarIcon])
                textIconWar += `onclick="openBlackBackground ('lvl', ${elementWarIcon})" style="background: #e29d1e;border: 5px solid #996218;"`;

            textIconWar += `><span>${(elementWarIcon + 1)}</span>
            <div class="warIcon `;

            if (user.lvl[elementWarIcon])
                textIconWar += `openlvl${user.lvl[elementWarIcon][1]}`;
            else textIconWar += `openlvlBlock`;
        
            textIconWar += `"></div>
        </div>`;
       
        it('#scaleMap').append(textIconWar);
    }
};

/* Нажатие на кнопку играть */
function playButton (from){

    if (user.voiceTowers.length == 0)
        return warning ('Для боя необходимо выбрать хотябы 1 карту');

    if (user.bank.energy == 0)
        return warning ('У вас закончилась энергия для игры, одна единица восстанавливается каждый час');

    /* Ввод переменных */
    lvlOpen = from;
    defense = [];
    gold = lvl[lvlOpen][5][1];
    waveTime = getTime ();
    wave = -1;
    bloodTime = getTime ();
    monstersKill = 0;
    monstersOther = 0;

    it('#hub, #scale').css({display: 'none'}); /* Скрываем главное меню */
    it('#goldBlock').css({display: 'block'}); /* Появление блока с золотом */
    it('#goldBlock span').html(gold);
    it('#textHp').html(lvl[lvlOpen][5][0]); /* Кол-во жизней на уровень */
    it('#nextWave span').html(0);  /* Таймер до новой волны */

    closeBlackBackground ();
    MapGeneration ([lvl[lvlOpen][0], lvl[lvlOpen][1], lvl[lvlOpen][3]]);  /* Генерация карты */
    timeWave (lvl[lvlOpen][2]);                                           /* Запуск волн с зомби */
    defenseTower ();                                                      /* Запуск защиты башен */

    user.bank.energy -= 1;
    it('#energy').html(user.bank.energy);
    if (user.energyTime == null) user.energyTime = getTime ();
    saveData ();

    if (pause == true) pauseAndPlay ('play');

    /* Режим обучения */
    if (lvlOpen == 0 && user.lvl[0][1] == 0)
        setTimeout(()=>{openBlackBackground ('ob', 1)}, 3000);
};

/* Приближения и отдаления карты хабе */
function scaleMap (from = false){

    if (from == false) return null;

    if (from == '+'){

        if (
            
            it('#scaleMap').css('transform') == 'none' ||
            it('#scaleMap').css('transform') == 'matrix(1, 0, 0, 1, 0, 0)'
        )
            it('#scaleMap').css({'transform': 'scale(1.1)'});
        else {

            x = Number(it('#scaleMap').css('transform').substr(7, 3)) + 0.1;

            if (x > 1.5) return null;

            it('#scaleMap').css({'transform': 'scale(' + x + ')'});
        }

    } else {

        if (
            
            it('#scaleMap').css('transform') == 'none' ||
            it('#scaleMap').css('transform') == 'matrix(1, 0, 0, 1, 0, 0)'
        )
            it('#scaleMap').css({'transform': 'scale(0.9)'});
        else {

            x = Number(it('#scaleMap').css('transform').substr(7, 3)) - 0.1;

            if (x < 0.5) return null;

            it('#scaleMap').css({'transform': 'scale(' + x + ')'});
        }
    }
};

/* Отображение цвета в меню карточки и в покупке танков */
function color_tank (a, b){

    if (a == 'Damage'){

        if (b >= 80)
            return '#4ad161';
        else if (b >= 60)
            return '#4ad161ab';
        else if (b >= 40)
            return '#f2ff2c';
        else if (b >= 20)
            return '#ffbe2c';
        else return '#ff7a2c';

    } else if (a == 'Recharge'){

        if (b <= 0.5)
            return '#4ad161';
        else if (b <= 0.8)
            return '#4ad161ab';
        else if (b <= 1)
            return '#f2ff2c';
        else if (b < 1)
            return '#ffbe2c';
        else return '#ff7a2c';
    }
};

/* Открытие затемнённого экрана */
function openBlackBackground (fromType, fromPosition){

    it('#backgroundBlack').css({
        opacity: 1,
        pointerEvents: 'auto'
    });

    switch (fromType){

        case 'lvl':
            if (!lvl[fromPosition]){

                warning ('В разработке !');
                closeBlackBackground ();
                return null;
            }

            it('#backgroundBlack').html(

                `<div id="menuTablo">
                    <div id="closeMenuTablo" onclick="closeBlackBackground ()">✕</div>

                    <div id="imageLvl" style="background-image: url(images/lvl/${fromPosition}.jpg);"></div>
                    <div id="nameMis">Полупустыня</div>
                    <div id="numMis">Миссия ${fromPosition + 1}</div>
                    <div id="rewardText">Награда за прохождение:</div>

                    <svg id="moneyRewardMenu" viewBox="0 0 512 512"> <g> <g> <path style="fill:#74D24F;" d="M496,112H16c-8.82,0-16,7.18-16,16v256c0,8.82,7.18,16,16,16h480c8.82,0,16-7.18,16-16V128 C512,119.18,504.82,112,496,112z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M472,192c-22.055,0-40-17.945-40-40c0-4.422-3.578-8-8-8H88c-4.422,0-8,3.578-8,8 c0,22.055-17.945,40-40,40c-4.422,0-8,3.578-8,8v112c0,4.422,3.578,8,8,8c22.055,0,40,17.945,40,40c0,4.422,3.578,8,8,8h336 c4.422,0,8-3.578,8-8c0-22.055,17.945-40,40-40c4.422,0,8-3.578,8-8V200C480,195.578,476.422,192,472,192z"></path> </g> <g> <path style="fill:#869B55;" d="M128,256c0,48.221,26.691,90.175,66.081,112h123.839C357.309,346.175,384,304.221,384,256 s-26.691-90.175-66.081-112H194.08C154.691,165.825,128,207.779,128,256z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M256,244c-16.023,0-28-8.445-28-16c0-7.555,11.977-16,28-16s28,8.445,28,16c0,6.625,5.375,12,12,12 s12-5.375,12-12c0-19.236-16.824-34.862-40-38.932V184c0-6.625-5.375-12-12-12s-12,5.375-12,12v5.068 c-23.176,4.07-40,19.695-40,38.932c0,22.43,22.844,40,52,40c16.023,0,28,8.445,28,16c0,7.555-11.977,16-28,16s-28-8.445-28-16 c0-6.625-5.375-12-12-12s-12,5.375-12,12c0,19.236,16.824,34.862,40,38.932V328c0,6.625,5.375,12,12,12s12-5.375,12-12v-5.068 c23.176-4.07,40-19.695,40-38.932C308,261.57,285.156,244,256,244z"></path> </g> <g> <circle style="fill:#74D24F;" cx="80" cy="256" r="24"></circle> </g> <g> <circle style="fill:#74D24F;" cx="432" cy="256" r="24"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="360" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="360" r="16"></circle> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                    <span style="left: 65%" class="winRewardMenu">${lvl[fromPosition][4][0][0]}</span>

                    <div id="buttonGoPlay" onclick="playButton (${fromPosition})">Играть <span class="flare"></span></div>
                </div>`
            );
            break;

        case 'resultWar':
            var hp = Number(it('#textHp').html()),
            text = `<div id="menuTablo" style="background-color: #ffb836;bottom: 0;height: 100%;max-height: 350px;">
                <div id="closeMenuTablo" onclick="closeBlackBackground ();endgame ();">✕</div>`;

            var countStar;
            if (hp == lvl[fromPosition][5][0])
                countStar = 3;
            else {

                if (lvl[fromPosition][5][0] == 1)
                    countStar = 0;
                else {

                    var star = lvl[fromPosition][5][0] / 3;

                    if ((star * 2) <= hp)
                        countStar = 2;
                    else if (star <= hp)
                        countStar = 1;
                    else 
                        countStar = 0;
                }
            }

            if (hp > 0) text += `<div id="tabName">Победа</div>`;
            else text += `<div id="tabName" style="background: linear-gradient(45deg, #817a6a, #1f1c19);">Поражение</div>`;

            text += `<div id="mapsShop" style="margin-top: 0;height: calc(100% - 65px)">
                <div id="textResultWar">Твоя награда:</div>
                <div id="con-star">
                    <svg style="margin-top: 4%; width: 16%; height: fit-content" class="star" viewBox="0 0 512 512"> <g> <rect x="235.772" y="244.961" style="fill:#FFC26D;" width="40.456" height="123.838"/> <path style="fill:#FF9A1B;" d="M276.228,244.961v34.293c-6.235,2.593-13.067,4.033-20.228,4.033c-7.161,0-13.993-1.44-20.228-4.033 v-34.293H276.228z"/> <g> <g> <path style="fill:#FA8916;" d="M376.139,404.643c-2.911,0-5.699-1.653-7.009-4.466c-1.801-3.868-0.126-8.465,3.742-10.266 c33.433-15.57,58.051-37.549,73.172-65.325c12.132-22.286,18.304-48.464,18.345-77.807c0.07-50.778-18.462-93.854-18.649-94.283 c-1.705-3.909,0.079-8.463,3.987-10.171c3.907-1.707,8.46,0.072,10.171,3.979c0.812,1.857,19.901,46.081,19.944,100.006 c0.039,50.542-17.355,118.913-100.446,157.61C378.341,404.41,377.231,404.643,376.139,404.643z"/> <g> <g> <path style="fill:#FFDBAA;" d="M453.15,90.275c8.479,24.552,10.734,60.247-0.366,64.081s-31.353-25.647-39.832-50.199 c-8.479-24.552-1.973-34.877,9.128-38.711C433.18,61.614,444.671,65.724,453.15,90.275z"/> </g> </g> <g> <path style="fill:#FFC26D;" d="M452.781,154.351c-2.583,0.895-5.669-0.021-8.993-2.264c3.539-12.882,0.679-37.349-5.638-55.643 c-6.708-19.415-15.3-26.041-24.097-26.072c2.161-2.264,4.908-3.858,8.025-4.928c11.102-3.827,22.595,0.278,31.073,24.827 C461.63,114.831,463.883,150.524,452.781,154.351z"/> </g> <g> <path style="fill:#FFB54E;" d="M472.526,249.627c-5.124,3.786-15.752-0.978-26.864-9.456 c-9.373-7.161-19.096-16.956-26.165-26.515c-15.444-20.897-12.326-32.688-2.881-39.674c9.178-6.781,20.959-6.513,35.795,12.696 c0.432,0.545,0.854,1.111,1.286,1.698C469.13,209.263,481.971,242.641,472.526,249.627z"/> <path style="fill:#FF9A1B;" d="M472.526,249.627c-5.124,3.786-15.752-0.978-26.864-9.456c-0.607-4.383-0.782-9.332-0.525-14.826 c0.566-12.244,3.241-26.319,7.274-38.666c0.432,0.545,0.854,1.111,1.286,1.698C469.13,209.263,481.971,242.641,472.526,249.627z "/> <path style="fill:#FFDBAA;" d="M467.778,186.414c-9.153,24.308-12.392,59.928-1.402,64.067 c10.99,4.138,32.049-24.772,41.201-49.081c9.153-24.308,2.934-34.809-8.056-38.948 C488.531,158.314,476.931,162.106,467.778,186.414z"/> <path style="fill:#FFC26D;" d="M507.58,201.403c-9.157,24.302-30.208,53.214-41.207,49.078c-2.562-0.957-4.342-3.632-5.463-7.47 c10.968-7.552,24.488-28.325,31.34-46.516c7.213-19.168,4.877-29.745-1.821-35.394c3.035-0.319,6.091,0.216,9.095,1.348 C510.512,166.595,516.727,177.09,507.58,201.403z"/> </g> <g> <path style="fill:#FFB54E;" d="M446.021,354.317c-6.204,1.461-14.086-7.12-20.948-19.302 c-5.793-10.268-10.855-23.119-13.581-34.684c-5.947-25.28,1.574-34.9,13.005-37.586c11.122-2.613,21.843,2.284,27.893,25.805 c0.175,0.669,0.34,1.348,0.504,2.047C458.831,315.888,457.452,351.621,446.021,354.317z"/> <path style="fill:#FF9A1B;" d="M446.021,354.317c-6.204,1.461-14.086-7.12-20.948-19.302c1.163-4.27,2.953-8.879,5.361-13.828 c5.361-11.03,13.376-22.893,21.957-32.637c0.175,0.669,0.34,1.348,0.504,2.047C458.831,315.888,457.452,351.621,446.021,354.317 z"/> <path style="fill:#FFDBAA;" d="M466.605,294.358c-18.003,18.723-35.037,50.174-26.571,58.313s39.224-10.114,57.227-28.837 c18.003-18.723,16.433-30.826,7.968-38.966C496.763,276.729,484.608,275.635,466.605,294.358z"/> <path style="fill:#FFC26D;" d="M497.26,323.831c-18.006,18.726-48.759,36.978-57.227,28.84 c-1.307-1.255-2.006-3.076-2.181-5.319c13.067-3.838,31.752-16.627,44.273-29.643c17.532-18.232,16.503-30.188,8.622-38.326 c5.782-0.576,10.536,1.687,14.477,5.484C513.692,293.005,515.266,305.115,497.26,323.831z"/> </g> </g> <g> <path style="fill:#FA8916;" d="M135.861,404.643c-1.092,0-2.202-0.233-3.257-0.724C49.513,365.221,32.119,296.851,32.158,246.308 c0.042-53.924,19.131-98.149,19.944-100.006c1.711-3.909,6.266-5.691,10.177-3.979c3.907,1.711,5.689,6.264,3.981,10.172l0,0 c-0.187,0.43-18.719,43.505-18.649,94.283c0.041,29.344,6.213,55.522,18.345,77.807c15.121,27.776,39.739,49.755,73.172,65.325 c3.868,1.801,5.543,6.398,3.742,10.266C141.56,402.989,138.772,404.643,135.861,404.643z"/> <g> <path style="fill:#FFDBAA;" d="M58.85,90.275c-8.479,24.552-10.734,60.247,0.366,64.081s31.353-25.647,39.832-50.199 s1.973-34.877-9.128-38.711S67.329,65.724,58.85,90.275z"/> </g> <g> <path style="fill:#FFC26D;" d="M99.047,104.162c-8.478,24.55-28.727,54.027-39.829,50.19c-2.727-0.936-4.651-3.797-5.865-7.953 c10.803-7.727,23.881-29.035,30.27-47.535c6.4-18.541,4.26-28.974-1.955-34.602c2.737-0.226,5.505,0.237,8.252,1.183 C101.023,69.282,107.525,79.602,99.047,104.162z"/> </g> <g> <path style="fill:#FFB54E;" d="M39.474,249.627c5.124,3.786,15.752-0.978,26.864-9.456c9.373-7.161,19.096-16.956,26.165-26.515 c15.444-20.897,12.326-32.688,2.881-39.674c-9.178-6.781-20.959-6.513-35.795,12.696c-0.432,0.545-0.854,1.111-1.286,1.698 C42.87,209.263,30.029,242.641,39.474,249.627z"/> <path style="fill:#FF9A1B;" d="M92.503,213.657c-7.069,9.558-16.792,19.353-26.165,26.515 c-11.112,8.478-21.741,13.242-26.864,9.456c-1.389-1.029-2.305-2.644-2.788-4.692c4.301-1.873,9.147-4.908,14.086-8.674 c9.373-7.161,19.096-16.956,26.165-26.515c15.197-20.557,12.419-32.307,3.334-39.324c5.669-1.337,10.7,0.298,15.114,3.56 C104.83,180.969,107.947,192.76,92.503,213.657z"/> <path style="fill:#FF9A1B;" d="M39.474,249.627c5.124,3.786,15.752-0.978,26.864-9.456c0.607-4.383,0.782-9.332,0.525-14.826 c-0.566-12.244-3.241-26.319-7.274-38.666c-0.432,0.545-0.854,1.111-1.286,1.698C42.87,209.263,30.029,242.641,39.474,249.627z" /> <path style="fill:#FFDBAA;" d="M44.222,186.414c9.153,24.308,12.392,59.928,1.402,64.067S13.575,225.709,4.422,201.4 s-2.934-34.809,8.056-38.948C23.469,158.314,35.069,162.106,44.222,186.414z"/> <path style="fill:#FFC26D;" d="M45.627,250.481c-2.768,1.039-6.173-0.01-9.867-2.562c4.013-12.408,0.473-38.265-6.667-57.227 c-6.513-17.285-14.25-24.189-22.132-25.249c1.626-1.255,3.488-2.233,5.515-2.994c10.989-4.136,22.595-0.339,31.741,23.963 C53.374,210.725,56.616,246.345,45.627,250.481z"/> </g> <g> <path style="fill:#FFB54E;" d="M65.979,354.317c6.204,1.461,14.086-7.12,20.948-19.302 c5.793-10.268,10.855-23.119,13.581-34.684c5.947-25.28-1.574-34.9-13.005-37.586c-11.122-2.613-21.843,2.284-27.893,25.805 c-0.175,0.669-0.34,1.348-0.504,2.047C53.169,315.888,54.548,351.621,65.979,354.317z"/> <path style="fill:#FF9A1B;" d="M100.508,300.331c-2.727,11.565-7.789,24.416-13.581,34.684 c-6.863,12.182-14.744,20.763-20.948,19.302c-2.922-0.689-5.186-3.539-6.842-7.82c4.013-3.426,8.18-9.126,12.017-15.948 c5.793-10.268,10.855-23.119,13.581-34.684c4.311-18.314,1.543-28.418-4.651-33.604c2.418-0.309,4.908-0.103,7.418,0.484 C98.934,265.431,106.455,275.051,100.508,300.331z"/> <path style="fill:#FF9A1B;" d="M65.979,354.317c6.204,1.461,14.086-7.12,20.948-19.302c-1.163-4.27-2.953-8.879-5.361-13.828 c-5.361-11.03-13.376-22.893-21.957-32.637c-0.175,0.669-0.34,1.348-0.504,2.047C53.169,315.888,54.548,351.621,65.979,354.317z "/> <path style="fill:#FFDBAA;" d="M45.395,294.358c18.003,18.723,35.037,50.174,26.571,58.313s-39.224-10.114-57.227-28.837 c-18.003-18.723-16.433-30.826-7.968-38.966S27.392,275.635,45.395,294.358z"/> <path style="fill:#FFC26D;" d="M71.967,352.671c-2.706,2.603-7.696,2.51-13.818,0.556c2.274-11.678-12.779-37.905-28.572-54.326 c-8.643-8.993-15.938-13.407-22.121-14.672c8.427-7.542,20.413-8.097,37.935,10.135 C63.396,313.079,80.434,344.532,71.967,352.671z"/> </g> </g> </g> <path style="fill:#EFE2DD;" d="M378.046,364.952v93.221H133.954v-93.221c0-5.687,4.605-10.292,10.281-10.292h223.529 C373.441,354.66,378.046,359.265,378.046,364.952z"/> <path style="fill:#CDBFBB;" d="M378.047,364.951v93.228h-23.665v-93.228c0-5.68-4.609-10.289-10.289-10.289h23.665 C373.438,354.662,378.047,359.271,378.047,364.951z"/> <g> <path style="fill:#FFF5F5;" d="M419.925,487.78H92.075c-5.682,0-10.289-4.607-10.289-10.289v-26.08 c0-5.682,4.607-10.289,10.289-10.289h327.85c5.682,0,10.289,4.607,10.289,10.289v26.08 C430.214,483.174,425.608,487.78,419.925,487.78z"/> <path style="fill:#EFE2DD;" d="M430.213,451.409v26.082c0,5.68-4.609,10.289-10.289,10.289h-22.718 c5.68,0,10.289-4.609,10.289-10.289v-26.082c0-5.68-4.609-10.289-10.289-10.289h22.718 C425.603,441.12,430.213,445.729,430.213,451.409z"/> </g> <path style="fill:#FFC26D;" d="M297.761,404.641h-83.521c-4.267,0-7.726-3.459-7.726-7.726c0-4.267,3.459-7.726,7.726-7.726h83.521 c4.267,0,7.726,3.459,7.726,7.726C305.487,401.182,302.028,404.641,297.761,404.641z"/> <path style="fill:#FFDBAA;" d="M294.326,230.556c0,9.435-3.416,18.088-9.075,24.766c-7.038,8.293-17.532,13.561-29.251,13.561 c-11.719,0-22.214-5.268-29.251-13.561c-5.659-6.678-9.075-15.331-9.075-24.766c0-21.164,17.162-38.326,38.326-38.326 S294.326,209.392,294.326,230.556z"/> <path style="fill:#FFC26D;" d="M294.326,230.556c0,9.435-3.416,18.088-9.075,24.766L256,239.94l-29.251,15.382 c-5.659-6.678-9.075-15.331-9.075-24.766c0-21.164,17.162-38.326,38.326-38.326S294.326,209.392,294.326,230.556z"/> <g> <g> <path style="fill:#FFCE8B;" d="M374.23,125.369l-49.974,48.697l11.796,68.777c1.764,10.301-9.04,18.148-18.299,13.292 L256,223.669l-61.753,32.465c-9.259,4.856-20.063-2.991-18.299-13.292l6.385-37.237l5.411-31.54l-49.974-48.697 c-7.478-7.293-3.344-20.013,6.99-21.509l69.046-10.032l30.885-62.576c4.621-9.376,17.997-9.376,22.617,0l30.885,62.576 l23.004,3.344l46.042,6.688C377.574,105.356,381.707,118.076,374.23,125.369z"/> <path style="fill:#FFB54E;" d="M374.23,125.369l-49.974,48.697l11.796,68.777c1.764,10.301-9.04,18.148-18.299,13.292 L256,223.669l-61.753,32.465c-9.259,4.856-20.063-2.991-18.299-13.292l6.385-37.237 c95.831-17.492,128.194-70.104,138.865-108.433l46.042,6.688C377.574,105.356,381.707,118.076,374.23,125.369z"/> </g> </g> </g> </svg>
                    <svg style="width: 20%; height: fit-content" class="star" viewBox="0 0 512 512"> <g> <rect x="235.772" y="244.961" style="fill:#FFC26D;" width="40.456" height="123.838"/> <path style="fill:#FF9A1B;" d="M276.228,244.961v34.293c-6.235,2.593-13.067,4.033-20.228,4.033c-7.161,0-13.993-1.44-20.228-4.033 v-34.293H276.228z"/> <g> <g> <path style="fill:#FA8916;" d="M376.139,404.643c-2.911,0-5.699-1.653-7.009-4.466c-1.801-3.868-0.126-8.465,3.742-10.266 c33.433-15.57,58.051-37.549,73.172-65.325c12.132-22.286,18.304-48.464,18.345-77.807c0.07-50.778-18.462-93.854-18.649-94.283 c-1.705-3.909,0.079-8.463,3.987-10.171c3.907-1.707,8.46,0.072,10.171,3.979c0.812,1.857,19.901,46.081,19.944,100.006 c0.039,50.542-17.355,118.913-100.446,157.61C378.341,404.41,377.231,404.643,376.139,404.643z"/> <g> <g> <path style="fill:#FFDBAA;" d="M453.15,90.275c8.479,24.552,10.734,60.247-0.366,64.081s-31.353-25.647-39.832-50.199 c-8.479-24.552-1.973-34.877,9.128-38.711C433.18,61.614,444.671,65.724,453.15,90.275z"/> </g> </g> <g> <path style="fill:#FFC26D;" d="M452.781,154.351c-2.583,0.895-5.669-0.021-8.993-2.264c3.539-12.882,0.679-37.349-5.638-55.643 c-6.708-19.415-15.3-26.041-24.097-26.072c2.161-2.264,4.908-3.858,8.025-4.928c11.102-3.827,22.595,0.278,31.073,24.827 C461.63,114.831,463.883,150.524,452.781,154.351z"/> </g> <g> <path style="fill:#FFB54E;" d="M472.526,249.627c-5.124,3.786-15.752-0.978-26.864-9.456 c-9.373-7.161-19.096-16.956-26.165-26.515c-15.444-20.897-12.326-32.688-2.881-39.674c9.178-6.781,20.959-6.513,35.795,12.696 c0.432,0.545,0.854,1.111,1.286,1.698C469.13,209.263,481.971,242.641,472.526,249.627z"/> <path style="fill:#FF9A1B;" d="M472.526,249.627c-5.124,3.786-15.752-0.978-26.864-9.456c-0.607-4.383-0.782-9.332-0.525-14.826 c0.566-12.244,3.241-26.319,7.274-38.666c0.432,0.545,0.854,1.111,1.286,1.698C469.13,209.263,481.971,242.641,472.526,249.627z "/> <path style="fill:#FFDBAA;" d="M467.778,186.414c-9.153,24.308-12.392,59.928-1.402,64.067 c10.99,4.138,32.049-24.772,41.201-49.081c9.153-24.308,2.934-34.809-8.056-38.948 C488.531,158.314,476.931,162.106,467.778,186.414z"/> <path style="fill:#FFC26D;" d="M507.58,201.403c-9.157,24.302-30.208,53.214-41.207,49.078c-2.562-0.957-4.342-3.632-5.463-7.47 c10.968-7.552,24.488-28.325,31.34-46.516c7.213-19.168,4.877-29.745-1.821-35.394c3.035-0.319,6.091,0.216,9.095,1.348 C510.512,166.595,516.727,177.09,507.58,201.403z"/> </g> <g> <path style="fill:#FFB54E;" d="M446.021,354.317c-6.204,1.461-14.086-7.12-20.948-19.302 c-5.793-10.268-10.855-23.119-13.581-34.684c-5.947-25.28,1.574-34.9,13.005-37.586c11.122-2.613,21.843,2.284,27.893,25.805 c0.175,0.669,0.34,1.348,0.504,2.047C458.831,315.888,457.452,351.621,446.021,354.317z"/> <path style="fill:#FF9A1B;" d="M446.021,354.317c-6.204,1.461-14.086-7.12-20.948-19.302c1.163-4.27,2.953-8.879,5.361-13.828 c5.361-11.03,13.376-22.893,21.957-32.637c0.175,0.669,0.34,1.348,0.504,2.047C458.831,315.888,457.452,351.621,446.021,354.317 z"/> <path style="fill:#FFDBAA;" d="M466.605,294.358c-18.003,18.723-35.037,50.174-26.571,58.313s39.224-10.114,57.227-28.837 c18.003-18.723,16.433-30.826,7.968-38.966C496.763,276.729,484.608,275.635,466.605,294.358z"/> <path style="fill:#FFC26D;" d="M497.26,323.831c-18.006,18.726-48.759,36.978-57.227,28.84 c-1.307-1.255-2.006-3.076-2.181-5.319c13.067-3.838,31.752-16.627,44.273-29.643c17.532-18.232,16.503-30.188,8.622-38.326 c5.782-0.576,10.536,1.687,14.477,5.484C513.692,293.005,515.266,305.115,497.26,323.831z"/> </g> </g> <g> <path style="fill:#FA8916;" d="M135.861,404.643c-1.092,0-2.202-0.233-3.257-0.724C49.513,365.221,32.119,296.851,32.158,246.308 c0.042-53.924,19.131-98.149,19.944-100.006c1.711-3.909,6.266-5.691,10.177-3.979c3.907,1.711,5.689,6.264,3.981,10.172l0,0 c-0.187,0.43-18.719,43.505-18.649,94.283c0.041,29.344,6.213,55.522,18.345,77.807c15.121,27.776,39.739,49.755,73.172,65.325 c3.868,1.801,5.543,6.398,3.742,10.266C141.56,402.989,138.772,404.643,135.861,404.643z"/> <g> <path style="fill:#FFDBAA;" d="M58.85,90.275c-8.479,24.552-10.734,60.247,0.366,64.081s31.353-25.647,39.832-50.199 s1.973-34.877-9.128-38.711S67.329,65.724,58.85,90.275z"/> </g> <g> <path style="fill:#FFC26D;" d="M99.047,104.162c-8.478,24.55-28.727,54.027-39.829,50.19c-2.727-0.936-4.651-3.797-5.865-7.953 c10.803-7.727,23.881-29.035,30.27-47.535c6.4-18.541,4.26-28.974-1.955-34.602c2.737-0.226,5.505,0.237,8.252,1.183 C101.023,69.282,107.525,79.602,99.047,104.162z"/> </g> <g> <path style="fill:#FFB54E;" d="M39.474,249.627c5.124,3.786,15.752-0.978,26.864-9.456c9.373-7.161,19.096-16.956,26.165-26.515 c15.444-20.897,12.326-32.688,2.881-39.674c-9.178-6.781-20.959-6.513-35.795,12.696c-0.432,0.545-0.854,1.111-1.286,1.698 C42.87,209.263,30.029,242.641,39.474,249.627z"/> <path style="fill:#FF9A1B;" d="M92.503,213.657c-7.069,9.558-16.792,19.353-26.165,26.515 c-11.112,8.478-21.741,13.242-26.864,9.456c-1.389-1.029-2.305-2.644-2.788-4.692c4.301-1.873,9.147-4.908,14.086-8.674 c9.373-7.161,19.096-16.956,26.165-26.515c15.197-20.557,12.419-32.307,3.334-39.324c5.669-1.337,10.7,0.298,15.114,3.56 C104.83,180.969,107.947,192.76,92.503,213.657z"/> <path style="fill:#FF9A1B;" d="M39.474,249.627c5.124,3.786,15.752-0.978,26.864-9.456c0.607-4.383,0.782-9.332,0.525-14.826 c-0.566-12.244-3.241-26.319-7.274-38.666c-0.432,0.545-0.854,1.111-1.286,1.698C42.87,209.263,30.029,242.641,39.474,249.627z" /> <path style="fill:#FFDBAA;" d="M44.222,186.414c9.153,24.308,12.392,59.928,1.402,64.067S13.575,225.709,4.422,201.4 s-2.934-34.809,8.056-38.948C23.469,158.314,35.069,162.106,44.222,186.414z"/> <path style="fill:#FFC26D;" d="M45.627,250.481c-2.768,1.039-6.173-0.01-9.867-2.562c4.013-12.408,0.473-38.265-6.667-57.227 c-6.513-17.285-14.25-24.189-22.132-25.249c1.626-1.255,3.488-2.233,5.515-2.994c10.989-4.136,22.595-0.339,31.741,23.963 C53.374,210.725,56.616,246.345,45.627,250.481z"/> </g> <g> <path style="fill:#FFB54E;" d="M65.979,354.317c6.204,1.461,14.086-7.12,20.948-19.302 c5.793-10.268,10.855-23.119,13.581-34.684c5.947-25.28-1.574-34.9-13.005-37.586c-11.122-2.613-21.843,2.284-27.893,25.805 c-0.175,0.669-0.34,1.348-0.504,2.047C53.169,315.888,54.548,351.621,65.979,354.317z"/> <path style="fill:#FF9A1B;" d="M100.508,300.331c-2.727,11.565-7.789,24.416-13.581,34.684 c-6.863,12.182-14.744,20.763-20.948,19.302c-2.922-0.689-5.186-3.539-6.842-7.82c4.013-3.426,8.18-9.126,12.017-15.948 c5.793-10.268,10.855-23.119,13.581-34.684c4.311-18.314,1.543-28.418-4.651-33.604c2.418-0.309,4.908-0.103,7.418,0.484 C98.934,265.431,106.455,275.051,100.508,300.331z"/> <path style="fill:#FF9A1B;" d="M65.979,354.317c6.204,1.461,14.086-7.12,20.948-19.302c-1.163-4.27-2.953-8.879-5.361-13.828 c-5.361-11.03-13.376-22.893-21.957-32.637c-0.175,0.669-0.34,1.348-0.504,2.047C53.169,315.888,54.548,351.621,65.979,354.317z "/> <path style="fill:#FFDBAA;" d="M45.395,294.358c18.003,18.723,35.037,50.174,26.571,58.313s-39.224-10.114-57.227-28.837 c-18.003-18.723-16.433-30.826-7.968-38.966S27.392,275.635,45.395,294.358z"/> <path style="fill:#FFC26D;" d="M71.967,352.671c-2.706,2.603-7.696,2.51-13.818,0.556c2.274-11.678-12.779-37.905-28.572-54.326 c-8.643-8.993-15.938-13.407-22.121-14.672c8.427-7.542,20.413-8.097,37.935,10.135 C63.396,313.079,80.434,344.532,71.967,352.671z"/> </g> </g> </g> <path style="fill:#EFE2DD;" d="M378.046,364.952v93.221H133.954v-93.221c0-5.687,4.605-10.292,10.281-10.292h223.529 C373.441,354.66,378.046,359.265,378.046,364.952z"/> <path style="fill:#CDBFBB;" d="M378.047,364.951v93.228h-23.665v-93.228c0-5.68-4.609-10.289-10.289-10.289h23.665 C373.438,354.662,378.047,359.271,378.047,364.951z"/> <g> <path style="fill:#FFF5F5;" d="M419.925,487.78H92.075c-5.682,0-10.289-4.607-10.289-10.289v-26.08 c0-5.682,4.607-10.289,10.289-10.289h327.85c5.682,0,10.289,4.607,10.289,10.289v26.08 C430.214,483.174,425.608,487.78,419.925,487.78z"/> <path style="fill:#EFE2DD;" d="M430.213,451.409v26.082c0,5.68-4.609,10.289-10.289,10.289h-22.718 c5.68,0,10.289-4.609,10.289-10.289v-26.082c0-5.68-4.609-10.289-10.289-10.289h22.718 C425.603,441.12,430.213,445.729,430.213,451.409z"/> </g> <path style="fill:#FFC26D;" d="M297.761,404.641h-83.521c-4.267,0-7.726-3.459-7.726-7.726c0-4.267,3.459-7.726,7.726-7.726h83.521 c4.267,0,7.726,3.459,7.726,7.726C305.487,401.182,302.028,404.641,297.761,404.641z"/> <path style="fill:#FFDBAA;" d="M294.326,230.556c0,9.435-3.416,18.088-9.075,24.766c-7.038,8.293-17.532,13.561-29.251,13.561 c-11.719,0-22.214-5.268-29.251-13.561c-5.659-6.678-9.075-15.331-9.075-24.766c0-21.164,17.162-38.326,38.326-38.326 S294.326,209.392,294.326,230.556z"/> <path style="fill:#FFC26D;" d="M294.326,230.556c0,9.435-3.416,18.088-9.075,24.766L256,239.94l-29.251,15.382 c-5.659-6.678-9.075-15.331-9.075-24.766c0-21.164,17.162-38.326,38.326-38.326S294.326,209.392,294.326,230.556z"/> <g> <g> <path style="fill:#FFCE8B;" d="M374.23,125.369l-49.974,48.697l11.796,68.777c1.764,10.301-9.04,18.148-18.299,13.292 L256,223.669l-61.753,32.465c-9.259,4.856-20.063-2.991-18.299-13.292l6.385-37.237l5.411-31.54l-49.974-48.697 c-7.478-7.293-3.344-20.013,6.99-21.509l69.046-10.032l30.885-62.576c4.621-9.376,17.997-9.376,22.617,0l30.885,62.576 l23.004,3.344l46.042,6.688C377.574,105.356,381.707,118.076,374.23,125.369z"/> <path style="fill:#FFB54E;" d="M374.23,125.369l-49.974,48.697l11.796,68.777c1.764,10.301-9.04,18.148-18.299,13.292 L256,223.669l-61.753,32.465c-9.259,4.856-20.063-2.991-18.299-13.292l6.385-37.237 c95.831-17.492,128.194-70.104,138.865-108.433l46.042,6.688C377.574,105.356,381.707,118.076,374.23,125.369z"/> </g> </g> </g> </svg>
                    <svg style="margin-top: 4%; width: 16%; height: fit-content" class="star" viewBox="0 0 512 512"> <g> <rect x="235.772" y="244.961" style="fill:#FFC26D;" width="40.456" height="123.838"/> <path style="fill:#FF9A1B;" d="M276.228,244.961v34.293c-6.235,2.593-13.067,4.033-20.228,4.033c-7.161,0-13.993-1.44-20.228-4.033 v-34.293H276.228z"/> <g> <g> <path style="fill:#FA8916;" d="M376.139,404.643c-2.911,0-5.699-1.653-7.009-4.466c-1.801-3.868-0.126-8.465,3.742-10.266 c33.433-15.57,58.051-37.549,73.172-65.325c12.132-22.286,18.304-48.464,18.345-77.807c0.07-50.778-18.462-93.854-18.649-94.283 c-1.705-3.909,0.079-8.463,3.987-10.171c3.907-1.707,8.46,0.072,10.171,3.979c0.812,1.857,19.901,46.081,19.944,100.006 c0.039,50.542-17.355,118.913-100.446,157.61C378.341,404.41,377.231,404.643,376.139,404.643z"/> <g> <g> <path style="fill:#FFDBAA;" d="M453.15,90.275c8.479,24.552,10.734,60.247-0.366,64.081s-31.353-25.647-39.832-50.199 c-8.479-24.552-1.973-34.877,9.128-38.711C433.18,61.614,444.671,65.724,453.15,90.275z"/> </g> </g> <g> <path style="fill:#FFC26D;" d="M452.781,154.351c-2.583,0.895-5.669-0.021-8.993-2.264c3.539-12.882,0.679-37.349-5.638-55.643 c-6.708-19.415-15.3-26.041-24.097-26.072c2.161-2.264,4.908-3.858,8.025-4.928c11.102-3.827,22.595,0.278,31.073,24.827 C461.63,114.831,463.883,150.524,452.781,154.351z"/> </g> <g> <path style="fill:#FFB54E;" d="M472.526,249.627c-5.124,3.786-15.752-0.978-26.864-9.456 c-9.373-7.161-19.096-16.956-26.165-26.515c-15.444-20.897-12.326-32.688-2.881-39.674c9.178-6.781,20.959-6.513,35.795,12.696 c0.432,0.545,0.854,1.111,1.286,1.698C469.13,209.263,481.971,242.641,472.526,249.627z"/> <path style="fill:#FF9A1B;" d="M472.526,249.627c-5.124,3.786-15.752-0.978-26.864-9.456c-0.607-4.383-0.782-9.332-0.525-14.826 c0.566-12.244,3.241-26.319,7.274-38.666c0.432,0.545,0.854,1.111,1.286,1.698C469.13,209.263,481.971,242.641,472.526,249.627z "/> <path style="fill:#FFDBAA;" d="M467.778,186.414c-9.153,24.308-12.392,59.928-1.402,64.067 c10.99,4.138,32.049-24.772,41.201-49.081c9.153-24.308,2.934-34.809-8.056-38.948 C488.531,158.314,476.931,162.106,467.778,186.414z"/> <path style="fill:#FFC26D;" d="M507.58,201.403c-9.157,24.302-30.208,53.214-41.207,49.078c-2.562-0.957-4.342-3.632-5.463-7.47 c10.968-7.552,24.488-28.325,31.34-46.516c7.213-19.168,4.877-29.745-1.821-35.394c3.035-0.319,6.091,0.216,9.095,1.348 C510.512,166.595,516.727,177.09,507.58,201.403z"/> </g> <g> <path style="fill:#FFB54E;" d="M446.021,354.317c-6.204,1.461-14.086-7.12-20.948-19.302 c-5.793-10.268-10.855-23.119-13.581-34.684c-5.947-25.28,1.574-34.9,13.005-37.586c11.122-2.613,21.843,2.284,27.893,25.805 c0.175,0.669,0.34,1.348,0.504,2.047C458.831,315.888,457.452,351.621,446.021,354.317z"/> <path style="fill:#FF9A1B;" d="M446.021,354.317c-6.204,1.461-14.086-7.12-20.948-19.302c1.163-4.27,2.953-8.879,5.361-13.828 c5.361-11.03,13.376-22.893,21.957-32.637c0.175,0.669,0.34,1.348,0.504,2.047C458.831,315.888,457.452,351.621,446.021,354.317 z"/> <path style="fill:#FFDBAA;" d="M466.605,294.358c-18.003,18.723-35.037,50.174-26.571,58.313s39.224-10.114,57.227-28.837 c18.003-18.723,16.433-30.826,7.968-38.966C496.763,276.729,484.608,275.635,466.605,294.358z"/> <path style="fill:#FFC26D;" d="M497.26,323.831c-18.006,18.726-48.759,36.978-57.227,28.84 c-1.307-1.255-2.006-3.076-2.181-5.319c13.067-3.838,31.752-16.627,44.273-29.643c17.532-18.232,16.503-30.188,8.622-38.326 c5.782-0.576,10.536,1.687,14.477,5.484C513.692,293.005,515.266,305.115,497.26,323.831z"/> </g> </g> <g> <path style="fill:#FA8916;" d="M135.861,404.643c-1.092,0-2.202-0.233-3.257-0.724C49.513,365.221,32.119,296.851,32.158,246.308 c0.042-53.924,19.131-98.149,19.944-100.006c1.711-3.909,6.266-5.691,10.177-3.979c3.907,1.711,5.689,6.264,3.981,10.172l0,0 c-0.187,0.43-18.719,43.505-18.649,94.283c0.041,29.344,6.213,55.522,18.345,77.807c15.121,27.776,39.739,49.755,73.172,65.325 c3.868,1.801,5.543,6.398,3.742,10.266C141.56,402.989,138.772,404.643,135.861,404.643z"/> <g> <path style="fill:#FFDBAA;" d="M58.85,90.275c-8.479,24.552-10.734,60.247,0.366,64.081s31.353-25.647,39.832-50.199 s1.973-34.877-9.128-38.711S67.329,65.724,58.85,90.275z"/> </g> <g> <path style="fill:#FFC26D;" d="M99.047,104.162c-8.478,24.55-28.727,54.027-39.829,50.19c-2.727-0.936-4.651-3.797-5.865-7.953 c10.803-7.727,23.881-29.035,30.27-47.535c6.4-18.541,4.26-28.974-1.955-34.602c2.737-0.226,5.505,0.237,8.252,1.183 C101.023,69.282,107.525,79.602,99.047,104.162z"/> </g> <g> <path style="fill:#FFB54E;" d="M39.474,249.627c5.124,3.786,15.752-0.978,26.864-9.456c9.373-7.161,19.096-16.956,26.165-26.515 c15.444-20.897,12.326-32.688,2.881-39.674c-9.178-6.781-20.959-6.513-35.795,12.696c-0.432,0.545-0.854,1.111-1.286,1.698 C42.87,209.263,30.029,242.641,39.474,249.627z"/> <path style="fill:#FF9A1B;" d="M92.503,213.657c-7.069,9.558-16.792,19.353-26.165,26.515 c-11.112,8.478-21.741,13.242-26.864,9.456c-1.389-1.029-2.305-2.644-2.788-4.692c4.301-1.873,9.147-4.908,14.086-8.674 c9.373-7.161,19.096-16.956,26.165-26.515c15.197-20.557,12.419-32.307,3.334-39.324c5.669-1.337,10.7,0.298,15.114,3.56 C104.83,180.969,107.947,192.76,92.503,213.657z"/> <path style="fill:#FF9A1B;" d="M39.474,249.627c5.124,3.786,15.752-0.978,26.864-9.456c0.607-4.383,0.782-9.332,0.525-14.826 c-0.566-12.244-3.241-26.319-7.274-38.666c-0.432,0.545-0.854,1.111-1.286,1.698C42.87,209.263,30.029,242.641,39.474,249.627z" /> <path style="fill:#FFDBAA;" d="M44.222,186.414c9.153,24.308,12.392,59.928,1.402,64.067S13.575,225.709,4.422,201.4 s-2.934-34.809,8.056-38.948C23.469,158.314,35.069,162.106,44.222,186.414z"/> <path style="fill:#FFC26D;" d="M45.627,250.481c-2.768,1.039-6.173-0.01-9.867-2.562c4.013-12.408,0.473-38.265-6.667-57.227 c-6.513-17.285-14.25-24.189-22.132-25.249c1.626-1.255,3.488-2.233,5.515-2.994c10.989-4.136,22.595-0.339,31.741,23.963 C53.374,210.725,56.616,246.345,45.627,250.481z"/> </g> <g> <path style="fill:#FFB54E;" d="M65.979,354.317c6.204,1.461,14.086-7.12,20.948-19.302 c5.793-10.268,10.855-23.119,13.581-34.684c5.947-25.28-1.574-34.9-13.005-37.586c-11.122-2.613-21.843,2.284-27.893,25.805 c-0.175,0.669-0.34,1.348-0.504,2.047C53.169,315.888,54.548,351.621,65.979,354.317z"/> <path style="fill:#FF9A1B;" d="M100.508,300.331c-2.727,11.565-7.789,24.416-13.581,34.684 c-6.863,12.182-14.744,20.763-20.948,19.302c-2.922-0.689-5.186-3.539-6.842-7.82c4.013-3.426,8.18-9.126,12.017-15.948 c5.793-10.268,10.855-23.119,13.581-34.684c4.311-18.314,1.543-28.418-4.651-33.604c2.418-0.309,4.908-0.103,7.418,0.484 C98.934,265.431,106.455,275.051,100.508,300.331z"/> <path style="fill:#FF9A1B;" d="M65.979,354.317c6.204,1.461,14.086-7.12,20.948-19.302c-1.163-4.27-2.953-8.879-5.361-13.828 c-5.361-11.03-13.376-22.893-21.957-32.637c-0.175,0.669-0.34,1.348-0.504,2.047C53.169,315.888,54.548,351.621,65.979,354.317z "/> <path style="fill:#FFDBAA;" d="M45.395,294.358c18.003,18.723,35.037,50.174,26.571,58.313s-39.224-10.114-57.227-28.837 c-18.003-18.723-16.433-30.826-7.968-38.966S27.392,275.635,45.395,294.358z"/> <path style="fill:#FFC26D;" d="M71.967,352.671c-2.706,2.603-7.696,2.51-13.818,0.556c2.274-11.678-12.779-37.905-28.572-54.326 c-8.643-8.993-15.938-13.407-22.121-14.672c8.427-7.542,20.413-8.097,37.935,10.135 C63.396,313.079,80.434,344.532,71.967,352.671z"/> </g> </g> </g> <path style="fill:#EFE2DD;" d="M378.046,364.952v93.221H133.954v-93.221c0-5.687,4.605-10.292,10.281-10.292h223.529 C373.441,354.66,378.046,359.265,378.046,364.952z"/> <path style="fill:#CDBFBB;" d="M378.047,364.951v93.228h-23.665v-93.228c0-5.68-4.609-10.289-10.289-10.289h23.665 C373.438,354.662,378.047,359.271,378.047,364.951z"/> <g> <path style="fill:#FFF5F5;" d="M419.925,487.78H92.075c-5.682,0-10.289-4.607-10.289-10.289v-26.08 c0-5.682,4.607-10.289,10.289-10.289h327.85c5.682,0,10.289,4.607,10.289,10.289v26.08 C430.214,483.174,425.608,487.78,419.925,487.78z"/> <path style="fill:#EFE2DD;" d="M430.213,451.409v26.082c0,5.68-4.609,10.289-10.289,10.289h-22.718 c5.68,0,10.289-4.609,10.289-10.289v-26.082c0-5.68-4.609-10.289-10.289-10.289h22.718 C425.603,441.12,430.213,445.729,430.213,451.409z"/> </g> <path style="fill:#FFC26D;" d="M297.761,404.641h-83.521c-4.267,0-7.726-3.459-7.726-7.726c0-4.267,3.459-7.726,7.726-7.726h83.521 c4.267,0,7.726,3.459,7.726,7.726C305.487,401.182,302.028,404.641,297.761,404.641z"/> <path style="fill:#FFDBAA;" d="M294.326,230.556c0,9.435-3.416,18.088-9.075,24.766c-7.038,8.293-17.532,13.561-29.251,13.561 c-11.719,0-22.214-5.268-29.251-13.561c-5.659-6.678-9.075-15.331-9.075-24.766c0-21.164,17.162-38.326,38.326-38.326 S294.326,209.392,294.326,230.556z"/> <path style="fill:#FFC26D;" d="M294.326,230.556c0,9.435-3.416,18.088-9.075,24.766L256,239.94l-29.251,15.382 c-5.659-6.678-9.075-15.331-9.075-24.766c0-21.164,17.162-38.326,38.326-38.326S294.326,209.392,294.326,230.556z"/> <g> <g> <path style="fill:#FFCE8B;" d="M374.23,125.369l-49.974,48.697l11.796,68.777c1.764,10.301-9.04,18.148-18.299,13.292 L256,223.669l-61.753,32.465c-9.259,4.856-20.063-2.991-18.299-13.292l6.385-37.237l5.411-31.54l-49.974-48.697 c-7.478-7.293-3.344-20.013,6.99-21.509l69.046-10.032l30.885-62.576c4.621-9.376,17.997-9.376,22.617,0l30.885,62.576 l23.004,3.344l46.042,6.688C377.574,105.356,381.707,118.076,374.23,125.369z"/> <path style="fill:#FFB54E;" d="M374.23,125.369l-49.974,48.697l11.796,68.777c1.764,10.301-9.04,18.148-18.299,13.292 L256,223.669l-61.753,32.465c-9.259,4.856-20.063-2.991-18.299-13.292l6.385-37.237 c95.831-17.492,128.194-70.104,138.865-108.433l46.042,6.688C377.574,105.356,381.707,118.076,374.23,125.369z"/> </g> </g> </g> </svg>
                </div>
                <div style="display: flex;justify-content: center;">`;

                    if (countStar == 3 && user.lvl[0][1] != 3){
                        
                        user.bank.energy += 1;
                        it('#energy').html(user.bank.energy);

                        if (user.bank.energy == 5)
                            user.energyTime = null;

                        text += `<div class="resultWarCon">
                            <svg class="moneyRewardMenu" viewBox="0 0 64 64"><path fill="#ffce31" d="M44.5 2l-9 2.5L29.4 2l-9.9 34.4h10.4L20.8 62l22.4-34.4H29.7z"></path></svg>
                            <span class="winRewardWar">1</span>
                        </div>`;
                    }

                    var win = 0;
                    if (countStar > 0){

                        win = lvl[lvlOpen][4][0][0];
                        user.bank.money += win;

                        it('#moneyHub').html(user.bank.money);

                        if (countStar > user.lvl[lvlOpen][1]){

                            user.star = user.star + (countStar - user.lvl[lvlOpen][1]);
                            user.lvl[lvlOpen][1] = countStar;

                            it(`div.warCon[data-warLvl="${lvlOpen}"] div.warIcon`).at(`new`, `class`, `warIcon openlvl${user.lvl[lvlOpen][1]}`);

                            it(`div.warCon[data-warLvl="${(lvlOpen + 1)}"]`).at(`new`, `onclick`, `openBlackBackground ('lvl', ${(lvlOpen + 1)})`);
                            it(`div.warCon[data-warLvl="${(lvlOpen + 1)}"]`).at(`new`, `style`, `background: #e29d1e;border: 5px solid #996218;`);
                            it(`div.warCon[data-warLvl="${(lvlOpen + 1)}"] div.warIcon`).at(`new`, `class`, `warIcon openlvl0`);

                            it('#star').html(user.star);
                        }

                        if (user.lvl[(lvlOpen + 1)] == null)
                            user.lvl[(lvlOpen + 1)] = [true, 0];

                        saveData ();
                    }

                    text += `<div class="resultWarCon" id="moneyRewResult">
                        <svg class="moneyRewardMenu" viewBox="0 0 512 512"> <g> <g> <path style="fill:#74D24F;" d="M496,112H16c-8.82,0-16,7.18-16,16v256c0,8.82,7.18,16,16,16h480c8.82,0,16-7.18,16-16V128 C512,119.18,504.82,112,496,112z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M472,192c-22.055,0-40-17.945-40-40c0-4.422-3.578-8-8-8H88c-4.422,0-8,3.578-8,8 c0,22.055-17.945,40-40,40c-4.422,0-8,3.578-8,8v112c0,4.422,3.578,8,8,8c22.055,0,40,17.945,40,40c0,4.422,3.578,8,8,8h336 c4.422,0,8-3.578,8-8c0-22.055,17.945-40,40-40c4.422,0,8-3.578,8-8V200C480,195.578,476.422,192,472,192z"></path> </g> <g> <path style="fill:#869B55;" d="M128,256c0,48.221,26.691,90.175,66.081,112h123.839C357.309,346.175,384,304.221,384,256 s-26.691-90.175-66.081-112H194.08C154.691,165.825,128,207.779,128,256z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M256,244c-16.023,0-28-8.445-28-16c0-7.555,11.977-16,28-16s28,8.445,28,16c0,6.625,5.375,12,12,12 s12-5.375,12-12c0-19.236-16.824-34.862-40-38.932V184c0-6.625-5.375-12-12-12s-12,5.375-12,12v5.068 c-23.176,4.07-40,19.695-40,38.932c0,22.43,22.844,40,52,40c16.023,0,28,8.445,28,16c0,7.555-11.977,16-28,16s-28-8.445-28-16 c0-6.625-5.375-12-12-12s-12,5.375-12,12c0,19.236,16.824,34.862,40,38.932V328c0,6.625,5.375,12,12,12s12-5.375,12-12v-5.068 c23.176-4.07,40-19.695,40-38.932C308,261.57,285.156,244,256,244z"></path> </g> <g> <circle style="fill:#74D24F;" cx="80" cy="256" r="24"></circle> </g> <g> <circle style="fill:#74D24F;" cx="432" cy="256" r="24"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="360" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="360" r="16"></circle> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                        <span class="winRewardWar">${win}</span>
                    </div>`;

                    if (countStar > 0) text += `<div onclick="view_rew_x2 ()" class="resultWarCon" style="background: #ffe0d3; border-radius: 10px;cursor: pointer;">
                        <svg class="moneyRewardMenu" viewBox="0 0 600.00 600.00" fill="#000000" stroke="#000000" stroke-width="0.00512" style="right: 0;margin: 0 auto;display: block;"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path style="fill:#D1D3D4;" d="M376.853,434.238h-39.696l-10.214-59.489c-1.605-9.355-9.719-16.194-19.21-16.194H204.268 c-9.493,0-17.604,6.838-19.212,16.194l-10.214,59.489h-39.696c-10.765,0-19.492,8.727-19.492,19.492 c0,10.765,8.727,19.492,19.492,19.492c11.424,0,229.887,0,241.706,0c10.765,0,19.492-8.727,19.492-19.492 C396.345,442.966,387.618,434.238,376.853,434.238z"></path> <path style="fill:#BCBEC0;" d="M376.853,434.238h-39.696l-10.214-59.489c-1.605-9.355-9.719-16.194-19.21-16.194H256v114.667 c18.979,0,106.972,0,120.853,0c10.765,0,19.492-8.727,19.492-19.492C396.345,442.966,387.618,434.238,376.853,434.238z"></path> <path style="fill:#F1F2F2;" d="M453.523,397.541H58.477C26.181,397.541,0,371.36,0,339.064v-47.678h512v47.678 C512,371.36,485.819,397.541,453.523,397.541z"></path> <path style="fill:#E6E7E8;" d="M255.996,291.385v106.156h197.527c32.296,0,58.477-26.181,58.477-58.477v-47.678L255.996,291.385 L255.996,291.385z"></path> <path style="fill:#36495E;" d="M512,330.37H0V97.254c0-32.296,26.181-58.477,58.477-58.477h395.046 c32.296,0,58.477,26.181,58.477,58.477V330.37z"></path> <path style="fill:#2C3E50;" d="M512,97.254c0-32.296-26.181-58.477-58.477-58.477H255.996V330.37H512V97.254z"></path> <path style="fill:#FF7876;" d="M460.02,330.37H51.98V110.249c0-10.765,8.727-19.492,19.492-19.492h369.056 c10.765,0,19.492,8.727,19.492,19.492V330.37z"></path> <path style="fill:#FF5E5B;" d="M460.02,110.249c0-10.765-8.727-19.492-19.492-19.492H255.996V330.37H460.02V110.249z"></path> <path style="fill:#F1F2F2;" d="M321.94,178.98l-23.859,13.775v-12.708c0-10.765-8.727-19.492-19.492-19.492h-88.313 c-10.765,0-19.492,8.727-19.492,19.492v61.031c0,10.765,8.727,19.492,19.492,19.492h88.313c10.765,0,19.492-8.727,19.492-19.492 v-12.709l23.859,13.775c8.548,4.935,19.277-1.241,19.277-11.13v-40.905C341.217,180.24,330.504,174.036,321.94,178.98z"></path> <path style="fill:#E6E7E8;" d="M321.94,178.98l-23.859,13.775v-12.708c0-10.765-8.727-19.492-19.492-19.492h-22.593V260.57h22.593 c10.765,0,19.492-8.727,19.492-19.492v-12.709l23.859,13.775c8.548,4.935,19.277-1.241,19.277-11.13v-40.905 C341.217,180.24,330.504,174.036,321.94,178.98z"></path> </g></svg>
                        <span style="font-size: 70%;display: block;margin-bottom: 5px;margin-top: -10px;">X2 за просмотр рекламы</span>
                    </div>`;

                text += `</div>
                </div>
            </div>`;

            it('#backgroundBlack').html(text);

            function filter_star (a){

                d.querySelectorAll('#con-star svg')[a].style.filter = 'grayscale(1)';
            }

            switch (countStar){

                case 0:
                    filter_star (0);
                    filter_star (1);
                    filter_star (2);
                    break;

                case 1:
                    filter_star (1);
                    filter_star (2);
                    break;

                case 2:
                    filter_star (1);
                    break;

                default:
                    break;
            }
            break;

        case 'maps':
            it('#backgroundBlack').html(

                `<div id="menuTablo" style="bottom: 0;height: 100%;">
                    <div id="closeMenuTablo" onclick="closeBlackBackground ()">✕</div>
                    <div id="tabName">Мои карточки</div>

                    <div id="topPanelShop">
                        <div class="tabShop" dataVoiceShopTab="true" onclick="open_menu_blackbg (1)">Боевая колода</div>
                        <div class="tabShop" onclick="open_menu_blackbg (2)">Все мои карточки</div>
                    </div>
                    <div id="mapsShop"></div>
                </div>`
            );

            pack ('print', 1);
            pack ('print', 2);

            open_menu_blackbg (1);
            break;

        case 'shop':
            it('#backgroundBlack').html(

                `<div id="menuTablo" style="bottom: 0;height: 100%;">
                    <div id="closeMenuTablo" onclick="closeBlackBackground ()">✕</div>

                    <div id="tabName">Магазин</div>
                    <div id="topPanelShop">
                        <div class="tabShop" dataVoiceShopTab="true" onclick="open_menu_blackbg (1)">Танчики</div>
                        <!--<div class="tabShop" onclick="open_menu_blackbg (2)">Умения</div>-->
                        <div class="tabShop" onclick="open_menu_blackbg (3)">Валюта</div>
                    </div>
                    <div id="mapsShop" data-label="shop"></div>
                </div>`
            );

            /* Карточки */
            var shopTankCount = -1;

            for ( var shopTank of shopTowers ){

                shopTankCount++;

                text = `<div class="mapShop" data-name-menu="1">
                    <div class="mapName">${shopTank[4]}</div>
                    <div class="imgMap" style="background-position: ${shopTank[3][1]}"></div>
                    <div class="mapText">${shopTank[5]}</div>
                    <div class="rechargeMapText">Перезарядка</div>
                    <div class="rechargeMap"><div class="goal" style="width: ${(shopTank[2] / 0.02)}%;background: ${color_tank ('Recharge', shopTank[2])}"></div></div>
                    <div class="damageMapText">Урон</div>
                    <div class="damageMap">
                        <div class="goal" style="width: ${(shopTank[1] / 0.1)}%;background: ${color_tank ('Damage', (shopTank[1] / 0.1))}"></div>
                    </div>`;
                    
                if ( user.towers[shopTankCount] == null )
                    text += `<div class="buyShop" onclick="pack ('buy', ${shopTankCount}, this)">
                        <svg class="moneyMap" viewBox="0 0 512 512"> <g> <g> <path style="fill:#74D24F;" d="M496,112H16c-8.82,0-16,7.18-16,16v256c0,8.82,7.18,16,16,16h480c8.82,0,16-7.18,16-16V128 C512,119.18,504.82,112,496,112z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M472,192c-22.055,0-40-17.945-40-40c0-4.422-3.578-8-8-8H88c-4.422,0-8,3.578-8,8 c0,22.055-17.945,40-40,40c-4.422,0-8,3.578-8,8v112c0,4.422,3.578,8,8,8c22.055,0,40,17.945,40,40c0,4.422,3.578,8,8,8h336 c4.422,0,8-3.578,8-8c0-22.055,17.945-40,40-40c4.422,0,8-3.578,8-8V200C480,195.578,476.422,192,472,192z"></path> </g> <g> <path style="fill:#869B55;" d="M128,256c0,48.221,26.691,90.175,66.081,112h123.839C357.309,346.175,384,304.221,384,256 s-26.691-90.175-66.081-112H194.08C154.691,165.825,128,207.779,128,256z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M256,244c-16.023,0-28-8.445-28-16c0-7.555,11.977-16,28-16s28,8.445,28,16c0,6.625,5.375,12,12,12 s12-5.375,12-12c0-19.236-16.824-34.862-40-38.932V184c0-6.625-5.375-12-12-12s-12,5.375-12,12v5.068 c-23.176,4.07-40,19.695-40,38.932c0,22.43,22.844,40,52,40c16.023,0,28,8.445,28,16c0,7.555-11.977,16-28,16s-28-8.445-28-16 c0-6.625-5.375-12-12-12s-12,5.375-12,12c0,19.236,16.824,34.862,40,38.932V328c0,6.625,5.375,12,12,12s12-5.375,12-12v-5.068 c23.176-4.07,40-19.695,40-38.932C308,261.57,285.156,244,256,244z"></path> </g> <g> <circle style="fill:#74D24F;" cx="80" cy="256" r="24"></circle> </g> <g> <circle style="fill:#74D24F;" cx="432" cy="256" r="24"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="360" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="360" r="16"></circle> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                        Купить ${shopTank[6]}
                    </div>`;
                else text += `<div class="buyShop" data-buy="true" style="background: #777">Куплено</div>`;

                text += `</div>`;

                it('#mapsShop').append(text);
            }

            /* Умения */
            it('#mapsShop').append(
                `<div class="mapShop" data-name-menu="2">
                    <div class="mapName">Авиаудар</div>
                    <svg style="position: relative;top: 25px;left: 0;right: 0;display: block;margin: 0 auto;transform: rotate(45deg);" width="80px" viewBox="0 0 720 720"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="2.048"/><g id="SVGRepo_iconCarrier"> <g> <g> <g> <path style="fill:#EDDCAA;" d="M250.376,379.789c-1.926,1.217-90.859,83.056-90.859,83.056v22.209l90.859-24.339V379.789z"/> <path style="fill:#EDDCAA;" d="M261.613,379.789c1.926,1.217,90.859,83.056,90.859,83.056v22.209l-90.859-24.339V379.789z"/> </g> <path style="fill:#FEFFFE;" d="M291.965,266.212c-1.05,42.549-3.429,85.238-8.118,117.64c-0.7,4.899-1.469,9.517-2.24,13.926v0.07 c-5.528,32.892-11.757,52.557-17.076,63.613c-3.359,7.138-6.368,10.637-8.538,11.827c-2.169-1.19-5.179-4.689-8.538-11.827 c-5.318-11.057-11.547-30.722-17.076-63.613v-0.07c-0.77-4.409-1.539-9.028-2.239-13.926c-4.689-32.402-7.068-75.091-8.118-117.64 c-1.4-53.816-0.7-107.353-0.28-139.474c0.14-6.998,0.21-12.947,0.21-17.706c0.07-2.659,0.07-4.969,0.07-6.788 c0-20.365,1.82-38.21,4.969-53.047C231.641,17.915,243.888,0,255.995,0c7.348,0,14.696,6.578,20.855,18.615 c7.138,14.066,12.597,35.621,14.416,63.194c0.49,6.439,0.7,13.297,0.7,20.435c0,5.179,0.14,13.576,0.28,24.494 C292.665,158.859,293.365,212.396,291.965,266.212z"/> <g> <g> <g> <path style="fill:#DDD9D3;" d="M173.555,151.861v29.882c0,0.56,0,1.049-0.14,1.609c-0.77,6.438-6.299,11.477-12.947,11.477 h-1.68c-5.249-0.07-9.658-3.289-11.687-7.768c-0.56-1.33-0.91-2.729-0.98-4.199c-0.14-0.35-0.14-0.77-0.14-1.12v-29.812 c0-0.42,0.07-0.84,0.14-1.26c0.56-3.289,3.359-5.739,6.788-5.739h13.716C170.476,144.933,173.555,148.082,173.555,151.861z"/> <path style="fill:#DDD9D3;" d="M100.133,247.072h-1.447c-7.195,0-13.082-5.887-13.082-13.082v-29.863 c0-3.822,3.127-6.95,6.95-6.95h13.727c3.813,0,6.934,3.12,6.934,6.934v29.879C113.215,241.185,107.328,247.072,100.133,247.072 z"/> </g> <path style="fill:#FEFFFE;" d="M226.462,121.139v142.834l-6.438,2.24L9.798,338.784L0,342.213v-32.822 c0,0,39.96-33.171,86.218-71.662c8.818-7.418,17.915-14.906,27.013-22.534c1.05-0.84,2.099-1.68,3.149-2.589 c10.357-8.608,20.785-17.285,30.722-25.543c9.238-7.698,18.125-15.046,26.453-21.974c20.575-17.076,37.371-31.072,46.189-38.35 C223.943,123.239,226.322,121.279,226.462,121.139z"/> <path style="fill:#ECE8E3;" d="M15.4,310.159c57.788-55.188,150.646-116.068,195.631-158.934v56.132L15.4,312.115V310.159z"/> </g> <g> <g> <path style="fill:#DDD9D3;" d="M351.498,194.851h1.447c7.195,0,13.082-5.887,13.082-13.082v-29.863 c0-3.822-3.127-6.95-6.95-6.95h-13.727c-3.813,0-6.934,3.12-6.934,6.933v29.879 C338.415,188.964,344.302,194.851,351.498,194.851z"/> <path style="fill:#DDD9D3;" d="M411.856,247.072h1.447c7.195,0,13.082-5.887,13.082-13.082v-29.863 c0-3.822-3.128-6.95-6.95-6.95h-13.728c-3.813,0-6.934,3.12-6.934,6.934v29.879 C398.774,241.185,404.661,247.072,411.856,247.072z"/> </g> <path style="fill:#FEFFFE;" d="M285.548,121.124C287.099,122.341,512,309.358,512,309.358v32.857l-226.452-78.209V121.124z"/> <path style="fill:#ECE8E3;" d="M496.589,310.159c-57.788-55.188-150.646-116.068-195.631-158.934v56.132l195.631,104.758 V310.159z"/> </g> </g> <polygon style="fill:#BDA381;" points="276.534,44.888 264.078,36.873 247.912,36.873 235.455,44.888 237.834,31.072 250.571,24.791 261.488,24.791 274.155,31.072 "/> </g> <path style="opacity:0.06;fill:#040000;" d="M283.847,383.852c4.688-32.399,7.068-75.084,8.118-117.629L512,342.215v-32.857 c0,0-39.915-33.192-86.212-71.684c0.35-1.177,0.597-2.398,0.597-3.684v-29.862c0-3.823-3.128-6.95-6.95-6.95h-13.727 c-3.814,0-6.934,3.12-6.934,6.933v11.104c-11.462-9.529-22.894-19.034-33.886-28.171c0.721-1.618,1.138-3.397,1.138-5.274v-29.862 c0-3.822-3.128-6.95-6.95-6.95h-13.727c-3.813,0-6.934,3.12-6.934,6.933v13.148c-20.606-17.127-37.378-31.065-46.171-38.364 c-0.14-10.883-0.279-19.261-0.279-24.429c0-7.138-0.21-13.996-0.7-20.435c-1.82-27.573-7.278-49.127-14.416-63.194 C270.692,6.581,263.346,0.003,256,0v473.285c2.165-1.19,5.168-4.683,8.517-11.792l87.956,23.561v-22.209 c0,0-44.104-40.586-70.864-65.018v-0.049C282.378,393.369,283.148,388.75,283.847,383.852z"/> </g> </g></svg>
                    <div class="mapText">Вызывает серию ракетных ударов по толпе зомби</div>
                    <div class="buyShop">
                        <svg class="moneyMap" viewBox="0 0 512 512"> <g> <g> <path style="fill:#74D24F;" d="M496,112H16c-8.82,0-16,7.18-16,16v256c0,8.82,7.18,16,16,16h480c8.82,0,16-7.18,16-16V128 C512,119.18,504.82,112,496,112z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M472,192c-22.055,0-40-17.945-40-40c0-4.422-3.578-8-8-8H88c-4.422,0-8,3.578-8,8 c0,22.055-17.945,40-40,40c-4.422,0-8,3.578-8,8v112c0,4.422,3.578,8,8,8c22.055,0,40,17.945,40,40c0,4.422,3.578,8,8,8h336 c4.422,0,8-3.578,8-8c0-22.055,17.945-40,40-40c4.422,0,8-3.578,8-8V200C480,195.578,476.422,192,472,192z"></path> </g> <g> <path style="fill:#869B55;" d="M128,256c0,48.221,26.691,90.175,66.081,112h123.839C357.309,346.175,384,304.221,384,256 s-26.691-90.175-66.081-112H194.08C154.691,165.825,128,207.779,128,256z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M256,244c-16.023,0-28-8.445-28-16c0-7.555,11.977-16,28-16s28,8.445,28,16c0,6.625,5.375,12,12,12 s12-5.375,12-12c0-19.236-16.824-34.862-40-38.932V184c0-6.625-5.375-12-12-12s-12,5.375-12,12v5.068 c-23.176,4.07-40,19.695-40,38.932c0,22.43,22.844,40,52,40c16.023,0,28,8.445,28,16c0,7.555-11.977,16-28,16s-28-8.445-28-16 c0-6.625-5.375-12-12-12s-12,5.375-12,12c0,19.236,16.824,34.862,40,38.932V328c0,6.625,5.375,12,12,12s12-5.375,12-12v-5.068 c23.176-4.07,40-19.695,40-38.932C308,261.57,285.156,244,256,244z"></path> </g> <g> <circle style="fill:#74D24F;" cx="80" cy="256" r="24"></circle> </g> <g> <circle style="fill:#74D24F;" cx="432" cy="256" r="24"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="360" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="360" r="16"></circle> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                        Купить 50
                    </div>
                </div>
                <div class="mapShop" data-name-menu="2">
                    <div class="mapName">Метеоритный дождь</div>
                    <svg style="position: relative;top: 25px;left: 0;right: 0;display: block;margin: 0 auto;" width="80px" viewBox="0 0 620 620"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/><g id="SVGRepo_iconCarrier"> <g> <circle style="fill:#EDC148;" cx="315.031" cy="280.908" r="65.997"/> <g> <path style="fill:#B3B3B3;" d="M315.031,381.358c-25.735,0-51.47-9.796-71.062-29.388L97.606,205.606 c-2.539-2.539-2.539-6.654,0-9.192c2.538-2.538,6.654-2.538,9.192,0l146.364,146.364c34.115,34.115,89.624,34.115,123.739,0 c34.115-34.115,34.115-89.625,0-123.739l-80.602-80.602c-2.539-2.539-2.539-6.654,0-9.192c2.538-2.538,6.654-2.538,9.192,0 l80.602,80.602c39.184,39.184,39.184,102.94,0,142.124C366.501,371.562,340.766,381.358,315.031,381.358z"/> <path style="fill:#B3B3B3;" d="M276.502,115.946c-1.664,0-3.327-0.635-4.596-1.904l-41.368-41.368 c-2.539-2.539-2.539-6.654,0-9.192c2.538-2.538,6.654-2.538,9.192,0l41.368,41.368c2.539,2.539,2.539,6.654,0,9.192 C279.829,115.312,278.165,115.946,276.502,115.946z"/> <g> <path style="fill:#B3B3B3;" d="M45.7,97.622c-1.664,0-3.327-0.635-4.596-1.904l-39.2-39.2c-2.539-2.539-2.539-6.654,0-9.192 c2.538-2.538,6.654-2.538,9.192,0l39.2,39.2c2.539,2.539,2.539,6.654,0,9.192C49.027,96.987,47.364,97.622,45.7,97.622z"/> <path style="fill:#B3B3B3;" d="M215.869,267.791c-1.664,0-3.327-0.635-4.596-1.904l-155.37-155.37 c-2.539-2.539-2.539-6.654,0-9.192c2.538-2.538,6.654-2.538,9.192,0l155.37,155.37c2.539,2.539,2.539,6.654,0,9.192 C219.196,267.156,217.533,267.791,215.869,267.791z"/> <path style="fill:#B3B3B3;" d="M207.915,180.292c-1.664,0-3.327-0.635-4.596-1.904L120.591,95.66 c-2.539-2.539-2.539-6.654,0-9.192c2.538-2.538,6.654-2.538,9.192,0l82.728,82.728c2.539,2.539,2.539,6.654,0,9.192 C211.242,179.657,209.579,180.292,207.915,180.292z"/> <path style="fill:#B3B3B3;" d="M246.096,218.473c-1.664,0-3.327-0.635-4.596-1.904l-18.03-18.03 c-2.539-2.539-2.539-6.654,0-9.192c2.538-2.538,6.654-2.538,9.192,0l18.03,18.03c2.539,2.539,2.539,6.654,0,9.192 C249.423,217.838,247.76,218.473,246.096,218.473z"/> <path style="fill:#B3B3B3;" d="M214.809,107.64c-1.664,0-3.327-0.635-4.596-1.904l-60.517-60.517 c-2.539-2.539-2.539-6.654,0-9.192c2.538-2.538,6.654-2.538,9.192,0l60.517,60.517c2.539,2.539,2.539,6.654,0,9.192 C218.136,107.005,216.472,107.64,214.809,107.64z"/> <path style="fill:#B3B3B3;" d="M295.415,188.246c-1.664,0-3.327-0.635-4.596-1.904l-59.394-59.394 c-2.539-2.539-2.539-6.654,0-9.192c2.538-2.538,6.654-2.538,9.192,0l59.394,59.394c2.539,2.539,2.539,6.654,0,9.192 C298.742,187.611,297.078,188.246,295.415,188.246z"/> </g> </g> <circle style="fill:#B2863F;" cx="291.916" cy="262.982" r="12.749"/> <circle style="fill:#B2863F;" cx="343.67" cy="294.567" r="19.412"/> <path style="fill:#B2863F;" d="M288.915,312.981c-0.42,0-0.85-0.04-1.27-0.13c-0.41-0.08-0.82-0.21-1.21-0.37 c-0.4-0.16-0.77-0.36-1.13-0.6c-0.35-0.23-0.69-0.51-0.99-0.8c-0.3-0.3-0.57-0.64-0.8-0.99c-0.24-0.36-0.44-0.73-0.6-1.13 c-0.16-0.39-0.29-0.8-0.37-1.21c-0.09-0.42-0.13-0.85-0.13-1.27c0-0.43,0.04-0.85,0.13-1.27c0.08-0.42,0.21-0.83,0.37-1.22 c0.16-0.39,0.36-0.77,0.6-1.12c0.23-0.36,0.5-0.69,0.8-0.99c0.3-0.3,0.64-0.57,0.99-0.81c0.36-0.23,0.73-0.43,1.13-0.59 c0.39-0.17,0.8-0.29,1.21-0.37c2.11-0.43,4.36,0.26,5.87,1.77c0.3,0.3,0.57,0.63,0.81,0.99c0.23,0.35,0.43,0.73,0.59,1.12 c0.17,0.39,0.29,0.8,0.37,1.22c0.09,0.42,0.13,0.84,0.13,1.27c0,0.42-0.04,0.85-0.13,1.27c-0.08,0.41-0.2,0.82-0.37,1.21 c-0.16,0.4-0.36,0.77-0.59,1.13c-0.24,0.35-0.51,0.69-0.81,0.99C292.305,312.281,290.625,312.981,288.915,312.981z"/> <path style="fill:#B2863F;" d="M335.415,254.481c-1.71,0-3.39-0.69-4.6-1.9c-0.3-0.3-0.57-0.63-0.81-0.99 c-0.23-0.35-0.43-0.73-0.59-1.12c-0.17-0.4-0.29-0.8-0.37-1.22c-0.09-0.42-0.13-0.85-0.13-1.27c0-1.71,0.69-3.38,1.9-4.59 c0.3-0.3,0.63-0.58,0.99-0.81c0.35-0.24,0.73-0.44,1.12-0.6c0.4-0.16,0.8-0.29,1.22-0.37c2.11-0.42,4.36,0.27,5.86,1.78 c1.22,1.2,1.91,2.88,1.91,4.59c0,0.42-0.04,0.85-0.13,1.27c-0.08,0.42-0.21,0.82-0.37,1.22c-0.16,0.39-0.36,0.77-0.6,1.12 c-0.23,0.36-0.51,0.69-0.81,0.99C338.795,253.791,337.125,254.481,335.415,254.481z"/> <path style="fill:#B2863F;" d="M311.415,327.981c-1.71,0-3.39-0.7-4.6-1.91c-1.21-1.2-1.9-2.88-1.9-4.59s0.69-3.39,1.9-4.6 c1.21-1.21,2.89-1.9,4.6-1.9s3.39,0.69,4.6,1.9c1.21,1.21,1.9,2.89,1.9,4.6s-0.69,3.38-1.9,4.59S313.125,327.981,311.415,327.981z"/> </g> </g></svg>
                    <div class="mapText">Метеориты с небес начинают падать в случайные места</div>
                    <div class="buyShop">
                        <svg class="moneyMap" viewBox="0 0 512 512"> <g> <g> <path style="fill:#74D24F;" d="M496,112H16c-8.82,0-16,7.18-16,16v256c0,8.82,7.18,16,16,16h480c8.82,0,16-7.18,16-16V128 C512,119.18,504.82,112,496,112z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M472,192c-22.055,0-40-17.945-40-40c0-4.422-3.578-8-8-8H88c-4.422,0-8,3.578-8,8 c0,22.055-17.945,40-40,40c-4.422,0-8,3.578-8,8v112c0,4.422,3.578,8,8,8c22.055,0,40,17.945,40,40c0,4.422,3.578,8,8,8h336 c4.422,0,8-3.578,8-8c0-22.055,17.945-40,40-40c4.422,0,8-3.578,8-8V200C480,195.578,476.422,192,472,192z"></path> </g> <g> <path style="fill:#869B55;" d="M128,256c0,48.221,26.691,90.175,66.081,112h123.839C357.309,346.175,384,304.221,384,256 s-26.691-90.175-66.081-112H194.08C154.691,165.825,128,207.779,128,256z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M256,244c-16.023,0-28-8.445-28-16c0-7.555,11.977-16,28-16s28,8.445,28,16c0,6.625,5.375,12,12,12 s12-5.375,12-12c0-19.236-16.824-34.862-40-38.932V184c0-6.625-5.375-12-12-12s-12,5.375-12,12v5.068 c-23.176,4.07-40,19.695-40,38.932c0,22.43,22.844,40,52,40c16.023,0,28,8.445,28,16c0,7.555-11.977,16-28,16s-28-8.445-28-16 c0-6.625-5.375-12-12-12s-12,5.375-12,12c0,19.236,16.824,34.862,40,38.932V328c0,6.625,5.375,12,12,12s12-5.375,12-12v-5.068 c23.176-4.07,40-19.695,40-38.932C308,261.57,285.156,244,256,244z"></path> </g> <g> <circle style="fill:#74D24F;" cx="80" cy="256" r="24"></circle> </g> <g> <circle style="fill:#74D24F;" cx="432" cy="256" r="24"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="360" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="360" r="16"></circle> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                        Купить 20
                    </div>
                </div>`);

            /* Валюта */
            it('#mapsShop').append(
                `<div class="mapShop" data-name-menu="3">
                    <div class="mapName">+ 50 баксов</div>
                    <svg style="position: relative;top: 15px;left: 0;right: 0;display: block;margin: 0 auto;" width="80px" viewBox="0 0 512 512"> <g> <g> <path style="fill:#74D24F;" d="M496,112H16c-8.82,0-16,7.18-16,16v256c0,8.82,7.18,16,16,16h480c8.82,0,16-7.18,16-16V128 C512,119.18,504.82,112,496,112z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M472,192c-22.055,0-40-17.945-40-40c0-4.422-3.578-8-8-8H88c-4.422,0-8,3.578-8,8 c0,22.055-17.945,40-40,40c-4.422,0-8,3.578-8,8v112c0,4.422,3.578,8,8,8c22.055,0,40,17.945,40,40c0,4.422,3.578,8,8,8h336 c4.422,0,8-3.578,8-8c0-22.055,17.945-40,40-40c4.422,0,8-3.578,8-8V200C480,195.578,476.422,192,472,192z"></path> </g> <g> <path style="fill:#869B55;" d="M128,256c0,48.221,26.691,90.175,66.081,112h123.839C357.309,346.175,384,304.221,384,256 s-26.691-90.175-66.081-112H194.08C154.691,165.825,128,207.779,128,256z"></path> </g> <g> <path style="fill:#FFEFBC;" d="M256,244c-16.023,0-28-8.445-28-16c0-7.555,11.977-16,28-16s28,8.445,28,16c0,6.625,5.375,12,12,12 s12-5.375,12-12c0-19.236-16.824-34.862-40-38.932V184c0-6.625-5.375-12-12-12s-12,5.375-12,12v5.068 c-23.176,4.07-40,19.695-40,38.932c0,22.43,22.844,40,52,40c16.023,0,28,8.445,28,16c0,7.555-11.977,16-28,16s-28-8.445-28-16 c0-6.625-5.375-12-12-12s-12,5.375-12,12c0,19.236,16.824,34.862,40,38.932V328c0,6.625,5.375,12,12,12s12-5.375,12-12v-5.068 c23.176-4.07,40-19.695,40-38.932C308,261.57,285.156,244,256,244z"></path> </g> <g> <circle style="fill:#74D24F;" cx="80" cy="256" r="24"></circle> </g> <g> <circle style="fill:#74D24F;" cx="432" cy="256" r="24"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="152" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="40" cy="360" r="16"></circle> </g> <g> <circle style="fill:#869B55;" cx="472" cy="360" r="16"></circle> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
                    <div class="mapText">+ 50 басков за просмотр видео-рекламы</div>
                    <div class="buyShop" onclick="view_rew_shop (1)">Смотреть</div>
                </div>
                <div class="mapShop" data-name-menu="3">
                    <div class="mapName">+ 1 энергия</div>
                    <svg style="position: relative;top: 15px;left: 0;right: 0;display: block;margin: 0 auto;" width="80px" viewBox="0 0 64 64"><path fill="#ffce31" d="M44.5 2l-9 2.5L29.4 2l-9.9 34.4h10.4L20.8 62l22.4-34.4H29.7z"></path></svg>
                    <div class="mapText">+ 1 энергия за просмотр видео-рекламы</div>
                    <div class="buyShop" onclick="view_rew_shop (2)">Смотреть</div>
                </div>`);

            open_menu_blackbg (1);
            break;

        case 'stop':
            it('#backgroundBlack').html(

                `<div id="menuTablo" style="background-color: #ffb836">
                    <div id="closeMenuTablo" onclick="closeBlackBackground ();pauseAndPlay ('play')">✕</div>
                    <div id="tabName" style="background: linear-gradient(45deg, #817a6a, #1f1c19);">Игра остановлена</div>
                    <div class="but-game-stop" onclick="closeBlackBackground ();pauseAndPlay ('play')">Продолжить</div>
                    <div class="but-game-stop" onclick="closeBlackBackground ();endgame ();playButton (${lvlOpen})">Перезапустить</div>
                    <div class="but-game-stop" onclick="closeBlackBackground ();endgame ()">Покинуть уровень</div>
                </div>`
            );
            break;

        case 'ob':
            pauseAndPlay ('pause');

            switch (fromPosition){

                case 1:
                    var tex = `Добро пожаловать на поле боя солдат. Я генерал армии, мой позывной "Генчик". Нам предстоит нелегкий бой, зомби заполонили всю округу, нужно помочь гражданским.`,
                    scriptGena = `setTimeout(()=>{openBlackBackground ('ob', 2)}, 1500)`;
                    break;

                case 2:
                    var tex = `Расставляй на свободные клетки свои танки. Для этого кликни на любую свободную клетку и выбери танк. Подсказка: располагать танки необходимо как можно ближе к дороге.`,
                    scriptGena = ``;
                    break;

                case 3:
                    var tex = `Отлично солдат, так держать ! Следи за балансом игровых монет, чтобы покупать на поле боя как можно больше танков, ты ведь хочешь победить ?`,
                    scriptGena = `setTimeout(()=>{openBlackBackground ('ob', 4)}, 1500)`;
                    break;

                case 4:
                    var tex = `Солдат ! Следи чтобы зомби не добрались до города, за каждого пропущенного отнимается жизнь, не дай этим любителям мозгов захватить наше поселение !`,
                    scriptGena = ``;
                    break;
            }

            it('#backgroundBlack').html(
                
                `<div id="gena"></div>
                <div id="genaText" onclick="pauseAndPlay ('play');closeBlackBackground ();${scriptGena}">${tex}</div>`
            );
            break;
    }
};

/* Просмотр рекламы за бонус */
function view_rew_shop (from){

    if (getTime () <= (view_ads_rew + 30))
        warning ('Пока нет подходящей рекламы');
    else {
        
        vkBridge.send('VKWebAppShowNativeAds', {ad_format:'reward'}).then(()=>{

            view_ads_rew = getTime ();

            switch (from){

                case 1:
                    user.bank.money += 50;
                    it('#moneyHub').html(user.bank.money);
                    break;

                case 2:
                    user.bank.energy += 1;
                    it('#energy').html(user.bank.energy);

                    if (user.bank.energy == 5)
                        user.energyTime = null;
                    break;
            }

            saveData ();
    
        }).catch(error => {warning ('В данный момент нет подходящей рекламы')});
    }
};

/* Просмотр рекламы за удвоение награды */
function view_rew_x2 (){

    vkBridge.send('VKWebAppShowNativeAds', {ad_format:'reward'}).then(()=>{

        it('#moneyRewResult span').html(Number(it('#moneyRewResult span').html()) * 2);
        it('div[onclick="view_rew_x2 ()"]').remove();
    
        win = lvl[lvlOpen][4][0][0];
        user.bank.money += win;
        it('#moneyHub').html(user.bank.money);
        saveData ();

    }).catch(error => {warning ('В данный момент нет подходящей рекламы')});
};

/* Закрытие затемнённого экрана */
function closeBlackBackground (){

    it('#backgroundBlack').at('del', 'style');
    it('#backgroundBlack').html('');
};

/* Сохранение данных игрока */
function saveData (){

    vkBridge.send('VKWebAppStorageSet', {key: 'game', value: JSON.stringify(user)});
};

/* Выход из уровня */
function endgame (){

    lvlOpen = null;
    it('#hub, #goldBlock, #scale').at('del', 'style');
    it('#map').html('');
    pauseAndPlay ('play');
};

/* Поставить на паузы и воспроизведение */
function pauseAndPlay (from){

    if ( from == 'pause' || pause === false ){

        pause = true;
        it('.topPanel[onclick="pauseAndPlay ()"]').html(`<svg style="position: relative;top: 5px" width="30px" viewBox="0 0 24 24"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM15.5963 10.3318C16.8872 11.0694 16.8872 12.9307 15.5963 13.6683L11.154 16.2068C9.9715 16.8825 8.5002 16.0287 8.5002 14.6667L8.5002 9.33339C8.5002 7.97146 9.9715 7.11762 11.154 7.79333L15.5963 10.3318Z" fill="#fff"/> </g></svg>`);

    } else {

        pause = false;
        it('.topPanel[onclick="pauseAndPlay ()"]').html(`<svg style="position: relative;top: 5px" width="30px" viewBox="0 0 512 512"> <path style="fill: #fff;" d="M256,0C114.617,0,0,114.617,0,256s114.617,256,256,256s256-114.617,256-256S397.383,0,256,0z M224,320 c0,8.836-7.156,16-16,16h-32c-8.844,0-16-7.164-16-16V192c0-8.836,7.156-16,16-16h32c8.844,0,16,7.164,16,16V320z M352,320 c0,8.836-7.156,16-16,16h-32c-8.844,0-16-7.164-16-16V192c0-8.836,7.156-16,16-16h32c8.844,0,16,7.164,16,16V320z"/> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>`);
    }
};

/* Открытие пунктов меню на листах с затенённым экраном */
function open_menu_blackbg (from){

    it('#topPanelShop div[dataVoiceShopTab="true"]').at('del', 'dataVoiceShopTab');
    it(`#topPanelShop div[onclick="open_menu_blackbg (${from})"]`).at('new', 'dataVoiceShopTab', 'true');

    var collection = d.querySelectorAll(`#mapsShop div.mapShop`);

    if (collection.length <= 0) return null;

    for ( var element of collection ){

        if ( element.getAttribute('data-name-menu') == from)
            element.removeAttribute('style');
        else element.style.display = 'none';
    }
};

/* Операции с картами */
function pack (fun, num, elem){

    switch (fun){

        case 'remove':
            user.voiceTowers.splice (user.voiceTowers.indexOf(num), 1);
            saveData ();
            elem.parentNode.remove ();
            it(`div[data-tank="${num}"] .buyShop`).html('В колоду');
            it(`div[data-tank="${num}"] .buyShop`).at('del', 'style');
            it(`div[data-tank="${num}"] .buyShop`).at('del', 'data-buy');
            it(`div[data-tank="${num}"] .buyShop`).at('new', 'onclick', `pack ('add', ${num}, this)`);
            break;

        case 'add':
            if ( user.voiceTowers.length >= 4 ) return warning ('Больше 4 карт запрещено иметь в колоде');
            user.voiceTowers.push(num);
            saveData ();
            elem.innerText = 'Уже в колоде';
            elem.removeAttribute('onclick');
            elem.setAttribute('data-buy', 'true');
            elem.style.background = '#777';
            if (d.querySelector('div[data-name-menu="1"]')) it('div[data-name-menu="1"]').remove();
            pack ('print', 1);
            open_menu_blackbg (2);
            break;

        case 'print':

            if (num == 1){

                for ( var tank of user.voiceTowers )
                    it('#mapsShop').append(
                        `<div class="mapShop" data-name-menu="1">
                            <div class="mapName">${shopTowers[tank][4]}</div>
                            <div class="imgMap" style="background-position: ${shopTowers[tank][3][1]}"></div>
                            <div class="mapText">${shopTowers[tank][5]}</div>
                            <div class="rechargeMapText">Перезарядка</div>
                            <div class="rechargeMap"><div class="goal" style="width: ${(shopTowers[tank][2] / 0.02)}%;background: ${color_tank ('Recharge', shopTowers[tank][2])}"></div></div>
                            <div class="damageMapText">Урон</div>
                            <div class="damageMap">
                                <div class="goal" style="width: ${(shopTowers[tank][1] / 0.1)}%;background: ${color_tank ('Damage', (shopTowers[tank][1] / 0.1))}"></div>
                            </div>
                            <div class="buyShop" style="background: #ff5d5d" onclick="pack ('remove', ${tank}, this)">Убрать</div>
                        </div>`
                    );

            } else {

                for ( var tank in user.towers ){

                    tank = Number(tank);
                    text = `<div class="mapShop" data-name-menu="2" data-tank="${tank}">
                        <div class="mapName">${shopTowers[tank][4]}</div>
                        <div class="imgMap" style="background-position: ${shopTowers[tank][3][1]}"></div>
                        <div class="mapText">${shopTowers[tank][5]}</div>
                        <div class="rechargeMapText">Перезарядка</div>
                        <div class="rechargeMap"><div class="goal" style="width: ${(shopTowers[tank][2] / 0.02)}%;background: ${color_tank ('Recharge', shopTowers[tank][2])}"></div></div>
                        <div class="damageMapText">Урон</div>
                        <div class="damageMap">
                            <div class="goal" style="width: ${(shopTowers[tank][1] / 0.1)}%;background: ${color_tank ('Damage', (shopTowers[tank][1] / 0.1))}"></div>
                        </div>`;

                        if ( user.voiceTowers.includes(tank) === false )
                            text += `<div class="buyShop" onclick="pack ('add', ${tank}, this)">В колоду</div>`;
                        else text += `<div class="buyShop" data-buy="true" style="background: #777">Уже в колоде</div>`;

                    text += `</div>`;
                    it('#mapsShop').append(text);
                }
            }
            break;

        case 'buy':
            if ( user.towers[num - 1] == null ) return warning ('Сначала купите прошлую карту');
            if ( user.bank.money < shopTowers[num][6] ) return warning ('Недостаточно средств');

            elem.innerText = 'Куплено';
            elem.style.background = '#777';
            elem.setAttribute ('data-buy', 'true');

            user.bank.money = Number( user.bank.money - shopTowers[num][6] );
            it('#moneyHub').html( user.bank.money );
            user.towers.push ([shopTowers[num][1], (shopTowers[num][2] * 1000) ]);

            saveData ();
            break;
    }
};

/* Вывод на экран предупреждения */
function warning (from){

    it('#warning').html(from);
    it('#warning').css({display: 'block'});
    it('#warning').at('new', 'data-timewar', getTime () );

    setTimeout(()=>{

        if ( getTime () >= (Number(it('#warning').at('get', 'data-timewar')) + 3) )
            it('#warning').at('del', 'style');

    }, 3100);
};

/* Получение текущего времени в секундах */
function getTime (){

    return Number((new Date () / 1000).toFixed());
};

/* Восстановление энергии */
function energyFull (){

    user.bank.energy = 5;
    saveData ();
    d.location.reload ();
};

/* Переменные */
var lvl = [ /* Уровни */

    /*0*/[
        15,
        10,
        [
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            150,
                            250
                        ],
                        [
                            150,
                            350
                        ],
                        [
                            350,
                            350
                        ],
                        [
                            350,
                            150
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            550,
                            250
                        ],
                        [
                            700,
                            250
                        ]
                    ],
                    4,
                    2
                ]
            ],
            [[
                1,
                1.5,
                10,
                [
                    [
                        0,
                        250
                    ],
                    [
                        150,
                        250
                    ],
                    [
                        150,
                        350
                    ],
                    [
                        350,
                        350
                    ],
                    [
                        350,
                        150
                    ],
                    [
                        550,
                        150
                    ],
                    [
                        550,
                        250
                    ],
                    [
                        700,
                        250
                    ]
                ],
                4,
                1
            ]],
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            150,
                            250
                        ],
                        [
                            150,
                            150
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            550,
                            250
                        ],
                        [
                            700,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    2,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            150,
                            250
                        ],
                        [
                            150,
                            350
                        ],
                        [
                            550,
                            350
                        ],
                        [
                            550,
                            250
                        ],
                        [
                            700,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    2,
                    15,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            150,
                            250
                        ],
                        [
                            150,
                            150
                        ],
                        [
                            350,
                            150
                        ],
                        [
                            350,
                            350
                        ],
                        [
                            550,
                            350
                        ],
                        [
                            550,
                            250
                        ],
                        [
                            700,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "19": "imgDecor12",
            "22": "imgDecor11",
            "23": "imgDecor16",
            "28": "imgDecor14",
            "42": "imgDecor15",
            "49": "imgDecor8",
            "50": "imgDecor1",
            "51": "imgDecor1",
            "52": "imgDecor1",
            "53": "imgDecor3",
            "54": "imgDecor1",
            "55": "imgDecor1",
            "56": "imgDecor1",
            "57": "imgDecor10",
            "59": "imgDecor16",
            "61": "imgDecor17",
            "64": "imgDecor2",
            "68": "imgDecor2",
            "72": "imgDecor2",
            "75": "imgDecor18",
            "76": "imgDecor1",
            "77": "imgDecor1",
            "78": "imgDecor1",
            "79": "imgDecor4",
            "81": "imgDecor11",
            "83": "imgDecor2",
            "85": "imgDecor11",
            "86": "imgDecor13",
            "87": "imgDecor6",
            "88": "imgDecor1",
            "89": "imgDecor1",
            "90": "imgDecor1",
            "94": "imgDecor2",
            "98": "imgDecor2",
            "102": "imgDecor2",
            "105": "imgDecor18",
            "107": "imgDecor11",
            "109": "imgDecor9",
            "110": "imgDecor1",
            "111": "imgDecor1",
            "112": "imgDecor1",
            "113": "imgDecor5",
            "114": "imgDecor1",
            "115": "imgDecor1",
            "116": "imgDecor1",
            "117": "imgDecor7",
            "123": "imgDecor16",
            "125": "imgDecor12",
            "126": "imgDecor11",
            "133": "imgDecor13",
            "134": "imgDecor16",
            "145": "imgDecor16"
        },
        [[20,10]],
        [15, 100]
    ],
    /*1*/[
        18,
        10,
        [
            [
                [
                    1,
                    1,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1,
                    7,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            450,
                            250
                        ],
                        [
                            450,
                            100
                        ],
                        [
                            600,
                            100
                        ],
                        [
                            600,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    1,
                    7,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            450,
                            250
                        ],
                        [
                            450,
                            400
                        ],
                        [
                            600,
                            400
                        ],
                        [
                            600,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    5,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            300,
                            250
                        ],
                        [
                            300,
                            100
                        ],
                        [
                            600,
                            100
                        ],
                        [
                            600,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    1.5,
                    5,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            300,
                            250
                        ],
                        [
                            300,
                            400
                        ],
                        [
                            600,
                            400
                        ],
                        [
                            600,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    2,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    2,
                    5,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            300,
                            250
                        ],
                        [
                            300,
                            100
                        ],
                        [
                            600,
                            100
                        ],
                        [
                            600,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    2,
                    5,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            300,
                            250
                        ],
                        [
                            300,
                            400
                        ],
                        [
                            600,
                            400
                        ],
                        [
                            600,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    2.5,
                    5,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "21": "imgDecor16",
            "22": "imgDecor11",
            "29": "imgDecor16",
            "43": "imgDecor8",
            "44": "imgDecor1",
            "45": "imgDecor1",
            "46": "imgDecor3",
            "47": "imgDecor1",
            "48": "imgDecor1",
            "49": "imgDecor10",
            "50": "imgDecor13",
            "51": "imgDecor11",
            "53": "imgDecor16",
            "58": "imgDecor19",
            "59": "imgDecor16",
            "61": "imgDecor2",
            "64": "imgDecor2",
            "67": "imgDecor2",
            "69": "imgDecor14",
            "73": "imgDecor17",
            "79": "imgDecor2",
            "82": "imgDecor2",
            "85": "imgDecor2",
            "90": "imgDecor18",
            "91": "imgDecor1",
            "92": "imgDecor1",
            "93": "imgDecor1",
            "94": "imgDecor1",
            "95": "imgDecor1",
            "96": "imgDecor1",
            "97": "imgDecor20",
            "98": "imgDecor1",
            "99": "imgDecor1",
            "100": "imgDecor20",
            "101": "imgDecor1",
            "102": "imgDecor1",
            "103": "imgDecor20",
            "104": "imgDecor1",
            "105": "imgDecor1",
            "106": "imgDecor1",
            "107": "imgDecor1",
            "108": "imgDecor1",
            "115": "imgDecor2",
            "118": "imgDecor2",
            "121": "imgDecor2",
            "126": "imgDecor18",
            "130": "imgDecor14",
            "133": "imgDecor2",
            "136": "imgDecor2",
            "139": "imgDecor2",
            "140": "imgDecor19",
            "142": "imgDecor16",
            "146": "imgDecor16",
            "147": "imgDecor15",
            "149": "imgDecor19",
            "151": "imgDecor9",
            "152": "imgDecor1",
            "153": "imgDecor1",
            "154": "imgDecor5",
            "155": "imgDecor1",
            "156": "imgDecor1",
            "157": "imgDecor7",
            "159": "imgDecor11",
            "160": "imgDecor13",
            "169": "imgDecor11",
            "170": "imgDecor13"
        },
        [[30,15]],
        [15, 100]
    ],
    /*2*/[
        12,
        9,
        [
            [
                [
                    1,
                    1,
                    10,
                    [
                        [
                            50,
                            400
                        ],
                        [
                            50,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            350,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.2,
                    5,
                    [
                        [
                            50,
                            400
                        ],
                        [
                            50,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            350,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    5,
                    [
                        [
                            50,
                            400
                        ],
                        [
                            50,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            350,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            50,
                            400
                        ],
                        [
                            50,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            350,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.7,
                    5,
                    [
                        [
                            50,
                            400
                        ],
                        [
                            50,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            350,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.7,
                    10,
                    [
                        [
                            50,
                            400
                        ],
                        [
                            50,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            350,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    7,
                    1,
                    [
                        [
                            50,
                            400
                        ],
                        [
                            50,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            350,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "3": "imgDecor11",
            "9": "imgDecor16",
            "14": "imgDecor8",
            "15": "imgDecor1",
            "16": "imgDecor1",
            "17": "imgDecor1",
            "18": "imgDecor1",
            "19": "imgDecor1",
            "20": "imgDecor1",
            "21": "imgDecor1",
            "22": "imgDecor1",
            "23": "imgDecor10",
            "24": "imgDecor11",
            "25": "imgDecor16",
            "26": "imgDecor2",
            "35": "imgDecor2",
            "38": "imgDecor2",
            "40": "imgDecor14",
            "41": "imgDecor15",
            "43": "imgDecor16",
            "44": "imgDecor18",
            "45": "imgDecor12",
            "47": "imgDecor2",
            "49": "imgDecor16",
            "50": "imgDecor2",
            "53": "imgDecor8",
            "54": "imgDecor1",
            "55": "imgDecor1",
            "56": "imgDecor1",
            "57": "imgDecor19",
            "59": "imgDecor2",
            "60": "imgDecor11",
            "62": "imgDecor2",
            "64": "imgDecor16",
            "65": "imgDecor2",
            "68": "imgDecor18",
            "71": "imgDecor2",
            "72": "imgDecor11",
            "74": "imgDecor2",
            "77": "imgDecor9",
            "78": "imgDecor1",
            "79": "imgDecor1",
            "80": "imgDecor1",
            "81": "imgDecor1",
            "82": "imgDecor1",
            "83": "imgDecor7",
            "86": "imgDecor2",
            "88": "imgDecor11",
            "89": "imgDecor13",
            "97": "imgDecor17",
            "98": "imgDecor2",
            "104": "imgDecor16",
            "105": "imgDecor11",
            "106": "imgDecor13"
        },
        [[35,15]],
        [5, 100]
    ],
    /*3*/[
        16,
        10,
        [
            [
                [
                    1,
                    1,
                    10,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            300,
                            350
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            400,
                            300
                        ],
                        [
                            400,
                            250
                        ],
                        [
                            300,
                            250
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.2,
                    5,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            300,
                            350
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            400,
                            300
                        ],
                        [
                            400,
                            250
                        ],
                        [
                            500,
                            250
                        ],
                        [
                            500,
                            450
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    5,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            300,
                            350
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            400,
                            300
                        ],
                        [
                            400,
                            250
                        ],
                        [
                            300,
                            250
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            300,
                            350
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            400,
                            300
                        ],
                        [
                            400,
                            250
                        ],
                        [
                            300,
                            250
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.7,
                    5,
                    [
                        [
                            750,
                            150
                        ],
                        [
                            500,
                            150
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            400,
                            200
                        ],
                        [
                            400,
                            250
                        ],
                        [
                            500,
                            250
                        ],
                        [
                            500,
                            450
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.7,
                    10,
                    [
                        [
                            750,
                            150
                        ],
                        [
                            500,
                            150
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            400,
                            200
                        ],
                        [
                            400,
                            250
                        ],
                        [
                            300,
                            250
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    2.5,
                    5,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            300,
                            350
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            400,
                            300
                        ],
                        [
                            400,
                            250
                        ],
                        [
                            500,
                            250
                        ],
                        [
                            500,
                            450
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "6": "imgDecor18",
            "7": "imgDecor2",
            "8": "imgDecor18",
            "17": "imgDecor11",
            "23": "imgDecor2",
            "28": "imgDecor11",
            "29": "imgDecor13",
            "36": "imgDecor11",
            "39": "imgDecor2",
            "43": "imgDecor16",
            "46": "imgDecor12",
            "48": "imgDecor17",
            "53": "imgDecor11",
            "55": "imgDecor2",
            "57": "imgDecor14",
            "59": "imgDecor8",
            "60": "imgDecor1",
            "61": "imgDecor1",
            "62": "imgDecor1",
            "63": "imgDecor1",
            "64": "imgDecor1",
            "66": "imgDecor11",
            "68": "imgDecor11",
            "69": "imgDecor12",
            "71": "imgDecor2",
            "73": "imgDecor8",
            "74": "imgDecor1",
            "75": "imgDecor7",
            "87": "imgDecor9",
            "88": "imgDecor1",
            "89": "imgDecor20",
            "90": "imgDecor1",
            "91": "imgDecor10",
            "94": "imgDecor11",
            "95": "imgDecor13",
            "97": "imgDecor17",
            "103": "imgDecor8",
            "104": "imgDecor1",
            "105": "imgDecor7",
            "107": "imgDecor2",
            "113": "imgDecor1",
            "114": "imgDecor1",
            "115": "imgDecor1",
            "116": "imgDecor1",
            "117": "imgDecor1",
            "118": "imgDecor1",
            "119": "imgDecor7",
            "123": "imgDecor2",
            "125": "imgDecor16",
            "126": "imgDecor15",
            "130": "imgDecor16",
            "134": "imgDecor16",
            "135": "imgDecor16",
            "139": "imgDecor2",
            "148": "imgDecor16",
            "154": "imgDecor18",
            "155": "imgDecor2",
            "156": "imgDecor18"
        },
        [[40,20]],
        [7, 100]
    ],
    /*4*/[
        18,
        10,
        [
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    2
                ]
            ],
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1,
                    5,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    3,
                    5,
                    [
                        [
                            0,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1,
                    10,
                    [
                        [
                            0,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    3,
                    10,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    1.5,
                    10,
                    [
                        [
                            0,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    3.5,
                    15,
                    [
                        [
                            0,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    5,
                    5,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    5,
                    7,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    5,
                    15,
                    [
                        [
                            0,
                            300
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            200,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            50
                        ],
                        [
                            500,
                            50
                        ],
                        [
                            500,
                            200
                        ],
                        [
                            850,
                            200
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "20": "imgDecor11",
            "22": "imgDecor12",
            "23": "imgDecor13",
            "25": "imgDecor8",
            "26": "imgDecor1",
            "27": "imgDecor1",
            "28": "imgDecor1",
            "29": "imgDecor10",
            "31": "imgDecor11",
            "35": "imgDecor16",
            "37": "imgDecor17",
            "43": "imgDecor2",
            "47": "imgDecor2",
            "51": "imgDecor16",
            "52": "imgDecor18",
            "55": "imgDecor1",
            "56": "imgDecor1",
            "57": "imgDecor1",
            "58": "imgDecor1",
            "59": "imgDecor3",
            "60": "imgDecor1",
            "61": "imgDecor7",
            "65": "imgDecor2",
            "72": "imgDecor19",
            "77": "imgDecor2",
            "83": "imgDecor9",
            "84": "imgDecor1",
            "85": "imgDecor1",
            "86": "imgDecor1",
            "87": "imgDecor1",
            "88": "imgDecor1",
            "89": "imgDecor1",
            "90": "imgDecor1",
            "91": "imgDecor17",
            "95": "imgDecor2",
            "98": "imgDecor14",
            "99": "imgDecor16",
            "108": "imgDecor19",
            "109": "imgDecor1",
            "110": "imgDecor1",
            "111": "imgDecor1",
            "112": "imgDecor1",
            "113": "imgDecor7",
            "115": "imgDecor15",
            "123": "imgDecor11",
            "124": "imgDecor19",
            "136": "imgDecor16",
            "139": "imgDecor16",
            "143": "imgDecor18",
            "146": "imgDecor12",
            "147": "imgDecor13",
            "149": "imgDecor11",
            "155": "imgDecor11",
            "156": "imgDecor16",
            "158": "imgDecor16",
            "159": "imgDecor16",
            "171": "imgDecor16",
            "176": "imgDecor12",
            "177": "imgDecor13"
        },
        [[45,20]],
        [10, 100]
    ],
    /*5*/[
        18,
        10,
        [
            [
                [
                    1,
                    1.6,
                    10,
                    [
                        [
                            0,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.6,
                    10,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            450,
                            350
                        ],
                        [
                            450,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.1,
                    5,
                    [
                        [
                            0,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    3.1,
                    5,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            450,
                            350
                        ],
                        [
                            450,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.1,
                    10,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            450,
                            350
                        ],
                        [
                            450,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    1.6,
                    10,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            850,
                            350
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    3.1,
                    10,
                    [
                        [
                            0,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.6,
                    10,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            450,
                            350
                        ],
                        [
                            450,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    3.6,
                    10,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            850,
                            350
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    3.6,
                    5,
                    [
                        [
                            0,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    5.1,
                    5,
                    [
                        [
                            0,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    5.1,
                    4,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            450,
                            350
                        ],
                        [
                            450,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ],
                [
                    2,
                    5.1,
                    3,
                    [
                        [
                            0,
                            100
                        ],
                        [
                            450,
                            100
                        ],
                        [
                            450,
                            350
                        ],
                        [
                            850,
                            350
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    5.1,
                    10,
                    [
                        [
                            0,
                            350
                        ],
                        [
                            850,
                            350
                        ]
                    ],
                    4,
                    1
                ],
                [
                    2,
                    5.1,
                    5,
                    [
                        [
                            0,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "10": "imgDecor19",
            "19": "imgDecor17",
            "22": "imgDecor11",
            "25": "imgDecor14",
            "31": "imgDecor16",
            "36": "imgDecor18",
            "37": "imgDecor1",
            "38": "imgDecor1",
            "39": "imgDecor1",
            "40": "imgDecor1",
            "41": "imgDecor1",
            "42": "imgDecor1",
            "43": "imgDecor1",
            "44": "imgDecor1",
            "45": "imgDecor1",
            "46": "imgDecor3",
            "47": "imgDecor1",
            "48": "imgDecor1",
            "49": "imgDecor1",
            "50": "imgDecor1",
            "51": "imgDecor1",
            "52": "imgDecor1",
            "53": "imgDecor1",
            "54": "imgDecor1",
            "62": "imgDecor16",
            "64": "imgDecor2",
            "70": "imgDecor16",
            "72": "imgDecor18",
            "77": "imgDecor12",
            "82": "imgDecor2",
            "85": "imgDecor11",
            "86": "imgDecor13",
            "97": "imgDecor11",
            "98": "imgDecor13",
            "100": "imgDecor2",
            "109": "imgDecor17",
            "118": "imgDecor2",
            "120": "imgDecor16",
            "123": "imgDecor16",
            "126": "imgDecor18",
            "127": "imgDecor1",
            "128": "imgDecor1",
            "129": "imgDecor1",
            "130": "imgDecor1",
            "131": "imgDecor1",
            "132": "imgDecor1",
            "133": "imgDecor1",
            "134": "imgDecor1",
            "135": "imgDecor1",
            "136": "imgDecor5",
            "137": "imgDecor1",
            "138": "imgDecor1",
            "139": "imgDecor1",
            "140": "imgDecor1",
            "141": "imgDecor1",
            "142": "imgDecor1",
            "143": "imgDecor1",
            "144": "imgDecor1",
            "149": "imgDecor11",
            "153": "imgDecor16",
            "160": "imgDecor12",
            "162": "imgDecor18",
            "177": "imgDecor19"
        },
        [[50,20]],
        [10, 100]
    ],
    /*6*/[
        18,
        10,
        [
            [
                [
                    1,
                    2,
                    10,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            550,
                            450
                        ]
                    ],
                    4,
                    2
                ]
            ],
            [
                [
                    1,
                    2,
                    10,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            550,
                            300
                        ],
                        [
                            550,
                            450
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.4,
                    5,
                    [
                        [
                            850,
                            300
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1.5
                ],
                [
                    1,
                    1.4,
                    5,
                    [
                        [
                            850,
                            300
                        ],
                        [
                            550,
                            300
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1.5
                ]
            ],
            [
                [
                    1,
                    1.4,
                    7,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            550,
                            450
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    2,
                    10,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            550,
                            300
                        ],
                        [
                            550,
                            450
                        ]
                    ],
                    4,
                    1.5
                ]
            ],
            [
                [
                    1,
                    3.5,
                    10,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            550,
                            450
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    2,
                    10,
                    [
                        [
                            850,
                            300
                        ],
                        [
                            550,
                            300
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    3,
                    0.5
                ]
            ],
            [
                [
                    1,
                    4,
                    10,
                    [
                        [
                            850,
                            300
                        ],
                        [
                            550,
                            300
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1.5
                ],
                [
                    1,
                    4,
                    5,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            300,
                            150
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            550,
                            300
                        ],
                        [
                            550,
                            450
                        ]
                    ],
                    4,
                    1.5
                ]
            ],
            [
                [
                    1,
                    6,
                    5,
                    [
                        [
                            850,
                            300
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    6,
                    4,
                    [
                        [
                            850,
                            300
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    0.7
                ],
                [
                    1,
                    6,
                    4,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            550,
                            450
                        ]
                    ],
                    4,
                    0.7
                ]
            ],
            [
                [
                    1,
                    6,
                    10,
                    [
                        [
                            850,
                            300
                        ],
                        [
                            300,
                            300
                        ],
                        [
                            300,
                            0
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    6,
                    5,
                    [
                        [
                            0,
                            150
                        ],
                        [
                            550,
                            150
                        ],
                        [
                            550,
                            450
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "6": "imgDecor18",
            "7": "imgDecor2",
            "8": "imgDecor18",
            "21": "imgDecor16",
            "25": "imgDecor2",
            "29": "imgDecor16",
            "31": "imgDecor11",
            "32": "imgDecor13",
            "34": "imgDecor19",
            "35": "imgDecor16",
            "37": "imgDecor17",
            "43": "imgDecor2",
            "55": "imgDecor1",
            "56": "imgDecor1",
            "57": "imgDecor1",
            "58": "imgDecor1",
            "59": "imgDecor1",
            "60": "imgDecor1",
            "61": "imgDecor20",
            "62": "imgDecor1",
            "63": "imgDecor1",
            "64": "imgDecor1",
            "65": "imgDecor1",
            "66": "imgDecor10",
            "71": "imgDecor16",
            "79": "imgDecor2",
            "84": "imgDecor2",
            "87": "imgDecor16",
            "88": "imgDecor11",
            "97": "imgDecor2",
            "102": "imgDecor2",
            "108": "imgDecor17",
            "110": "imgDecor16",
            "111": "imgDecor11",
            "112": "imgDecor13",
            "115": "imgDecor9",
            "116": "imgDecor1",
            "117": "imgDecor1",
            "118": "imgDecor1",
            "119": "imgDecor1",
            "120": "imgDecor20",
            "121": "imgDecor1",
            "122": "imgDecor1",
            "123": "imgDecor1",
            "124": "imgDecor1",
            "125": "imgDecor1",
            "126": "imgDecor1",
            "132": "imgDecor19",
            "133": "imgDecor19",
            "138": "imgDecor2",
            "146": "imgDecor16",
            "149": "imgDecor14",
            "152": "imgDecor11",
            "153": "imgDecor13",
            "156": "imgDecor2",
            "166": "imgDecor15",
            "173": "imgDecor18",
            "174": "imgDecor2",
            "175": "imgDecor18"
        },
        [[55,20]],
        [10, 100]
    ],
    /*7*/[
        18,
        10,
        [
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            650,
                            300
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            650,
                            300
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1,
                    5,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            650,
                            200
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    3,
                    5,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            650,
                            300
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    3,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            650,
                            300
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    1.5,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            650,
                            200
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    3,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            650,
                            200
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    2,
                    10,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            650,
                            200
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    5,
                    15,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            650,
                            200
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    7,
                    5,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            650,
                            200
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    7,
                    7,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            200
                        ],
                        [
                            650,
                            200
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    7,
                    15,
                    [
                        [
                            0,
                            250
                        ],
                        [
                            200,
                            250
                        ],
                        [
                            200,
                            300
                        ],
                        [
                            650,
                            300
                        ],
                        [
                            650,
                            250
                        ],
                        [
                            850,
                            250
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "22": "imgDecor16",
            "24": "imgDecor16",
            "31": "imgDecor14",
            "39": "imgDecor16",
            "44": "imgDecor16",
            "48": "imgDecor15",
            "52": "imgDecor11",
            "73": "imgDecor17",
            "77": "imgDecor8",
            "78": "imgDecor1",
            "79": "imgDecor1",
            "80": "imgDecor1",
            "81": "imgDecor1",
            "82": "imgDecor1",
            "83": "imgDecor1",
            "84": "imgDecor1",
            "85": "imgDecor1",
            "86": "imgDecor10",
            "90": "imgDecor18",
            "91": "imgDecor1",
            "92": "imgDecor1",
            "93": "imgDecor1",
            "94": "imgDecor1",
            "95": "imgDecor4",
            "104": "imgDecor6",
            "105": "imgDecor1",
            "106": "imgDecor1",
            "107": "imgDecor1",
            "108": "imgDecor1",
            "113": "imgDecor9",
            "114": "imgDecor1",
            "115": "imgDecor1",
            "116": "imgDecor1",
            "117": "imgDecor1",
            "118": "imgDecor1",
            "119": "imgDecor1",
            "120": "imgDecor1",
            "121": "imgDecor1",
            "122": "imgDecor7",
            "126": "imgDecor18",
            "130": "imgDecor11",
            "147": "imgDecor16",
            "157": "imgDecor13",
            "158": "imgDecor11",
            "162": "imgDecor11",
            "169": "imgDecor13",
            "170": "imgDecor11"
        },
        [[60,20]],
        [10, 120]
    ],
    /*8*/[
        18,
        10,
        [
            [
                [
                    1,
                    2,
                    10,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            500,
                            100
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            850,
                            300
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    2,
                    10,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    1.5,
                    5,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            350
                        ],
                        [
                            500,
                            350
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            850,
                            300
                        ]
                    ],
                    4,
                    1
                ],
                [
                    1,
                    5,
                    5,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            500,
                            100
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            850,
                            300
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    2,
                    10,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            500,
                            100
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            850,
                            300
                        ]
                    ],
                    4,
                    1
                ],
                [
                    2,
                    2,
                    5,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            500,
                            100
                        ],
                        [
                            500,
                            300
                        ],
                        [
                            850,
                            300
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    5,
                    10,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    4,
                    10,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    7.5,
                    15,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    1,
                    10,
                    5,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    10,
                    7,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ],
            [
                [
                    2,
                    10,
                    15,
                    [
                        [
                            0,
                            200
                        ],
                        [
                            250,
                            200
                        ],
                        [
                            250,
                            100
                        ],
                        [
                            850,
                            100
                        ]
                    ],
                    4,
                    1
                ]
            ]
        ],
        {
            "8": "imgDecor11",
            "21": "imgDecor11",
            "22": "imgDecor13",
            "31": "imgDecor11",
            "32": "imgDecor13",
            "36": "imgDecor18",
            "39": "imgDecor12",
            "42": "imgDecor8",
            "43": "imgDecor1",
            "44": "imgDecor1",
            "45": "imgDecor1",
            "46": "imgDecor1",
            "47": "imgDecor3",
            "48": "imgDecor1",
            "49": "imgDecor1",
            "50": "imgDecor1",
            "51": "imgDecor1",
            "52": "imgDecor1",
            "53": "imgDecor1",
            "54": "imgDecor1",
            "55": "imgDecor17",
            "60": "imgDecor2",
            "65": "imgDecor2",
            "72": "imgDecor18",
            "73": "imgDecor1",
            "74": "imgDecor1",
            "75": "imgDecor1",
            "76": "imgDecor1",
            "77": "imgDecor1",
            "78": "imgDecor4",
            "83": "imgDecor2",
            "86": "imgDecor16",
            "89": "imgDecor16",
            "96": "imgDecor2",
            "98": "imgDecor14",
            "101": "imgDecor2",
            "105": "imgDecor16",
            "108": "imgDecor18",
            "114": "imgDecor2",
            "118": "imgDecor11",
            "119": "imgDecor6",
            "120": "imgDecor1",
            "121": "imgDecor1",
            "122": "imgDecor1",
            "123": "imgDecor1",
            "124": "imgDecor1",
            "125": "imgDecor1",
            "126": "imgDecor1",
            "129": "imgDecor16",
            "132": "imgDecor9",
            "133": "imgDecor1",
            "134": "imgDecor1",
            "135": "imgDecor1",
            "136": "imgDecor1",
            "137": "imgDecor7",
            "140": "imgDecor16",
            "141": "imgDecor11",
            "144": "imgDecor18",
            "147": "imgDecor12",
            "149": "imgDecor16",
            "151": "imgDecor13",
            "152": "imgDecor16"
        },
        [[65,20]],
        [10, 100]
    ],
],
defense,          /* Защитные башни */
user,             /* Переменная для данных об игроке */
pause = false,    /* Поставлена ли игра на паузу */
gold,             /* Количество золото на поле боя */
waveTime,         /* Счетчик для замера кол-во секунд и отслеживания волн */
wave,             /* Какая волна по счету */
monstersOther,    /* Сколько необходимо убить монстров чтобы волна засчиталась */
monstersKill,     /* Сколько всего убито монстров */
waveMonster,      /* Для подсчета заспавненных монстров */
bloodTime,        /* Замер времени для затенения экрана красным цветом, когда монстр дошел до конца */
monsters = {      /* Существующие типы монстров */

    1: [

        'images/1.gif',
        120
    ],
    2: [
        
        'images/2.gif',
        100
    ],
    3: [
        
        'images/3.gif',
        170
    ],
    4: [
        
        'images/4.gif',
        130
    ],
},
voiceClickTower,  /* Активен ли на поле боя выбор башни */
lvlOpen,          /* Какой уровень сейчас открыт */
view_ads_rew = 0, /* Когда последний раз показывалась реклама, для защиты от накруток */
shopTowers = [    /* Полный список башен */

    [
        60, /* Стоимость на поле боя */
        1.5, /* Начальный урон */
        1.5, /* Перезарядка */
        [ /* style */
            '-60px -72px', /* На поле боя, при нажатии на клетку */
            '-250px -320px', /* В магазине */
            '-83px -100px', /* На поле боя, когда танк поставили */
        ],
        'Начальный танк', /* Название */
        'Выдается бесплатно всем новичкам, атакует одну цель', /* Описание */
        0, /* Стоимость в магазине */
        0, /* Сколько целей атакует 0 - одну, 1 - много */
    ],[
        70, /* Стоимость на поле боя */
        1, /* Начальный урон */
        1.5, /* Перезарядка */
        [ /* style */
            '-153px -35px', /* На поле боя, при нажатии на клетку */
            '-650px -165px', /* В магазине */
            '-210px -47px', /* На поле боя, когда танк поставили */
        ],
        'Боевой танк', /* Название */
        'Выдается бесплатно всем новичкам, атакует много целей', /* Описание */
        0, /* Стоимость в магазине */
        1, /* Сколько целей атакует 0 - одну, 1 - много */
    ],[
        70, /* Стоимость на поле боя */
        2, /* Начальный урон */
        1.0, /* Перезарядка */
        [ /* style */
            '-60px -108px', /* На поле боя, при нажатии на клетку */
            '-260px -480px', /* В магазине */
            '-86px -146px', /* На поле боя, когда танк поставили */
        ],
        'Бронебойный 46', /* Название */
        'Неплохой танк для начала, атакует одну цель', /* Описание */
        150, /* Стоимость в магазине */
        0, /* Сколько целей атакует 0 - одну, 1 - много */
    ],[
        70, /* Стоимость на поле боя */
        4, /* Начальный урон */
        0.6, /* Перезарядка */
        [ /* style */
            '-10px -225px', /* На поле боя, при нажатии на клетку */
            '-35px -980px', /* В магазине */
            '-17px -310px', /* На поле боя, когда танк поставили */
        ],
        'Пустыня', /* Название */
        'Дерзкий как пуля резкий, атакует одну цель', /* Описание */
        200, /* Стоимость в магазине */
        0, /* Сколько целей атакует 0 - одну, 1 - много */
    ],[
        70, /* Стоимость на поле боя */
        6, /* Начальный урон */
        0.8, /* Перезарядка */
        [ /* style */
            '-16px -256px', /* На поле боя, при нажатии на клетку */
            '-60px -1120px', /* В магазине */
            '-25px -353px', /* На поле боя, когда танк поставили */
        ],
        'Тигр 86', /* Название */
        'Атакует много целей, большой урон, то что тебе надо', /* Описание */
        300, /* Стоимость в магазине */
        1, /* Сколько целей атакует 0 - одну, 1 - много */
    ],[
        70, /* Стоимость на поле боя */
        8, /* Начальный урон */
        1, /* Перезарядка */
        [ /* style */
            '-57px -260px', /* На поле боя, при нажатии на клетку */
            '-240px -1130px', /* В магазине */
            '-80px -355px', /* На поле боя, когда танк поставили */
        ],
        'Гипард 22', /* Название */
        'Атакует одну цель, выстрелит - мало не покажется', /* Описание */
        400, /* Стоимость в магазине */
        0, /* Сколько целей атакует 0 - одну, 1 - много */
    ],
],
mode = 'user';    /* Режим */

/* Данные игрока */
vkBridge.send('VKWebAppStorageGet', {keys: ['game']}).then(function (data){

	if (data.keys[0].value != '' && data.keys[0].value != null)
		user = JSON.parse(data.keys[0].value);
	else user = { /* Данные об игроке */

        settings: {

            lang: 'ru'
        },
        star: 0, /* Сколько собрано звёзд */
        location: 1,
        lvl: {

            0: [true, 0] /* Доступна ли 1 локация и на сколько звезд пройдена */
        },
        energyTime: null, /* Когда потратилась энергия */
        bank: {

            money: 0,
            diamond: 0,
            energy: 5
        },
        voiceTowers: [ /* Какие башни выбраны для войны (4 штуки) */

            0, 1
        ],
        towers: [ /* Какие есть башни у игрока */

            [
                1.5,   /* Урон */
                1500, /* Перезарядка */
            ],
            [
                1,   /* Урон */
                1500, /* Перезарядка */
            ],
        ],
        statistics: {

            day: 1 /* Дней в игре */
        }
    }

    vkBridge.send('VKWebAppGetUserInfo', {}).then((data) => { 

        if (data.id){
            // Данные пользователя получены
            it('.userPhoto').css({backgroundImage: `url(${data.photo_200})`});
            it('.userName').html(data.first_name);
        }
    })
    .catch((error) => {
        // Ошибка
        console.log(error);
    });

    /* Восполнение энергии */
    if (user.energyTime != null){

        var t = getTime () - user.energyTime, /* Получаем разрыв во времени */
        recovery_time = 3600,   /* Время восстановления одной энергии */
        max_energy = 5;         /* Максимальное кол-во энергии */
        t = Math.trunc(t / recovery_time);  /* Сколько единиц энергии восстановлено */

        if ((t + user.bank.energy) > max_energy){

            user.bank.energy = max_energy;
            user.energyTime = null;

        } else {

            user.bank.energy += t;
            user.energyTime = user.energyTime + (t * recovery_time);
        }

        saveData ();
    };

    hubGeneration (user.location); /* Отрисовываем локацию в хабе */
    if (d.querySelector('#star')) it('#star').html(user.star);  /* Показываем кол-во звезд у игрока */
    if (d.querySelector('#energy')) it('#energy').html(user.bank.energy); /* Показываем сколько энергии у игрока */
    if (d.querySelector('#moneyHub')) it('#moneyHub').html(user['bank']['money']);


});

fun (()=>{it('#fun-load').remove()});   /* Удаляем картинки после загрузки страницы */
s.onblur = ()=>{if (lvlOpen != null) pauseAndPlay ('pause')}; /* Если вкладки с игрой неактивна - ставим игру на паузу */
    </script>
</html>